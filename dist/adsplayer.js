!function(U,Q){"object"==typeof exports&&"object"==typeof module?module.exports=Q():"function"==typeof define&&define.amd?define("adsplayer",[],Q):"object"==typeof exports?exports.adsplayer=Q():U.adsplayer=Q()}(window,(function(){return function(U){var Q={};function I(B){if(Q[B])return Q[B].exports;var F=Q[B]={i:B,l:!1,exports:{}};return U[B].call(F.exports,F,F.exports,I),F.l=!0,F.exports}return I.m=U,I.c=Q,I.d=function(U,Q,B){I.o(U,Q)||Object.defineProperty(U,Q,{enumerable:!0,get:B})},I.r=function(U){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(U,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(U,"__esModule",{value:!0})},I.t=function(U,Q){if(1&Q&&(U=I(U)),8&Q)return U;if(4&Q&&"object"==typeof U&&U&&U.__esModule)return U;var B=Object.create(null);if(I.r(B),Object.defineProperty(B,"default",{enumerable:!0,value:U}),2&Q&&"string"!=typeof U)for(var F in U)I.d(B,F,function(Q){return U[Q]}.bind(null,F));return B},I.n=function(U){var Q=U&&U.__esModule?function(){return U.default}:function(){return U};return I.d(Q,"a",Q),Q},I.o=function(U,Q){return Object.prototype.hasOwnProperty.call(U,Q)},I.p="",I(I.s=8)}([function(module,exports,__webpack_require__){"use strict";eval("\r\n/*\r\n* The copyright in this software module is being made available under the BSD License, included\r\n* below. This software module may be subject to other third party and/or contributor rights,\r\n* including patent rights, and no such rights are granted under this license.\r\n*\r\n* Copyright (c) 2016, Orange\r\n* All rights reserved.\r\n*\r\n* Redistribution and use in source and binary forms, with or without modification, are permitted\r\n* provided that the following conditions are met:\r\n* - Redistributions of source code must retain the above copyright notice, this list of conditions\r\n*   and the following disclaimer.\r\n* - Redistributions in binary form must reproduce the above copyright notice, this list of\r\n*   conditions and the following disclaimer in the documentation and/or other materials provided\r\n*   with the distribution.\r\n* - Neither the name of Orange nor the names of its contributors may be used to endorse or promote\r\n*   products derived from this software module without specific prior written permission.\r\n*\r\n*\r\n* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS “AS IS” AND ANY EXPRESS OR\r\n* IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\r\n* FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER O\r\n* CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\r\n* DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\r\n* DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\r\n* WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY\r\n* WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nDate.prototype.HHMMSSmmm = function () {\r\n    var h = this.getHours().toString(), m = this.getMinutes().toString(), s = this.getSeconds().toString(), ms = this.getMilliseconds().toString(), HH = h[1] ? h : '0' + h[0], MM = m[1] ? m : '0' + m[0], SS = s[1] ? s : '0' + s[0], mmm = ms[2] ? ms : '0' + (ms[1] ? ms : '0' + ms[0]);\r\n    return HH + ':' + MM + ':' + SS + '.' + mmm;\r\n};\r\nDate.prototype.MMSSmmm = function () {\r\n    var m = this.getMinutes().toString(), s = this.getSeconds().toString(), ms = this.getMilliseconds().toString(), MM = m[1] ? m : '0' + m[0], SS = s[1] ? s : '0' + s[0], mmm = ms[2] ? ms : '0' + (ms[1] ? ms : '0' + ms[0]);\r\n    return MM + ':' + SS + '.' + mmm;\r\n};\r\nvar LOG_LEVEL;\r\n(function (LOG_LEVEL) {\r\n    LOG_LEVEL[LOG_LEVEL[\"NONE\"] = 0] = \"NONE\";\r\n    LOG_LEVEL[LOG_LEVEL[\"ERROR\"] = 1] = \"ERROR\";\r\n    LOG_LEVEL[LOG_LEVEL[\"WARN\"] = 2] = \"WARN\";\r\n    LOG_LEVEL[LOG_LEVEL[\"INFO\"] = 3] = \"INFO\";\r\n    LOG_LEVEL[LOG_LEVEL[\"DEBUG\"] = 4] = \"DEBUG\";\r\n    LOG_LEVEL[LOG_LEVEL[\"ALL\"] = 4] = \"ALL\";\r\n})(LOG_LEVEL = exports.LOG_LEVEL || (exports.LOG_LEVEL = {}));\r\nvar Logger = /** @class */ (function () {\r\n    function Logger() {\r\n        this.level = LOG_LEVEL.ALL;\r\n        this.showTimestamp = true;\r\n        this.showElapsedTime = false;\r\n        this.startTime = new Date();\r\n        this.logger = console;\r\n    }\r\n    // #endregion MEMBERS\r\n    // --------------------------------------------------\r\n    // #region PUBLIC FUNCTIONS\r\n    // --------------------------------------------------\r\n    Logger.getInstance = function () {\r\n        if (this.instance === null) {\r\n            this.instance = new Logger();\r\n        }\r\n        return this.instance;\r\n    };\r\n    Logger.prototype.getLevel = function () {\r\n        return this.level;\r\n    };\r\n    Logger.prototype.setLevel = function (value) {\r\n        this.level = value;\r\n    };\r\n    Logger.prototype.error = function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        this.log(LOG_LEVEL.ERROR, args);\r\n    };\r\n    Logger.prototype.warn = function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        this.log(LOG_LEVEL.WARN, args);\r\n    };\r\n    Logger.prototype.info = function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        this.log(LOG_LEVEL.INFO, args);\r\n    };\r\n    Logger.prototype.debug = function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        this.log(LOG_LEVEL.DEBUG, args);\r\n    };\r\n    // #endregion PUBLIC FUNCTIONS\r\n    // --------------------------------------------------\r\n    // #region PRIVATE FUNCTIONS\r\n    // --------------------------------------------------\r\n    Logger.prototype.getStringLevel = function (level) {\r\n        switch (level) {\r\n            case LOG_LEVEL.NONE:\r\n                return '';\r\n            case LOG_LEVEL.ERROR:\r\n                return 'ERROR';\r\n            case LOG_LEVEL.WARN:\r\n                return 'WARN';\r\n            case LOG_LEVEL.INFO:\r\n                return 'INFO';\r\n            case LOG_LEVEL.DEBUG:\r\n            case LOG_LEVEL.ALL:\r\n                return 'DEBUG';\r\n            default:\r\n                return '';\r\n        }\r\n    };\r\n    Logger.prototype.prepareLog = function (logLevel) {\r\n        var args = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            args[_i - 1] = arguments[_i];\r\n        }\r\n        var message = '', logTime = new Date();\r\n        if (this.showTimestamp) {\r\n            message += '[' + logTime.HHMMSSmmm() + ']';\r\n        }\r\n        if (this.logger && this.logger.showLevel) {\r\n            message += '[' + this.getStringLevel(logLevel) + ']';\r\n        }\r\n        if (this.showElapsedTime) {\r\n            message += '[' + new Date(logTime.getTime() - this.startTime.getTime()).MMSSmmm() + ']';\r\n        }\r\n        message += '[AdsPlayer] ';\r\n        Array.apply(null, args).forEach(function (item) {\r\n            message += item + ' ';\r\n        });\r\n        return message;\r\n    };\r\n    Logger.prototype.log = function (logLevel) {\r\n        var args = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            args[_i - 1] = arguments[_i];\r\n        }\r\n        if (logLevel > this.getLevel()) {\r\n            return;\r\n        }\r\n        var message = this.prepareLog(logLevel, args);\r\n        switch (logLevel) {\r\n            case LOG_LEVEL.ERROR:\r\n                this.logger.error(message);\r\n                break;\r\n            case LOG_LEVEL.WARN:\r\n                this.logger.warn(message);\r\n                break;\r\n            case LOG_LEVEL.INFO:\r\n                this.logger.info(message);\r\n                break;\r\n            case LOG_LEVEL.DEBUG:\r\n                this.logger.debug(message);\r\n                break;\r\n        }\r\n    };\r\n    // #region MEMBERS\r\n    // --------------------------------------------------\r\n    Logger.instance = null;\r\n    return Logger;\r\n}());\r\nexports.Logger = Logger;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hZHNwbGF5ZXIvLi9zcmMvbGliL0xvZ2dlci50cz9iYTVmIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0VBMkJFOztBQVlGLElBQUksQ0FBQyxTQUFTLENBQUMsU0FBUyxHQUFHO0lBQ3ZCLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQyxRQUFRLEVBQUUsRUFDOUIsQ0FBQyxHQUFHLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQyxRQUFRLEVBQUUsRUFDaEMsQ0FBQyxHQUFHLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQyxRQUFRLEVBQUUsRUFDaEMsRUFBRSxHQUFHLElBQUksQ0FBQyxlQUFlLEVBQUUsQ0FBQyxRQUFRLEVBQUUsRUFDdEMsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUMxQixFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQzFCLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFDMUIsR0FBRyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBRXhELE9BQU8sRUFBRSxHQUFHLEdBQUcsR0FBRyxFQUFFLEdB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TTtZQUNWLEtBQUssU0FBUyxDQUFDLEtBQUs7Z0JBQ2hCLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDO2dCQUMzQixNQUFNO1NBQ2I7SUFDTCxDQUFDO0lBN0hELGtCQUFrQjtJQUNsQixxREFBcUQ7SUFFdEMsZUFBUSxHQUFXLElBQUksQ0FBQztJQThIM0MsYUFBQztDQUFBO0FBbklZLHdCQUFNIiwiZmlsZSI6IjAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxyXG4qIFRoZSBjb3B5cmlnaHQgaW4gdGhpcyBzb2Z0d2FyZSBtb2R1bGUgaXMgYmVpbmcgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlIEJTRCBMaWNlbnNlLCBpbmNsdWRlZFxyXG4qIGJlbG93LiBUaGlzIHNvZnR3YXJlIG1vZHVsZSBtYXkgYmUgc3ViamVjdCB0byBvdGhlciB0aGlyZCBwYXJ0eSBhbmQvb3IgY29udHJpYnV0b3IgcmlnaHRzLFxyXG4qIGluY2x1ZGluZyBwYXRlbnQgcmlnaHRzLCBhbmQgbm8gc3VjaCByaWdodHMgYXJlIGdyYW50ZWQgdW5kZXIgdGhpcyBsaWNlbnNlLlxyXG4qXHJcbiogQ29weXJpZ2h0IChjKSAyMDE2LCBPcmFuZ2VcclxuKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4qXHJcbiogUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0IG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZFxyXG4qIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZSBtZXQ6XHJcbiogLSBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zXHJcbiogICBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxyXG4qIC0gUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLCB0aGlzIGxpc3Qgb2ZcclxuKiAgIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lciBpbiB0aGUgZG9jdW1lbnRhdGlvbiBhbmQvb3Igb3RoZXIgbWF0ZXJpYWxzIHByb3ZpZGVkXHJcbiogICB3aXRoIHRoZSBkaXN0cmlidXRpb24uXHJcbiogLSBOZWl0aGVyIHRoZSBuYW1lIG9mIE9yYW5nZSBub3IgdGhlIG5hbWVzIG9mIGl0cyBjb250cmlidXRvcnMgbWF5IGJlIHVzZWQgdG8gZW5kb3JzZSBvciBwcm9tb3RlXHJcbiogICBwcm9kdWN0cyBkZXJpdmVkIGZyb20gdGhpcyBzb2Z0d2FyZSBtb2R1bGUgd2l0aG91dCBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXHJcbipcclxuKlxyXG4qIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlMg4oCcQVMgSVPigJ0gQU5EIEFOWSBFWFBSRVNTIE9SXHJcbiogSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgVEhFIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EXHJcbiogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQVJFIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFQgSE9MREVSIE9cclxuKiBDT05UUklCVVRPUlMgQkUgTElBQkxFIEZPUiBBTlkgRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCwgU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMXHJcbiogREFNQUdFUyAoSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLFxyXG4qIERBVEEsIE9SIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWSBUSEVPUlkgT0YgTElBQklMSVRZLFxyXG4qIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlQgKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSkgQVJJU0lORyBJTiBBTllcclxuKiBXQVkgT1VUIE9GIFRIRSBVU0UgT0YgVEhJUyBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cclxuKi9cclxuXHJcbi8qKlxyXG4qIERhdGUgcHJvcm90eXBlIGV4dGVuc2lvblxyXG4qL1xyXG5kZWNsYXJlIGdsb2JhbCB7XHJcbiAgICBpbnRlcmZhY2UgRGF0ZSB7XHJcbiAgICAgICAgSEhNTVNTbW1tKCk6IHN0cmluZztcclxuICAgICAgICBNTVNTbW1tKCk6IHN0cmluZztcclxuICAgIH1cclxuICB9XHJcbiAgXHJcbkRhdGUucHJvdG90eXBlLkhITU1TU21tbSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgbGV0IGggPSB0aGlzLmdldEhvdXJzKCkudG9TdHJpbmcoKSxcclxuICAgICAgICBtID0gdGhpcy5nZXRNaW51dGVzKCkudG9TdHJpbmcoKSxcclxuICAgICAgICBzID0gdGhpcy5nZXRTZWNvbmRzKCkudG9TdHJpbmcoKSxcclxuICAgICAgICBtcyA9IHRoaXMuZ2V0TWlsbGlzZWNvbmRzKCkudG9TdHJpbmcoKSxcclxuICAgICAgICBISCA9IGhbMV0gPyBoIDogJzAnICsgaFswXSxcclxuICAgICAgICBNTSA9IG1bMV0gPyBtIDogJzAnICsgbVswXSxcclxuICAgICAgICBTUyA9IHNbMV0gPyBzIDogJzAnICsgc1swXSxcclxuICAgICAgICBtbW0gPSBtc1syXSA/IG1zIDogJzAnICsgKG1zWzFdID8gbXMgOiAnMCcgKyBtc1swXSk7XHJcblxyXG4gICAgcmV0dXJuIEhIICsgJzonICsgTU0gKyAnOicgKyBTUyArICcuJyArIG1tbTtcclxufTtcclxuXHJcbkRhdGUucHJvdG90eXBlLk1NU1NtbW0gPSBmdW5jdGlvbigpIHtcclxuICAgIGxldCBtID0gdGhpcy5nZXRNaW51dGVzKCkudG9TdHJpbmcoKSxcclxuICAgICAgICBzID0gdGhpcy5nZXRTZWNvbmRzKCkudG9TdHJpbmcoKSxcclxuICAgICAgICBtcyA9IHRoaXMuZ2V0TWlsbGlzZWNvbmRzKCkudG9TdHJpbmcoKSxcclxuICAgICAgICBNTSA9IG1bMV0gPyBtIDogJzAnICsgbVswXSxcclxuICAgICAgICBTUyA9IHNbMV0gPyBzIDogJzAnICsgc1swXSxcclxuICAgICAgICBtbW0gPSBtc1syXSA/IG1zIDogJzAnICsgKG1zWzFdID8gbXMgOiAnMCcgKyBtc1swXSk7XHJcblxyXG4gICAgcmV0dXJuIE1NICsgJzonICsgU1MgKyAnLicgKyBtbW07XHJcbn07XHJcblxyXG5cclxuZXhwb3J0IGVudW0gTE9HX0xFVkVMIHtcclxuICAgIE5PTkUgPSAwLFxyXG4gICAgRVJST1IgPSAxLFxyXG4gICAgV0FSTiA9IDIsXHJcbiAgICBJTkZPID0gMyxcclxuICAgIERFQlVHID0gNCxcclxuICAgIEFMTCA9IDQsXHJcbn0gIFxyXG5cclxuZXhwb3J0IGNsYXNzIExvZ2dlciB7XHJcblxyXG4gICAgLy8gI3JlZ2lvbiBNRU1CRVJTXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIGluc3RhbmNlOiBMb2dnZXIgPSBudWxsO1xyXG5cclxuICAgIGxldmVsOiBMT0dfTEVWRUw7XHJcbiAgICBzaG93VGltZXN0YW1wOiBib29sZWFuO1xyXG4gICAgc2hvd0VsYXBzZWRUaW1lOiBib29sZWFuO1xyXG4gICAgc3RhcnRUaW1lOiBEYXRlO1xyXG4gICAgbG9nZ2VyOiBhbnk7XHJcblxyXG4gICAgLy8gI2VuZHJlZ2lvbiBNRU1CRVJTXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgIC8vICNyZWdpb24gUFVCTElDIEZVTkNUSU9OU1xyXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgICBzdGF0aWMgZ2V0SW5zdGFuY2UoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaW5zdGFuY2UgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZSA9IG5ldyBMb2dnZXIoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdGFuY2U7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5sZXZlbCA9IExPR19MRVZFTC5BTEw7XHJcbiAgICAgICAgdGhpcy5zaG93VGltZXN0YW1wID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnNob3dFbGFwc2VkVGltZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuc3RhcnRUaW1lID0gbmV3IERhdGUoKTtcclxuICAgICAgICB0aGlzLmxvZ2dlciA9IGNvbnNvbGU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0TGV2ZWwgKCk6IExPR19MRVZFTCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubGV2ZWw7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0TGV2ZWwgKHZhbHVlOiBMT0dfTEVWRUwpIHtcclxuICAgICAgICB0aGlzLmxldmVsID0gdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgZXJyb3IoLi4uYXJnczogYW55W10pIHtcclxuICAgICAgICB0aGlzLmxvZyhMT0dfTEVWRUwuRVJST1IsIGFyZ3MpO1xyXG4gICAgfVxyXG5cclxuICAgIHdhcm4gKC4uLmFyZ3M6IGFueVtdKSB7XHJcbiAgICAgICAgdGhpcy5sb2coTE9HX0xFVkVMLldBUk4sIGFyZ3MpO1xyXG4gICAgfVxyXG5cclxuICAgIGluZm8gKC4uLmFyZ3M6IGFueVtdKSB7XHJcbiAgICAgICAgdGhpcy5sb2coTE9HX0xFVkVMLklORk8sIGFyZ3MpO1xyXG4gICAgfVxyXG5cclxuICAgIGRlYnVnICguLi5hcmdzOiBhbnlbXSkge1xyXG4gICAgICAgIHRoaXMubG9nKExPR19MRVZFTC5ERUJVRywgYXJncyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gI2VuZHJlZ2lvbiBQVUJMSUMgRlVOQ1RJT05TXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuXHJcbiAgICAvLyAjcmVnaW9uIFBSSVZBVEUgRlVOQ1RJT05TXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgIGdldFN0cmluZ0xldmVsKGxldmVsKSB7XHJcbiAgICAgICAgc3dpdGNoIChsZXZlbCkge1xyXG4gICAgICAgICAgICBjYXNlIExPR19MRVZFTC5OT05FOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgICAgICAgICBjYXNlIExPR19MRVZFTC5FUlJPUjpcclxuICAgICAgICAgICAgICAgIHJldHVybiAnRVJST1InO1xyXG4gICAgICAgICAgICBjYXNlIExPR19MRVZFTC5XQVJOOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICdXQVJOJztcclxuICAgICAgICAgICAgY2FzZSBMT0dfTEVWRUwuSU5GTzpcclxuICAgICAgICAgICAgICAgIHJldHVybiAnSU5GTyc7XHJcbiAgICAgICAgICAgIGNhc2UgTE9HX0xFVkVMLkRFQlVHOlxyXG4gICAgICAgICAgICBjYXNlIExPR19MRVZFTC5BTEw6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ0RFQlVHJztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJlcGFyZUxvZyhsb2dMZXZlbCwgLi4uYXJnczogYW55W10pIHtcclxuICAgICAgICBsZXQgbWVzc2FnZSA9ICcnLFxyXG4gICAgICAgICAgICBsb2dUaW1lID0gbmV3IERhdGUoKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc2hvd1RpbWVzdGFtcCkge1xyXG4gICAgICAgICAgICBtZXNzYWdlICs9ICdbJyArIGxvZ1RpbWUuSEhNTVNTbW1tKCkgKyAnXSc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5sb2dnZXIgJiYgdGhpcy5sb2dnZXIuc2hvd0xldmVsKSB7XHJcbiAgICAgICAgICAgIG1lc3NhZ2UgKz0gJ1snICsgdGhpcy5nZXRTdHJpbmdMZXZlbChsb2dMZXZlbCkgKyAnXSc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5zaG93RWxhcHNlZFRpbWUpIHtcclxuICAgICAgICAgICAgbWVzc2FnZSArPSAnWycgKyBuZXcgRGF0ZShsb2dUaW1lLmdldFRpbWUoKSAtIHRoaXMuc3RhcnRUaW1lLmdldFRpbWUoKSkuTU1TU21tbSgpICsgJ10nO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbWVzc2FnZSArPSAnW0Fkc1BsYXllcl0gJztcclxuXHJcbiAgICAgICAgQXJyYXkuYXBwbHkobnVsbCwgYXJncykuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XHJcbiAgICAgICAgICAgIG1lc3NhZ2UgKz0gaXRlbSArICcgJztcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XHJcbiAgICB9XHJcblxyXG4gICAgbG9nIChsb2dMZXZlbDogTE9HX0xFVkVMLCAuLi5hcmdzOiBhbnlbXSkge1xyXG4gICAgICAgIGlmIChsb2dMZXZlbCA+IHRoaXMuZ2V0TGV2ZWwoKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBtZXNzYWdlID0gdGhpcy5wcmVwYXJlTG9nKGxvZ0xldmVsLCBhcmdzKTtcclxuICAgICAgICBzd2l0Y2ggKGxvZ0xldmVsKSB7XHJcbiAgICAgICAgICAgIGNhc2UgTE9HX0xFVkVMLkVSUk9SOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IobWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBMT0dfTEVWRUwuV0FSTjpcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4obWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBMT0dfTEVWRUwuSU5GTzpcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8obWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBMT0dfTEVWRUwuREVCVUc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhtZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyAjZW5kcmVnaW9uIFBSSVZBVEUgRlVOQ1RJT05TXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///0\n")},function(module,exports,__webpack_require__){"use strict";eval('\r\n/*\r\n* The copyright in this software module is being made available under the BSD License, included\r\n* below. This software module may be subject to other third party and/or contributor rights,\r\n* including patent rights, and no such rights are granted under this license.\r\n*\r\n* Copyright (c) 2016, Orange\r\n* All rights reserved.\r\n*\r\n* Redistribution and use in source and binary forms, with or without modification, are permitted\r\n* provided that the following conditions are met:\r\n* - Redistributions of source code must retain the above copyright notice, this list of conditions\r\n*   and the following disclaimer.\r\n* - Redistributions in binary form must reproduce the above copyright notice, this list of\r\n*   conditions and the following disclaimer in the documentation and/or other materials provided\r\n*   with the distribution.\r\n* - Neither the name of Orange nor the names of its contributors may be used to endorse or promote\r\n*   products derived from this software module without specific prior written permission.\r\n*\r\n*\r\n* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS “AS IS” AND ANY EXPRESS OR\r\n* IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\r\n* FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER O\r\n* CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\r\n* DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\r\n* DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\r\n* WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY\r\n* WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n*/\r\nObject.defineProperty(exports, "__esModule", { value: true });\r\nvar EventTypes;\r\n(function (EventTypes) {\r\n    /**\r\n     * The \'start\' event is fired when the playback of ad(s) is starting.\r\n     * When the \'start\' event is fired, the application shall hide the main player component and\r\n     * display the ads player container in which the ad media player component(s) will be created\r\n     * and displayed.\r\n     * <br/>Event data properties:\r\n     * @event START\r\n     * @property <b>id</b>: string - the ad id\r\n     * @property <b>duration</b>: number - the ad duration (duration of all clips contained in the ad break)\r\n     * @property <b>currentTime</b>: number - the main video element current time\r\n     * @property <b>ended</b>: boolean - the main video element ended state (true in case of end-roll ad)\r\n     */\r\n    EventTypes["START"] = "start";\r\n    /**\r\n     * The \'end\' event is fired when the playback of ad(s) has ended.\r\n     * When the \'end\' event is fired, the application shall display the main player component and\r\n     * hide the ads player container.\r\n     * @event END\r\n     */\r\n    EventTypes["END"] = "end";\r\n    /**\r\n     * The \'addElement\' event is fired when a DOM element for playing an ad has been created\r\n     * and appended in the ads player container.\r\n     * The element can be either a &lt;video&gt; or an &lt;img&gt; element.\r\n     * <br/>Event data properties:\r\n     * @event ADD_ELEMENT\r\n     * @property <b>element</b>: HTMLElement - the created element\r\n     * @property <b>type</b>: string - the type of the element, \'video\' for &lt;video&gt; or \'image\' for &lt;img&gt;\r\n     */\r\n    EventTypes["ADD_ELEMENT"] = "addElement";\r\n    /**\r\n     * The \'removeElement\' event is fired when the DOM element for playing an ad is being removed\r\n     * from the ads player container and deleted.\r\n     * <br/>Event data properties:\r\n     * @event REMOVE_ELEMENT\r\n     * @property <b>element</b>: HTMLElement - the removed element\r\n     * @property <b>type</b>: string - the type of the element, \'video\' for &lt;video&gt; or \'image\' for &lt;img&gt;\r\n     */\r\n    EventTypes["REMOVE_ELEMENT"] = "removeElement";\r\n    /**\r\n     * The \'creativeStart\' event is fired when a creative starts to play\r\n     * <br/>Event data properties:\r\n     * @event CREATIVE_START\r\n     * @property <b>mediaType</b>: string - the creative media type (\'audio\' or \'video\')\r\n     * @property <b>duration</b>: number - the media duration\r\n     * @property <b>clickThroughUrl</b>: string - the click through url\r\n     */\r\n    EventTypes["CREATIVE_START"] = "creativeStart";\r\n    /**\r\n     * The \'creativeEnd\' event is fired when a creative ended\r\n     * <br/>Event data properties:\r\n     * @event CREATIVE_END\r\n     */\r\n    EventTypes["CREATIVE_END"] = "creativeEnd";\r\n    /**\r\n     * The \'play\' event is fired when the playback of media ad is starting.\r\n     * @event PLAY\r\n     */\r\n    EventTypes["PLAY"] = "play";\r\n    /**\r\n     * The \'pause\' event is fired when the playback of an ad is paused.\r\n     * @event PAUSE\r\n     */\r\n    EventTypes["PAUSE"] = "pause";\r\n    /**\r\n     * The \'timeUpdate\' event is fired when the current ad playback time has been updated.\r\n     * @event TIMEUPDATE\r\n     * @property <b>currentTime</b>: number - the current time\r\n     */\r\n    EventTypes["TIMEUPDATE"] = "timeUpdate";\r\n    /**\r\n     * The \'click\' event is fired when a click has been performed on the ad component.\r\n     * When the \'click\' event is fired, the application shall open the web page with the provided URI.\r\n     * <br/>Event data properties:\r\n     * @event CLICK\r\n     * @property <b>uri</b>: string - the web page uri\r\n     */\r\n    EventTypes["CLICK"] = "click";\r\n    /**\r\n     * The error event is fired when an error occurs.\r\n     * <br/>Event data properties:\r\n     * @event ERROR\r\n     * @property <b>code</b>: number - the error code\r\n     * @property <b>message</b>: string - the error message\r\n     * @property <b>data</b>: object -  error additionnal data\r\n     */\r\n    EventTypes["ERROR"] = "error";\r\n})(EventTypes = exports.EventTypes || (exports.EventTypes = {}));\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hZHNwbGF5ZXIvLi9zcmMvRXZlbnRzLnRzP2MyNjEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7RUEyQkU7O0FBVUYsSUFBWSxVQW1HWDtBQW5HRCxXQUFZLFVBQVU7SUFFbEI7Ozs7Ozs7Ozs7O09BV0c7SUFDSCw2QkFBZTtJQUVmOzs7OztPQUtHO0lBQ0gseUJBQVc7SUFFWDs7Ozs7Ozs7T0FRRztJQUNILHdDQUEwQjtJQUUxQjs7Ozs7OztPQU9HO0lBQ0gsOENBQWdDO0lBRWhDOzs7Ozs7O09BT0c7SUFDSCw4Q0FBZ0M7SUFFaEM7Ozs7T0FJRztJQUNILDBDQUE0QjtJQUU1Qjs7O09BR0c7SUFDSCwyQkFBYTtJQUViOzs7T0FHRztJQUNILDZCQUFlO0lBRWY7Ozs7T0FJRztJQUNILHVDQUF5QjtJQUV6Qjs7Ozs7O09BTUc7SUFDSCw2QkFBZTtJQUVmOzs7Ozs7O09BT0c7SUFDSCw2QkFBZTtBQUNuQixDQUFDLEVBbkdXLFVBQVUsR0FBVixrQkFBVSxLQUFWLGtCQUFVLFFBbUdyQiIsImZpbGUiOiIxLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbi8qXHJcbiogVGhlIGNvcHlyaWdodCBpbiB0aGlzIHNvZnR3YXJlIG1vZHVsZSBpcyBiZWluZyBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgQlNEIExpY2Vuc2UsIGluY2x1ZGVkXHJcbiogYmVsb3cuIFRoaXMgc29mdHdhcmUgbW9kdWxlIG1heSBiZSBzdWJqZWN0IHRvIG90aGVyIHRoaXJkIHBhcnR5IGFuZC9vciBjb250cmlidXRvciByaWdodHMsXHJcbiogaW5jbHVkaW5nIHBhdGVudCByaWdodHMsIGFuZCBubyBzdWNoIHJpZ2h0cyBhcmUgZ3JhbnRlZCB1bmRlciB0aGlzIGxpY2Vuc2UuXHJcbipcclxuKiBDb3B5cmlnaHQgKGMpIDIwMTYsIE9yYW5nZVxyXG4qIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbipcclxuKiBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXQgbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkXHJcbiogcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlIG1ldDpcclxuKiAtIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnNcclxuKiAgIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXHJcbiogLSBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdCBvZlxyXG4qICAgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZSBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWRcclxuKiAgIHdpdGggdGhlIGRpc3RyaWJ1dGlvbi5cclxuKiAtIE5laXRoZXIgdGhlIG5hbWUgb2YgT3JhbmdlIG5vciB0aGUgbmFtZXMgb2YgaXRzIGNvbnRyaWJ1dG9ycyBtYXkgYmUgdXNlZCB0byBlbmRvcnNlIG9yIHByb21vdGVcclxuKiAgIHByb2R1Y3RzIGRlcml2ZWQgZnJvbSB0aGlzIHNvZnR3YXJlIG1vZHVsZSB3aXRob3V0IHNwZWNpZmljIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi5cclxuKlxyXG4qXHJcbiogVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SUyDigJxBUyBJU+KAnSBBTkQgQU5ZIEVYUFJFU1MgT1JcclxuKiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkRcclxuKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVCBIT0xERVIgT1xyXG4qIENPTlRSSUJVVE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLCBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUxcclxuKiBEQU1BR0VTIChJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsXHJcbiogREFUQSwgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZIFRIRU9SWSBPRiBMSUFCSUxJVFksXHJcbiogV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVCAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWVxyXG4qIFdBWSBPVVQgT0YgVEhFIFVTRSBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxyXG4qL1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBFdmVudCB7XHJcbiAgICAvKiogVGhlIGV2ZW50IHR5cGUgKi9cclxuICAgIHR5cGU6IEV2ZW50VHlwZXMsXHJcblxyXG4gICAgLyoqIFRoZSBldmVudCBkYXRhLiBSZWZlciB0byBlYWNoIGV2ZW50IHR5cGUgKHtAbGluayBFdmVudFR5cGVzfSkgdG8gZ2V0IHRoZSBkYXRhIG9iamVjdCBwcm9wZXJ0aWVzIGRlc2NyaXB0aW9uICovXHJcbiAgICBkYXRhPzogb2JqZWN0XHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIEV2ZW50VHlwZXMge1xyXG4gICAgXHJcbiAgICAvKipcclxuICAgICAqIFRoZSAnc3RhcnQnIGV2ZW50IGlzIGZpcmVkIHdoZW4gdGhlIHBsYXliYWNrIG9mIGFkKHMpIGlzIHN0YXJ0aW5nLlxyXG4gICAgICogV2hlbiB0aGUgJ3N0YXJ0JyBldmVudCBpcyBmaXJlZCwgdGhlIGFwcGxpY2F0aW9uIHNoYWxsIGhpZGUgdGhlIG1haW4gcGxheWVyIGNvbXBvbmVudCBhbmRcclxuICAgICAqIGRpc3BsYXkgdGhlIGFkcyBwbGF5ZXIgY29udGFpbmVyIGluIHdoaWNoIHRoZSBhZCBtZWRpYSBwbGF5ZXIgY29tcG9uZW50KHMpIHdpbGwgYmUgY3JlYXRlZFxyXG4gICAgICogYW5kIGRpc3BsYXllZC5cclxuICAgICAqIDxici8+RXZlbnQgZGF0YSBwcm9wZXJ0aWVzOlxyXG4gICAgICogQGV2ZW50IFNUQVJUXHJcbiAgICAgKiBAcHJvcGVydHkgPGI+aWQ8L2I+OiBzdHJpbmcgLSB0aGUgYWQgaWRcclxuICAgICAqIEBwcm9wZXJ0eSA8Yj5kdXJhdGlvbjwvYj46IG51bWJlciAtIHRoZSBhZCBkdXJhdGlvbiAoZHVyYXRpb24gb2YgYWxsIGNsaXBzIGNvbnRhaW5lZCBpbiB0aGUgYWQgYnJlYWspXHJcbiAgICAgKiBAcHJvcGVydHkgPGI+Y3VycmVudFRpbWU8L2I+OiBudW1iZXIgLSB0aGUgbWFpbiB2aWRlbyBlbGVtZW50IGN1cnJlbnQgdGltZVxyXG4gICAgICogQHByb3BlcnR5IDxiPmVuZGVkPC9iPjogYm9vbGVhbiAtIHRoZSBtYWluIHZpZGVvIGVsZW1lbnQgZW5kZWQgc3RhdGUgKHRydWUgaW4gY2FzZSBvZiBlbmQtcm9sbCBhZClcclxuICAgICAqL1xyXG4gICAgU1RBUlQgPSAnc3RhcnQnLFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlICdlbmQnIGV2ZW50IGlzIGZpcmVkIHdoZW4gdGhlIHBsYXliYWNrIG9mIGFkKHMpIGhhcyBlbmRlZC5cclxuICAgICAqIFdoZW4gdGhlICdlbmQnIGV2ZW50IGlzIGZpcmVkLCB0aGUgYXBwbGljYXRpb24gc2hhbGwgZGlzcGxheSB0aGUgbWFpbiBwbGF5ZXIgY29tcG9uZW50IGFuZFxyXG4gICAgICogaGlkZSB0aGUgYWRzIHBsYXllciBjb250YWluZXIuXHJcbiAgICAgKiBAZXZlbnQgRU5EXHJcbiAgICAgKi9cclxuICAgIEVORCA9ICdlbmQnLFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlICdhZGRFbGVtZW50JyBldmVudCBpcyBmaXJlZCB3aGVuIGEgRE9NIGVsZW1lbnQgZm9yIHBsYXlpbmcgYW4gYWQgaGFzIGJlZW4gY3JlYXRlZFxyXG4gICAgICogYW5kIGFwcGVuZGVkIGluIHRoZSBhZHMgcGxheWVyIGNvbnRhaW5lci5cclxuICAgICAqIFRoZSBlbGVtZW50IGNhbiBiZSBlaXRoZXIgYSAmbHQ7dmlkZW8mZ3Q7IG9yIGFuICZsdDtpbWcmZ3Q7IGVsZW1lbnQuXHJcbiAgICAgKiA8YnIvPkV2ZW50IGRhdGEgcHJvcGVydGllczpcclxuICAgICAqIEBldmVudCBBRERfRUxFTUVOVFxyXG4gICAgICogQHByb3BlcnR5IDxiPmVsZW1lbnQ8L2I+OiBIVE1MRWxlbWVudCAtIHRoZSBjcmVhdGVkIGVsZW1lbnRcclxuICAgICAqIEBwcm9wZXJ0eSA8Yj50eXBlPC9iPjogc3RyaW5nIC0gdGhlIHR5cGUgb2YgdGhlIGVsZW1lbnQsICd2aWRlbycgZm9yICZsdDt2aWRlbyZndDsgb3IgJ2ltYWdlJyBmb3IgJmx0O2ltZyZndDtcclxuICAgICAqL1xyXG4gICAgQUREX0VMRU1FTlQgPSAnYWRkRWxlbWVudCcsXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgJ3JlbW92ZUVsZW1lbnQnIGV2ZW50IGlzIGZpcmVkIHdoZW4gdGhlIERPTSBlbGVtZW50IGZvciBwbGF5aW5nIGFuIGFkIGlzIGJlaW5nIHJlbW92ZWRcclxuICAgICAqIGZyb20gdGhlIGFkcyBwbGF5ZXIgY29udGFpbmVyIGFuZCBkZWxldGVkLlxyXG4gICAgICogPGJyLz5FdmVudCBkYXRhIHByb3BlcnRpZXM6XHJcbiAgICAgKiBAZXZlbnQgUkVNT1ZFX0VMRU1FTlRcclxuICAgICAqIEBwcm9wZXJ0eSA8Yj5lbGVtZW50PC9iPjogSFRNTEVsZW1lbnQgLSB0aGUgcmVtb3ZlZCBlbGVtZW50XHJcbiAgICAgKiBAcHJvcGVydHkgPGI+dHlwZTwvYj46IHN0cmluZyAtIHRoZSB0eXBlIG9mIHRoZSBlbGVtZW50LCAndmlkZW8nIGZvciAmbHQ7dmlkZW8mZ3Q7IG9yICdpbWFnZScgZm9yICZsdDtpbWcmZ3Q7XHJcbiAgICAgKi9cclxuICAgIFJFTU9WRV9FTEVNRU5UID0gJ3JlbW92ZUVsZW1lbnQnLFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlICdjcmVhdGl2ZVN0YXJ0JyBldmVudCBpcyBmaXJlZCB3aGVuIGEgY3JlYXRpdmUgc3RhcnRzIHRvIHBsYXlcclxuICAgICAqIDxici8+RXZlbnQgZGF0YSBwcm9wZXJ0aWVzOlxyXG4gICAgICogQGV2ZW50IENSRUFUSVZFX1NUQVJUXHJcbiAgICAgKiBAcHJvcGVydHkgPGI+bWVkaWFUeXBlPC9iPjogc3RyaW5nIC0gdGhlIGNyZWF0aXZlIG1lZGlhIHR5cGUgKCdhdWRpbycgb3IgJ3ZpZGVvJylcclxuICAgICAqIEBwcm9wZXJ0eSA8Yj5kdXJhdGlvbjwvYj46IG51bWJlciAtIHRoZSBtZWRpYSBkdXJhdGlvblxyXG4gICAgICogQHByb3BlcnR5IDxiPmNsaWNrVGhyb3VnaFVybDwvYj46IHN0cmluZyAtIHRoZSBjbGljayB0aHJvdWdoIHVybFxyXG4gICAgICovXHJcbiAgICBDUkVBVElWRV9TVEFSVCA9ICdjcmVhdGl2ZVN0YXJ0JyxcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSAnY3JlYXRpdmVFbmQnIGV2ZW50IGlzIGZpcmVkIHdoZW4gYSBjcmVhdGl2ZSBlbmRlZFxyXG4gICAgICogPGJyLz5FdmVudCBkYXRhIHByb3BlcnRpZXM6XHJcbiAgICAgKiBAZXZlbnQgQ1JFQVRJVkVfRU5EXHJcbiAgICAgKi9cclxuICAgIENSRUFUSVZFX0VORCA9ICdjcmVhdGl2ZUVuZCcsXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgJ3BsYXknIGV2ZW50IGlzIGZpcmVkIHdoZW4gdGhlIHBsYXliYWNrIG9mIG1lZGlhIGFkIGlzIHN0YXJ0aW5nLlxyXG4gICAgICogQGV2ZW50IFBMQVlcclxuICAgICAqL1xyXG4gICAgUExBWSA9ICdwbGF5JyxcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSAncGF1c2UnIGV2ZW50IGlzIGZpcmVkIHdoZW4gdGhlIHBsYXliYWNrIG9mIGFuIGFkIGlzIHBhdXNlZC5cclxuICAgICAqIEBldmVudCBQQVVTRVxyXG4gICAgICovXHJcbiAgICBQQVVTRSA9ICdwYXVzZScsXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgJ3RpbWVVcGRhdGUnIGV2ZW50IGlzIGZpcmVkIHdoZW4gdGhlIGN1cnJlbnQgYWQgcGxheWJhY2sgdGltZSBoYXMgYmVlbiB1cGRhdGVkLlxyXG4gICAgICogQGV2ZW50IFRJTUVVUERBVEVcclxuICAgICAqIEBwcm9wZXJ0eSA8Yj5jdXJyZW50VGltZTwvYj46IG51bWJlciAtIHRoZSBjdXJyZW50IHRpbWVcclxuICAgICAqL1xyXG4gICAgVElNRVVQREFURSA9ICd0aW1lVXBkYXRlJyxcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSAnY2xpY2snIGV2ZW50IGlzIGZpcmVkIHdoZW4gYSBjbGljayBoYXMgYmVlbiBwZXJmb3JtZWQgb24gdGhlIGFkIGNvbXBvbmVudC5cclxuICAgICAqIFdoZW4gdGhlICdjbGljaycgZXZlbnQgaXMgZmlyZWQsIHRoZSBhcHBsaWNhdGlvbiBzaGFsbCBvcGVuIHRoZSB3ZWIgcGFnZSB3aXRoIHRoZSBwcm92aWRlZCBVUkkuXHJcbiAgICAgKiA8YnIvPkV2ZW50IGRhdGEgcHJvcGVydGllczpcclxuICAgICAqIEBldmVudCBDTElDS1xyXG4gICAgICogQHByb3BlcnR5IDxiPnVyaTwvYj46IHN0cmluZyAtIHRoZSB3ZWIgcGFnZSB1cmlcclxuICAgICAqL1xyXG4gICAgQ0xJQ0sgPSAnY2xpY2snLFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIGVycm9yIGV2ZW50IGlzIGZpcmVkIHdoZW4gYW4gZXJyb3Igb2NjdXJzLlxyXG4gICAgICogPGJyLz5FdmVudCBkYXRhIHByb3BlcnRpZXM6XHJcbiAgICAgKiBAZXZlbnQgRVJST1JcclxuICAgICAqIEBwcm9wZXJ0eSA8Yj5jb2RlPC9iPjogbnVtYmVyIC0gdGhlIGVycm9yIGNvZGVcclxuICAgICAqIEBwcm9wZXJ0eSA8Yj5tZXNzYWdlPC9iPjogc3RyaW5nIC0gdGhlIGVycm9yIG1lc3NhZ2VcclxuICAgICAqIEBwcm9wZXJ0eSA8Yj5kYXRhPC9iPjogb2JqZWN0IC0gIGVycm9yIGFkZGl0aW9ubmFsIGRhdGFcclxuICAgICAqL1xyXG4gICAgRVJST1IgPSAnZXJyb3InXHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///1\n')},function(module,exports,__webpack_require__){"use strict";eval("\r\n/*\r\n* The copyright in this software module is being made available under the BSD License, included\r\n* below. This software module may be subject to other third party and/or contributor rights,\r\n* including patent rights, and no such rights are granted under this license.\r\n*\r\n* Copyright (c) 2016, Orange\r\n* All rights reserved.\r\n*\r\n* Redistribution and use in source and binary forms, with or without modification, are permitted\r\n* provided that the following conditions are met:\r\n* - Redistributions of source code must retain the above copyright notice, this list of conditions\r\n*   and the following disclaimer.\r\n* - Redistributions in binary form must reproduce the above copyright notice, this list of\r\n*   conditions and the following disclaimer in the documentation and/or other materials provided\r\n*   with the distribution.\r\n* - Neither the name of Orange nor the names of its contributors may be used to endorse or promote\r\n*   products derived from this software module without specific prior written permission.\r\n*\r\n*\r\n* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS “AS IS” AND ANY EXPRESS OR\r\n* IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\r\n* FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER O\r\n* CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\r\n* DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\r\n* DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\r\n* WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY\r\n* WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Utils = /** @class */ (function () {\r\n    function Utils() {\r\n    }\r\n    Utils.isAbsoluteURI = function (uri) {\r\n        return ((uri.toLowerCase().indexOf('http://') >= 0) || (uri.toLowerCase().indexOf('https://') >= 0));\r\n    };\r\n    Utils.parseTime = function (str) {\r\n        var timeParts, SECONDS_IN_HOUR = 60 * 60, SECONDS_IN_MIN = 60;\r\n        if (!str) {\r\n            return -1;\r\n        }\r\n        timeParts = str.split(':');\r\n        // Check time format, must be HH:MM:SS(.mmm)\r\n        if (timeParts.length !== 3) {\r\n            return -1;\r\n        }\r\n        return (parseInt(timeParts[0]) * SECONDS_IN_HOUR) +\r\n            (parseInt(timeParts[1]) * SECONDS_IN_MIN) +\r\n            (parseFloat(timeParts[2]));\r\n    };\r\n    return Utils;\r\n}());\r\nexports.Utils = Utils;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hZHNwbGF5ZXIvLi9zcmMvbGliL3V0aWxzL3V0aWxzLnRzPzczZDIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7RUEyQkU7O0FBRUY7SUFBQTtJQXlCQSxDQUFDO0lBeEJVLG1CQUFhLEdBQUcsVUFBVSxHQUFXO1FBQ3hDLE9BQU8sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsV0FBVyxFQUFFLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDekcsQ0FBQztJQUVNLGVBQVMsR0FBRyxVQUFVLEdBQVc7UUFDcEMsSUFBSSxTQUFTLEVBQ1QsZUFBZSxHQUFHLEVBQUUsR0FBRyxFQUFFLEVBQ3pCLGNBQWMsR0FBRyxFQUFFLENBQUM7UUFFeEIsSUFBSSxDQUFDLEdBQUcsRUFBRTtZQUNOLE9BQU8sQ0FBQyxDQUFDLENBQUM7U0FDYjtRQUVELFNBQVMsR0FBRyxHQUFHLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBRTNCLDRDQUE0QztRQUM1QyxJQUFJLFNBQVMsQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO1lBQ3hCLE9BQU8sQ0FBQyxDQUFDLENBQUM7U0FDYjtRQUVELE9BQVEsQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsZUFBZSxDQUFDO1lBQzFDLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLGNBQWMsQ0FBQztZQUN6QyxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3ZDLENBQUM7SUFDTCxZQUFDO0NBQUE7QUF6Qlksc0JBQUsiLCJmaWxlIjoiMi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXHJcbiogVGhlIGNvcHlyaWdodCBpbiB0aGlzIHNvZnR3YXJlIG1vZHVsZSBpcyBiZWluZyBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgQlNEIExpY2Vuc2UsIGluY2x1ZGVkXHJcbiogYmVsb3cuIFRoaXMgc29mdHdhcmUgbW9kdWxlIG1heSBiZSBzdWJqZWN0IHRvIG90aGVyIHRoaXJkIHBhcnR5IGFuZC9vciBjb250cmlidXRvciByaWdodHMsXHJcbiogaW5jbHVkaW5nIHBhdGVudCByaWdodHMsIGFuZCBubyBzdWNoIHJpZ2h0cyBhcmUgZ3JhbnRlZCB1bmRlciB0aGlzIGxpY2Vuc2UuXHJcbipcclxuKiBDb3B5cmlnaHQgKGMpIDIwMTYsIE9yYW5nZVxyXG4qIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbipcclxuKiBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXQgbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkXHJcbiogcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlIG1ldDpcclxuKiAtIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnNcclxuKiAgIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXHJcbiogLSBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdCBvZlxyXG4qICAgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZSBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWRcclxuKiAgIHdpdGggdGhlIGRpc3RyaWJ1dGlvbi5cclxuKiAtIE5laXRoZXIgdGhlIG5hbWUgb2YgT3JhbmdlIG5vciB0aGUgbmFtZXMgb2YgaXRzIGNvbnRyaWJ1dG9ycyBtYXkgYmUgdXNlZCB0byBlbmRvcnNlIG9yIHByb21vdGVcclxuKiAgIHByb2R1Y3RzIGRlcml2ZWQgZnJvbSB0aGlzIHNvZnR3YXJlIG1vZHVsZSB3aXRob3V0IHNwZWNpZmljIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi5cclxuKlxyXG4qXHJcbiogVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SUyDigJxBUyBJU+KAnSBBTkQgQU5ZIEVYUFJFU1MgT1JcclxuKiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkRcclxuKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVCBIT0xERVIgT1xyXG4qIENPTlRSSUJVVE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLCBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUxcclxuKiBEQU1BR0VTIChJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsXHJcbiogREFUQSwgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZIFRIRU9SWSBPRiBMSUFCSUxJVFksXHJcbiogV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVCAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWVxyXG4qIFdBWSBPVVQgT0YgVEhFIFVTRSBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxyXG4qL1xyXG5cclxuZXhwb3J0IGNsYXNzIFV0aWxzIHtcclxuICAgIHN0YXRpYyBpc0Fic29sdXRlVVJJID0gZnVuY3Rpb24gKHVyaTogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuICgodXJpLnRvTG93ZXJDYXNlKCkuaW5kZXhPZignaHR0cDovLycpID49IDApIHx8ICh1cmkudG9Mb3dlckNhc2UoKS5pbmRleE9mKCdodHRwczovLycpID49IDApKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgcGFyc2VUaW1lID0gZnVuY3Rpb24gKHN0cjogc3RyaW5nKTogbnVtYmVyIHtcclxuICAgICAgICBsZXQgdGltZVBhcnRzLFxyXG4gICAgICAgICAgICBTRUNPTkRTX0lOX0hPVVIgPSA2MCAqIDYwLFxyXG4gICAgICAgICAgICBTRUNPTkRTX0lOX01JTiA9IDYwO1xyXG5cclxuICAgICAgICBpZiAoIXN0cikge1xyXG4gICAgICAgICAgICByZXR1cm4gLTE7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aW1lUGFydHMgPSBzdHIuc3BsaXQoJzonKTtcclxuXHJcbiAgICAgICAgLy8gQ2hlY2sgdGltZSBmb3JtYXQsIG11c3QgYmUgSEg6TU06U1MoLm1tbSlcclxuICAgICAgICBpZiAodGltZVBhcnRzLmxlbmd0aCAhPT0gMykge1xyXG4gICAgICAgICAgICByZXR1cm4gLTE7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gIChwYXJzZUludCh0aW1lUGFydHNbMF0pICogU0VDT05EU19JTl9IT1VSKSArXHJcbiAgICAgICAgICAgICAgICAocGFyc2VJbnQodGltZVBhcnRzWzFdKSAqIFNFQ09ORFNfSU5fTUlOKSArXHJcbiAgICAgICAgICAgICAgICAocGFyc2VGbG9hdCh0aW1lUGFydHNbMl0pKTtcclxuICAgIH1cclxufSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///2\n")},function(module,exports,__webpack_require__){"use strict";eval('\r\n/*\r\n* The copyright in this software module is being made available under the BSD License, included\r\n* below. This software module may be subject to other third party and/or contributor rights,\r\n* including patent rights, and no such rights are granted under this license.\r\n*\r\n* Copyright (c) 2016, Orange\r\n* All rights reserved.\r\n*\r\n* Redistribution and use in source and binary forms, with or without modification, are permitted\r\n* provided that the following conditions are met:\r\n* - Redistributions of source code must retain the above copyright notice, this list of conditions\r\n*   and the following disclaimer.\r\n* - Redistributions in binary form must reproduce the above copyright notice, this list of\r\n*   conditions and the following disclaimer in the documentation and/or other materials provided\r\n*   with the distribution.\r\n* - Neither the name of Orange nor the names of its contributors may be used to endorse or promote\r\n*   products derived from this software module without specific prior written permission.\r\n*\r\n*\r\n* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS “AS IS” AND ANY EXPRESS OR\r\n* IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\r\n* FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER O\r\n* CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\r\n* DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\r\n* DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\r\n* WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY\r\n* WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n*/\r\nObject.defineProperty(exports, "__esModule", { value: true });\r\n/**\r\n* Event bus utility class for events listening and notifying.\r\n*/\r\nvar Logger_1 = __webpack_require__(0);\r\nvar AdEvents;\r\n(function (AdEvents) {\r\n    AdEvents["TRIGGER_START"] = "triggerStart";\r\n    AdEvents["TRIGGER_END"] = "triggerEnd";\r\n    AdEvents["AD_START"] = "adStart";\r\n    AdEvents["AD_END"] = "adEnd";\r\n})(AdEvents = exports.AdEvents || (exports.AdEvents = {}));\r\nvar EventBus = /** @class */ (function () {\r\n    // #endregion MEMBERS\r\n    // --------------------------------------------------\r\n    // #region PUBLIC FUNCTIONS\r\n    // --------------------------------------------------\r\n    function EventBus() {\r\n        this.registrations = {};\r\n        this.logger = Logger_1.Logger.getInstance();\r\n    }\r\n    // #endregion PUBLIC FUNCTIONS\r\n    // --------------------------------------------------\r\n    EventBus.prototype.addEventListener = function (type, listener) {\r\n        var listeners = this.getListeners(type), idx = listeners.indexOf(listener);\r\n        if (idx === -1) {\r\n            listeners.push(listener);\r\n        }\r\n    };\r\n    EventBus.prototype.removeEventListener = function (type, listener) {\r\n        var listeners = this.getListeners(type), idx = listeners.indexOf(listener);\r\n        if (idx !== -1) {\r\n            listeners.splice(idx, 1);\r\n        }\r\n    };\r\n    EventBus.prototype.removeAllEventListener = function () {\r\n        this.registrations = {};\r\n    };\r\n    EventBus.prototype.dispatchEvent = function (type, data) {\r\n        var listeners = this.getListeners(type).slice(), event = {\r\n            type: type,\r\n            data: data ? data : {}\r\n        };\r\n        // this.logger.debug(\'# Event: \' + type);\r\n        for (var i = 0; i < listeners.length; i += 1) {\r\n            listeners[i].call(this, event);\r\n        }\r\n    };\r\n    // #region PRIVATE FUNCTIONS\r\n    // --------------------------------------------------\r\n    EventBus.prototype.getListeners = function (type) {\r\n        if (!(type in this.registrations)) {\r\n            this.registrations[type] = [];\r\n        }\r\n        return this.registrations[type];\r\n    };\r\n    return EventBus;\r\n}());\r\nexports.EventBus = EventBus;\r\n// export default EventBus;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hZHNwbGF5ZXIvLi9zcmMvbGliL0V2ZW50QnVzLnRzPzQzZDYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7RUEyQkU7O0FBRUY7O0VBRUU7QUFFRixzQ0FBa0M7QUFJbEMsSUFBWSxRQUtYO0FBTEQsV0FBWSxRQUFRO0lBQ2hCLDBDQUE4QjtJQUM5QixzQ0FBMEI7SUFDMUIsZ0NBQW9CO0lBQ3BCLDRCQUFnQjtBQUNwQixDQUFDLEVBTFcsUUFBUSxHQUFSLGdCQUFRLEtBQVIsZ0JBQVEsUUFLbkI7QUFFRDtJQVFJLHFCQUFxQjtJQUNyQixxREFBcUQ7SUFFckQsMkJBQTJCO0lBQzNCLHFEQUFxRDtJQUVyRDtRQUNJLElBQUksQ0FBQyxhQUFhLEdBQUcsRUFBRSxDQUFDO1FBQ3hCLElBQUksQ0FBQyxNQUFNLEdBQUcsZUFBTSxDQUFDLFdBQVcsRUFBRSxDQUFDO0lBQ3ZDLENBQUM7SUFFRCw4QkFBOEI7SUFDOUIscURBQXFEO0lBRTlDLG1DQUFnQixHQUF2QixVQUF5QixJQUFZLEVBQUUsUUFBYTtRQUNoRCxJQUFJLFNBQVMsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxFQUNuQyxHQUFHLEdBQUcsU0FBUyxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUV0QyxJQUFJLEdBQUcsS0FBSyxDQUFDLENBQUMsRUFBRTtZQUNaLFNBQVMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7U0FDNUI7SUFDTCxDQUFDO0lBRU0sc0NBQW1CLEdBQTFCLFVBQTRCLElBQVksRUFBRSxRQUFhO1FBQ25ELElBQUksU0FBUyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLEVBQ25DLEdBQUcsR0FBRyxTQUFTLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBRXRDLElBQUksR0FBRyxLQUFLLENBQUMsQ0FBQyxFQUFFO1lBQ1osU0FBUyxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUM7U0FDNUI7SUFDTCxDQUFDO0lBRU0seUNBQXNCLEdBQTdCO1FBQ0ksSUFBSSxDQUFDLGFBQWEsR0FBRyxFQUFFLENBQUM7SUFDNUIsQ0FBQztJQUVNLGdDQUFhLEdBQXBCLFVBQXNCLElBQVksRUFBRSxJQUFhO1FBQzdDLElBQUksU0FBUyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxFQUFFLEVBQzNDLEtBQUssR0FBRztZQUNKLElBQUksRUFBRSxJQUFJO1lBQ1YsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFO1NBQ3pCO1FBRUwseUNBQXlDO1FBQ3pDLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxTQUFTLENBQUMsTUFBTSxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUU7WUFDMUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUM7U0FDbEM7SUFDTCxDQUFDO0lBRUQsNEJBQTRCO0lBQzVCLHFEQUFxRDtJQUU3QywrQkFBWSxHQUFwQixVQUFzQixJQUFZO1FBQzlCLElBQUksQ0FBQyxDQUFDLElBQUksSUFBSSxJQUFJLENBQUMsYUFBYSxDQUFDLEVBQUU7WUFDL0IsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUM7U0FDakM7UUFDRCxPQUFPLElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDcEMsQ0FBQztJQUtMLGVBQUM7QUFBRCxDQUFDO0FBdEVZLDRCQUFRO0FBd0VyQiwyQkFBMkIiLCJmaWxlIjoiMy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXHJcbiogVGhlIGNvcHlyaWdodCBpbiB0aGlzIHNvZnR3YXJlIG1vZHVsZSBpcyBiZWluZyBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgQlNEIExpY2Vuc2UsIGluY2x1ZGVkXHJcbiogYmVsb3cuIFRoaXMgc29mdHdhcmUgbW9kdWxlIG1heSBiZSBzdWJqZWN0IHRvIG90aGVyIHRoaXJkIHBhcnR5IGFuZC9vciBjb250cmlidXRvciByaWdodHMsXHJcbiogaW5jbHVkaW5nIHBhdGVudCByaWdodHMsIGFuZCBubyBzdWNoIHJpZ2h0cyBhcmUgZ3JhbnRlZCB1bmRlciB0aGlzIGxpY2Vuc2UuXHJcbipcclxuKiBDb3B5cmlnaHQgKGMpIDIwMTYsIE9yYW5nZVxyXG4qIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbipcclxuKiBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXQgbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkXHJcbiogcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlIG1ldDpcclxuKiAtIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnNcclxuKiAgIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXHJcbiogLSBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdCBvZlxyXG4qICAgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZSBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWRcclxuKiAgIHdpdGggdGhlIGRpc3RyaWJ1dGlvbi5cclxuKiAtIE5laXRoZXIgdGhlIG5hbWUgb2YgT3JhbmdlIG5vciB0aGUgbmFtZXMgb2YgaXRzIGNvbnRyaWJ1dG9ycyBtYXkgYmUgdXNlZCB0byBlbmRvcnNlIG9yIHByb21vdGVcclxuKiAgIHByb2R1Y3RzIGRlcml2ZWQgZnJvbSB0aGlzIHNvZnR3YXJlIG1vZHVsZSB3aXRob3V0IHNwZWNpZmljIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi5cclxuKlxyXG4qXHJcbiogVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SUyDigJxBUyBJU+KAnSBBTkQgQU5ZIEVYUFJFU1MgT1JcclxuKiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkRcclxuKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVCBIT0xERVIgT1xyXG4qIENPTlRSSUJVVE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLCBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUxcclxuKiBEQU1BR0VTIChJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsXHJcbiogREFUQSwgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZIFRIRU9SWSBPRiBMSUFCSUxJVFksXHJcbiogV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVCAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWVxyXG4qIFdBWSBPVVQgT0YgVEhFIFVTRSBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxyXG4qL1xyXG5cclxuLyoqXHJcbiogRXZlbnQgYnVzIHV0aWxpdHkgY2xhc3MgZm9yIGV2ZW50cyBsaXN0ZW5pbmcgYW5kIG5vdGlmeWluZy5cclxuKi9cclxuXHJcbmltcG9ydCB7IExvZ2dlciB9IGZyb20gJy4vTG9nZ2VyJztcclxuaW1wb3J0IHsgRXZlbnRUeXBlcyB9IGZyb20gJy4uL0V2ZW50cyc7XHJcblxyXG5cclxuZXhwb3J0IGVudW0gQWRFdmVudHMge1xyXG4gICAgVFJJR0dFUl9TVEFSVCA9ICd0cmlnZ2VyU3RhcnQnLFxyXG4gICAgVFJJR0dFUl9FTkQgPSAndHJpZ2dlckVuZCcsXHJcbiAgICBBRF9TVEFSVCA9ICdhZFN0YXJ0JyxcclxuICAgIEFEX0VORCA9ICdhZEVuZCdcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEV2ZW50QnVzIHtcclxuXHJcbiAgICAvLyAjcmVnaW9uIE1FTUJFUlNcclxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICAgcHJpdmF0ZSByZWdpc3RyYXRpb25zOiBvYmplY3Q7XHJcbiAgICBwcml2YXRlIGxvZ2dlcjogTG9nZ2VyO1xyXG5cclxuICAgIC8vICNlbmRyZWdpb24gTUVNQkVSU1xyXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgICAvLyAjcmVnaW9uIFBVQkxJQyBGVU5DVElPTlNcclxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5yZWdpc3RyYXRpb25zID0ge307XHJcbiAgICAgICAgdGhpcy5sb2dnZXIgPSBMb2dnZXIuZ2V0SW5zdGFuY2UoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyAjZW5kcmVnaW9uIFBVQkxJQyBGVU5DVElPTlNcclxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICAgcHVibGljIGFkZEV2ZW50TGlzdGVuZXIgKHR5cGU6IHN0cmluZywgbGlzdGVuZXI6IGFueSkge1xyXG4gICAgICAgIGxldCBsaXN0ZW5lcnMgPSB0aGlzLmdldExpc3RlbmVycyh0eXBlKSxcclxuICAgICAgICAgICAgaWR4ID0gbGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpO1xyXG5cclxuICAgICAgICBpZiAoaWR4ID09PSAtMSkge1xyXG4gICAgICAgICAgICBsaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW1vdmVFdmVudExpc3RlbmVyICh0eXBlOiBzdHJpbmcsIGxpc3RlbmVyOiBhbnkpIHtcclxuICAgICAgICBsZXQgbGlzdGVuZXJzID0gdGhpcy5nZXRMaXN0ZW5lcnModHlwZSksXHJcbiAgICAgICAgICAgIGlkeCA9IGxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKTtcclxuXHJcbiAgICAgICAgaWYgKGlkeCAhPT0gLTEpIHtcclxuICAgICAgICAgICAgbGlzdGVuZXJzLnNwbGljZShpZHgsIDEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlQWxsRXZlbnRMaXN0ZW5lciAoKSB7XHJcbiAgICAgICAgdGhpcy5yZWdpc3RyYXRpb25zID0ge307XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRpc3BhdGNoRXZlbnQgKHR5cGU6IHN0cmluZywgZGF0YT86IG9iamVjdCkge1xyXG4gICAgICAgIGxldCBsaXN0ZW5lcnMgPSB0aGlzLmdldExpc3RlbmVycyh0eXBlKS5zbGljZSgpLFxyXG4gICAgICAgICAgICBldmVudCA9IHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IHR5cGUsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiBkYXRhID8gZGF0YSA6IHt9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gdGhpcy5sb2dnZXIuZGVidWcoJyMgRXZlbnQ6ICcgKyB0eXBlKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkgKz0gMSkge1xyXG4gICAgICAgICAgICBsaXN0ZW5lcnNbaV0uY2FsbCh0aGlzLCBldmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vICNyZWdpb24gUFJJVkFURSBGVU5DVElPTlNcclxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICAgcHJpdmF0ZSBnZXRMaXN0ZW5lcnMgKHR5cGU6IHN0cmluZykge1xyXG4gICAgICAgIGlmICghKHR5cGUgaW4gdGhpcy5yZWdpc3RyYXRpb25zKSkge1xyXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdHJhdGlvbnNbdHlwZV0gPSBbXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmVnaXN0cmF0aW9uc1t0eXBlXTtcclxuICAgIH1cclxuXHJcbiAgICAvLyAjZW5kcmVnaW9uIFBVQkxJQyBGVU5DVElPTlNcclxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG59XHJcblxyXG4vLyBleHBvcnQgZGVmYXVsdCBFdmVudEJ1cztcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///3\n')},function(module,exports,__webpack_require__){"use strict";eval('\r\n/*\r\n* The copyright in this software module is being made available under the BSD License, included\r\n* below. This software module may be subject to other third party and/or contributor rights,\r\n* including patent rights, and no such rights are granted under this license.\r\n*\r\n* Copyright (c) 2016, Orange\r\n* All rights reserved.\r\n*\r\n* Redistribution and use in source and binary forms, with or without modification, are permitted\r\n* provided that the following conditions are met:\r\n* - Redistributions of source code must retain the above copyright notice, this list of conditions\r\n*   and the following disclaimer.\r\n* - Redistributions in binary form must reproduce the above copyright notice, this list of\r\n*   conditions and the following disclaimer in the documentation and/or other materials provided\r\n*   with the distribution.\r\n* - Neither the name of Orange nor the names of its contributors may be used to endorse or promote\r\n*   products derived from this software module without specific prior written permission.\r\n*\r\n*\r\n* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS “AS IS” AND ANY EXPRESS OR\r\n* IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\r\n* FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER O\r\n* CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\r\n* DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\r\n* DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\r\n* WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY\r\n* WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n*/\r\nObject.defineProperty(exports, "__esModule", { value: true });\r\n/**\r\n* Config utility class for managing configuration parameters.\r\n*/\r\nvar Config = /** @class */ (function () {\r\n    function Config() {\r\n        this._handleMainPlayerPlayback = true;\r\n        this._handleClickThrough = true;\r\n        this._filterTriggersFn = undefined;\r\n    }\r\n    // #endregion MEMBERS\r\n    // --------------------------------------------------\r\n    // #region PUBLIC FUNCTIONS\r\n    // --------------------------------------------------\r\n    Config.getInstance = function () {\r\n        if (this.instance === null) {\r\n            this.instance = new Config();\r\n        }\r\n        return this.instance;\r\n    };\r\n    Object.defineProperty(Config.prototype, "handleMainPlayerPlayback", {\r\n        // #endregion PUBLIC FUNCTIONS\r\n        // --------------------------------------------------\r\n        get: function () {\r\n            return this._handleMainPlayerPlayback;\r\n        },\r\n        set: function (value) {\r\n            this._handleMainPlayerPlayback = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Config.prototype, "handleClickThrough", {\r\n        get: function () {\r\n            return this._handleClickThrough;\r\n        },\r\n        set: function (value) {\r\n            this._handleClickThrough = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Config.prototype, "filterTriggersFn", {\r\n        get: function () {\r\n            return this._filterTriggersFn;\r\n        },\r\n        set: function (value) {\r\n            this._filterTriggersFn = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    // #region MEMBERS\r\n    // --------------------------------------------------\r\n    Config.instance = null;\r\n    return Config;\r\n}());\r\nexports.Config = Config;\r\n// export default EventBus;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hZHNwbGF5ZXIvLi9zcmMvbGliL0NvbmZpZy50cz8wZGRhIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0VBMkJFOztBQUVGOztFQUVFO0FBRUY7SUF3Qkk7UUFDSSxJQUFJLENBQUMseUJBQXlCLEdBQUcsSUFBSSxDQUFDO1FBQ3RDLElBQUksQ0FBQyxtQkFBbUIsR0FBRyxJQUFJLENBQUM7UUFDaEMsSUFBSSxDQUFDLGlCQUFpQixHQUFHLFNBQVMsQ0FBQztJQUN2QyxDQUFDO0lBakJELHFCQUFxQjtJQUNyQixxREFBcUQ7SUFFckQsMkJBQTJCO0lBQzNCLHFEQUFxRDtJQUU5QyxrQkFBVyxHQUFsQjtRQUNJLElBQUksSUFBSSxDQUFDLFFBQVEsS0FBSyxJQUFJLEVBQUU7WUFDeEIsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLE1BQU0sRUFBRSxDQUFDO1NBQ2hDO1FBQ0QsT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDO0lBQ3pCLENBQUM7SUFXRCxzQkFBSSw0Q0FBd0I7UUFINUIsOEJBQThCO1FBQzlCLHFEQUFxRDthQUVyRDtZQUNJLE9BQU8sSUFBSSxDQUFDLHlCQUF5QixDQUFDO1FBQzFDLENBQUM7YUFFRCxVQUE4QixLQUFjO1lBQ3hDLElBQUksQ0FBQyx5QkFBeUIsR0FBRyxLQUFLLENBQUM7UUFDM0MsQ0FBQzs7O09BSkE7SUFNRCxzQkFBSSxzQ0FBa0I7YUFBdEI7WUFDSSxPQUFPLElBQUksQ0FBQyxtQkFBbUIsQ0FBQztRQUNwQyxDQUFDO2FBRUQsVUFBd0IsS0FBYztZQUNsQyxJQUFJLENBQUMsbUJBQW1CLEdBQUcsS0FBSyxDQUFDO1FBQ3JDLENBQUM7OztPQUpBO0lBTUQsc0JBQUksb0NBQWdCO2FBQXBCO1lBQ0ksT0FBTyxJQUFJLENBQUMsaUJBQWlCLENBQUM7UUFDbEMsQ0FBQzthQUVELFVBQXNCLEtBQWU7WUFDakMsSUFBSSxDQUFDLGlCQUFpQixHQUFHLEtBQUssQ0FBQztRQUNuQyxDQUFDOzs7T0FKQTtJQWpERCxrQkFBa0I7SUFDbEIscURBQXFEO0lBRXRDLGVBQVEsR0FBVyxJQUFJLENBQUM7SUF1RDNDLGFBQUM7Q0FBQTtBQTVEWSx3QkFBTTtBQThEbkIsMkJBQTJCIiwiZmlsZSI6IjQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxyXG4qIFRoZSBjb3B5cmlnaHQgaW4gdGhpcyBzb2Z0d2FyZSBtb2R1bGUgaXMgYmVpbmcgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlIEJTRCBMaWNlbnNlLCBpbmNsdWRlZFxyXG4qIGJlbG93LiBUaGlzIHNvZnR3YXJlIG1vZHVsZSBtYXkgYmUgc3ViamVjdCB0byBvdGhlciB0aGlyZCBwYXJ0eSBhbmQvb3IgY29udHJpYnV0b3IgcmlnaHRzLFxyXG4qIGluY2x1ZGluZyBwYXRlbnQgcmlnaHRzLCBhbmQgbm8gc3VjaCByaWdodHMgYXJlIGdyYW50ZWQgdW5kZXIgdGhpcyBsaWNlbnNlLlxyXG4qXHJcbiogQ29weXJpZ2h0IChjKSAyMDE2LCBPcmFuZ2VcclxuKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4qXHJcbiogUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0IG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZFxyXG4qIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZSBtZXQ6XHJcbiogLSBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zXHJcbiogICBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxyXG4qIC0gUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLCB0aGlzIGxpc3Qgb2ZcclxuKiAgIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lciBpbiB0aGUgZG9jdW1lbnRhdGlvbiBhbmQvb3Igb3RoZXIgbWF0ZXJpYWxzIHByb3ZpZGVkXHJcbiogICB3aXRoIHRoZSBkaXN0cmlidXRpb24uXHJcbiogLSBOZWl0aGVyIHRoZSBuYW1lIG9mIE9yYW5nZSBub3IgdGhlIG5hbWVzIG9mIGl0cyBjb250cmlidXRvcnMgbWF5IGJlIHVzZWQgdG8gZW5kb3JzZSBvciBwcm9tb3RlXHJcbiogICBwcm9kdWN0cyBkZXJpdmVkIGZyb20gdGhpcyBzb2Z0d2FyZSBtb2R1bGUgd2l0aG91dCBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXHJcbipcclxuKlxyXG4qIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlMg4oCcQVMgSVPigJ0gQU5EIEFOWSBFWFBSRVNTIE9SXHJcbiogSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgVEhFIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EXHJcbiogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQVJFIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFQgSE9MREVSIE9cclxuKiBDT05UUklCVVRPUlMgQkUgTElBQkxFIEZPUiBBTlkgRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCwgU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMXHJcbiogREFNQUdFUyAoSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLFxyXG4qIERBVEEsIE9SIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWSBUSEVPUlkgT0YgTElBQklMSVRZLFxyXG4qIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlQgKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSkgQVJJU0lORyBJTiBBTllcclxuKiBXQVkgT1VUIE9GIFRIRSBVU0UgT0YgVEhJUyBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cclxuKi9cclxuXHJcbi8qKlxyXG4qIENvbmZpZyB1dGlsaXR5IGNsYXNzIGZvciBtYW5hZ2luZyBjb25maWd1cmF0aW9uIHBhcmFtZXRlcnMuXHJcbiovXHJcblxyXG5leHBvcnQgY2xhc3MgQ29uZmlnIHtcclxuXHJcbiAgICAvLyAjcmVnaW9uIE1FTUJFUlNcclxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgaW5zdGFuY2U6IENvbmZpZyA9IG51bGw7XHJcblxyXG4gICAgcHJpdmF0ZSBfaGFuZGxlTWFpblBsYXllclBsYXliYWNrOiBib29sZWFuO1xyXG4gICAgcHJpdmF0ZSBfaGFuZGxlQ2xpY2tUaHJvdWdoOiBib29sZWFuO1xyXG4gICAgcHJpdmF0ZSBfZmlsdGVyVHJpZ2dlcnNGbjogRnVuY3Rpb247XHJcblxyXG4gICAgLy8gI2VuZHJlZ2lvbiBNRU1CRVJTXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgIC8vICNyZWdpb24gUFVCTElDIEZVTkNUSU9OU1xyXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgICBzdGF0aWMgZ2V0SW5zdGFuY2UoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaW5zdGFuY2UgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZSA9IG5ldyBDb25maWcoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdGFuY2U7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlTWFpblBsYXllclBsYXliYWNrID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLl9oYW5kbGVDbGlja1Rocm91Z2ggPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuX2ZpbHRlclRyaWdnZXJzRm4gPSB1bmRlZmluZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gI2VuZHJlZ2lvbiBQVUJMSUMgRlVOQ1RJT05TXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgIGdldCBoYW5kbGVNYWluUGxheWVyUGxheWJhY2sgKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9oYW5kbGVNYWluUGxheWVyUGxheWJhY2s7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHNldCBoYW5kbGVNYWluUGxheWVyUGxheWJhY2sgKHZhbHVlOiBib29sZWFuKSB7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlTWFpblBsYXllclBsYXliYWNrID0gdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGhhbmRsZUNsaWNrVGhyb3VnaCAoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2hhbmRsZUNsaWNrVGhyb3VnaDtcclxuICAgIH1cclxuICAgIFxyXG4gICAgc2V0IGhhbmRsZUNsaWNrVGhyb3VnaCAodmFsdWU6IGJvb2xlYW4pIHtcclxuICAgICAgICB0aGlzLl9oYW5kbGVDbGlja1Rocm91Z2ggPSB2YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgZmlsdGVyVHJpZ2dlcnNGbiAoKTogRnVuY3Rpb24ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9maWx0ZXJUcmlnZ2Vyc0ZuO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBzZXQgZmlsdGVyVHJpZ2dlcnNGbiAodmFsdWU6IEZ1bmN0aW9uKSB7XHJcbiAgICAgICAgdGhpcy5fZmlsdGVyVHJpZ2dlcnNGbiA9IHZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vICNlbmRyZWdpb24gUFVCTElDIEZVTkNUSU9OU1xyXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbn1cclxuXHJcbi8vIGV4cG9ydCBkZWZhdWx0IEV2ZW50QnVzO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///4\n')},function(module,exports,__webpack_require__){"use strict";eval('\r\nObject.defineProperty(exports, "__esModule", { value: true });\r\nvar ErrorCodes;\r\n(function (ErrorCodes) {\r\n    /**\r\n     * An error occured when downloading a MAST or VAST file\r\n     * Error data properties:\r\n     * @property <b>url</b>: string - the MAST or VAST file url\r\n     * @property <b>status</b>: number - the response status code\r\n     */\r\n    ErrorCodes[ErrorCodes["DOWNLOAD_ERR_FILE"] = 1] = "DOWNLOAD_ERR_FILE";\r\n    /**\r\n     * The downloaded MAST or VAST file is not in XML format\r\n     * Error data properties:\r\n     * @property <b>url</b>: string - the MAST or VAST file url\r\n     */\r\n    ErrorCodes[ErrorCodes["DOWNLOAD_ERR_NOT_XML"] = 2] = "DOWNLOAD_ERR_NOT_XML";\r\n    // NO_VALID_MEDIA_FOUND = 3,\r\n    // LOAD_MEDIA_FAILED = 4,\r\n    // UNSUPPORTED_MEDIA_FILE = 5,\r\n    // UNAVAILABLE_LINK = 6\r\n})(ErrorCodes = exports.ErrorCodes || (exports.ErrorCodes = {}));\r\nexports.ErrorMessages = {};\r\nexports.ErrorMessages[ErrorCodes.DOWNLOAD_ERR_FILE] = \'Failed to download file\';\r\nexports.ErrorMessages[ErrorCodes.DOWNLOAD_ERR_NOT_XML] = \'The downloaded file format is not in xml format\';\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hZHNwbGF5ZXIvLi9zcmMvRXJyb3JzLnRzP2JmYmIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFZLFVBcUJYO0FBckJELFdBQVksVUFBVTtJQUVsQjs7Ozs7T0FLRztJQUNILHFFQUFxQjtJQUVyQjs7OztPQUlHO0lBQ0gsMkVBQXdCO0lBRXhCLDRCQUE0QjtJQUM1Qix5QkFBeUI7SUFDekIsOEJBQThCO0lBQzlCLHVCQUF1QjtBQUMzQixDQUFDLEVBckJXLFVBQVUsR0FBVixrQkFBVSxLQUFWLGtCQUFVLFFBcUJyQjtBQWFZLHFCQUFhLEdBQUcsRUFBRTtBQUMvQixxQkFBYSxDQUFDLFVBQVUsQ0FBQyxpQkFBaUIsQ0FBQyxHQUFHLHlCQUF5QixDQUFDO0FBQ3hFLHFCQUFhLENBQUMsVUFBVSxDQUFDLG9CQUFvQixDQUFDLEdBQUcsaURBQWlELENBQUMiLCJmaWxlIjoiNS5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBlbnVtIEVycm9yQ29kZXMge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQW4gZXJyb3Igb2NjdXJlZCB3aGVuIGRvd25sb2FkaW5nIGEgTUFTVCBvciBWQVNUIGZpbGVcclxuICAgICAqIEVycm9yIGRhdGEgcHJvcGVydGllczpcclxuICAgICAqIEBwcm9wZXJ0eSA8Yj51cmw8L2I+OiBzdHJpbmcgLSB0aGUgTUFTVCBvciBWQVNUIGZpbGUgdXJsXHJcbiAgICAgKiBAcHJvcGVydHkgPGI+c3RhdHVzPC9iPjogbnVtYmVyIC0gdGhlIHJlc3BvbnNlIHN0YXR1cyBjb2RlXHJcbiAgICAgKi9cclxuICAgIERPV05MT0FEX0VSUl9GSUxFID0gMSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBkb3dubG9hZGVkIE1BU1Qgb3IgVkFTVCBmaWxlIGlzIG5vdCBpbiBYTUwgZm9ybWF0IFxyXG4gICAgICogRXJyb3IgZGF0YSBwcm9wZXJ0aWVzOlxyXG4gICAgICogQHByb3BlcnR5IDxiPnVybDwvYj46IHN0cmluZyAtIHRoZSBNQVNUIG9yIFZBU1QgZmlsZSB1cmxcclxuICAgICAqL1xyXG4gICAgRE9XTkxPQURfRVJSX05PVF9YTUwgPSAyLFxyXG5cclxuICAgIC8vIE5PX1ZBTElEX01FRElBX0ZPVU5EID0gMyxcclxuICAgIC8vIExPQURfTUVESUFfRkFJTEVEID0gNCxcclxuICAgIC8vIFVOU1VQUE9SVEVEX01FRElBX0ZJTEUgPSA1LFxyXG4gICAgLy8gVU5BVkFJTEFCTEVfTElOSyA9IDZcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBFcnJvciB7XHJcbiAgICAvKiogVGhlIGVycm9yIGNvZGUgKi9cclxuICAgIGNvZGU6IEVycm9yQ29kZXMsXHJcblxyXG4gICAgLyoqIFRoZSBlcnJvciBtZXNzYWdlICovXHJcbiAgICBtZXNzYWdlOiBzdHJpbmcsXHJcblxyXG4gICAgLyoqIFRoZSBlcnJvciBkYXRhLiBSZWZlciB0byBlYWNoIGNvZGUgdG8gZ2V0IHRoZSBkYXRhIG9iamVjdCBwcm9wZXJ0aWVzIGRlc2NyaXB0aW9uICovXHJcbiAgICBkYXRhPzogb2JqZWN0XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBFcnJvck1lc3NhZ2VzID0ge31cclxuRXJyb3JNZXNzYWdlc1tFcnJvckNvZGVzLkRPV05MT0FEX0VSUl9GSUxFXSA9ICdGYWlsZWQgdG8gZG93bmxvYWQgZmlsZSc7XHJcbkVycm9yTWVzc2FnZXNbRXJyb3JDb2Rlcy5ET1dOTE9BRF9FUlJfTk9UX1hNTF0gPSAnVGhlIGRvd25sb2FkZWQgZmlsZSBmb3JtYXQgaXMgbm90IGluIHhtbCBmb3JtYXQnO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///5\n')},function(module,exports,__webpack_require__){"use strict";eval('\r\n/*\r\n* The copyright in this software module is being made available under the BSD License, included\r\n* below. This software module may be subject to other third party and/or contributor rights,\r\n* including patent rights, and no such rights are granted under this license.\r\n*\r\n* Copyright (c) 2016, Orange\r\n* All rights reserved.\r\n*\r\n* Redistribution and use in source and binary forms, with or without modification, are permitted\r\n* provided that the following conditions are met:\r\n* - Redistributions of source code must retain the above copyright notice, this list of conditions\r\n*   and the following disclaimer.\r\n* - Redistributions in binary form must reproduce the above copyright notice, this list of\r\n*   conditions and the following disclaimer in the documentation and/or other materials provided\r\n*   with the distribution.\r\n* - Neither the name of Orange nor the names of its contributors may be used to endorse or promote\r\n*   products derived from this software module without specific prior written permission.\r\n*\r\n*\r\n* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS “AS IS” AND ANY EXPRESS OR\r\n* IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\r\n* FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER O\r\n* CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\r\n* DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\r\n* DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\r\n* WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY\r\n* WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n*/\r\nObject.defineProperty(exports, "__esModule", { value: true });\r\n/**\r\n* @export class Mast\r\n* @ignore\r\n*/\r\nvar Mast = /** @class */ (function () {\r\n    function Mast() {\r\n        this.baseUrl = \'\'; // pointer to any number of Ad objects\r\n        this.triggers = [];\r\n    }\r\n    return Mast;\r\n}());\r\nexports.Mast = Mast;\r\n/**\r\n* @export class Trigger\r\n* @ignore\r\n*/\r\nvar Trigger = /** @class */ (function () {\r\n    function Trigger() {\r\n        this.id = \'\';\r\n        this.description = 0;\r\n        this.startConditions = []; // pointer to a list of start conditions to  : AdsPlayer.mast.model.Trigger.Condition\r\n        this.endConditions = []; // pointer to a list of end conditions : AdsPlayer.mast.model.Trigger.Condition\r\n        this.sources = []; // pointer to a list of sources : AdsPlayer.mast.model.Trigger.Source\r\n        this.alreadyProcessed = false; // mainly in the seeked case : do not replay trigger already played\r\n        this.vasts = [];\r\n        this.activated = false;\r\n    }\r\n    return Trigger;\r\n}());\r\nexports.Trigger = Trigger;\r\n/**\r\n* @export class Condition\r\n* @ignore\r\n*/\r\nvar Condition = /** @class */ (function () {\r\n    function Condition() {\r\n        this.type = \'\';\r\n        this.name = \'\';\r\n        this.value = \'\';\r\n        this.operator = \'\';\r\n        this.conditions = [];\r\n    }\r\n    return Condition;\r\n}());\r\nexports.Condition = Condition;\r\n// ConditionType\r\nvar CONDITION_TYPE;\r\n(function (CONDITION_TYPE) {\r\n    CONDITION_TYPE["EVENT"] = "event";\r\n    CONDITION_TYPE["PROPERTY"] = "property";\r\n})(CONDITION_TYPE = exports.CONDITION_TYPE || (exports.CONDITION_TYPE = {}));\r\n;\r\n// ConditionName\r\nvar CONDITION_NAME;\r\n(function (CONDITION_NAME) {\r\n    CONDITION_NAME["ON_ITEM_START"] = "OnItemStart";\r\n    CONDITION_NAME["ON_ITEM_END"] = "OnItemEnd";\r\n    CONDITION_NAME["POSITION"] = "Position";\r\n    CONDITION_NAME["DURATION"] = "Duration";\r\n})(CONDITION_NAME = exports.CONDITION_NAME || (exports.CONDITION_NAME = {}));\r\n;\r\n// ConditionOperator\r\nvar CONDITION_OPERATOR;\r\n(function (CONDITION_OPERATOR) {\r\n    CONDITION_OPERATOR["EQ"] = "EQ";\r\n    CONDITION_OPERATOR["NEQ"] = "NEQ";\r\n    CONDITION_OPERATOR["GTR"] = "GTR";\r\n    CONDITION_OPERATOR["GEQ"] = "GEQ";\r\n    CONDITION_OPERATOR["LT"] = "LT";\r\n    CONDITION_OPERATOR["LEQ"] = "LEQ";\r\n    CONDITION_OPERATOR["MOD"] = "MOD"; // modulo\r\n})(CONDITION_OPERATOR = exports.CONDITION_OPERATOR || (exports.CONDITION_OPERATOR = {}));\r\n;\r\n/**\r\n* @export class Source\r\n* @ignore\r\n*/\r\nvar Source = /** @class */ (function () {\r\n    // targets = [];\r\n    function Source() {\r\n        this.uri = \'\';\r\n        this.altReference = \'\';\r\n        this.format = \'\';\r\n        this.sources = [];\r\n    }\r\n    return Source;\r\n}());\r\nexports.Source = Source;\r\n// SourceFormat\r\nvar SOURCE_FORMAT;\r\n(function (SOURCE_FORMAT) {\r\n    SOURCE_FORMAT["VAST"] = "vast";\r\n    SOURCE_FORMAT["UIF"] = "uif";\r\n})(SOURCE_FORMAT = exports.SOURCE_FORMAT || (exports.SOURCE_FORMAT = {}));\r\n;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hZHNwbGF5ZXIvLi9zcmMvbGliL21hc3QvbW9kZWwvTWFzdC50cz8zZThhIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0VBMkJFOztBQUlGOzs7RUFHRTtBQUNGO0lBR0k7UUFGQSxZQUFPLEdBQVcsRUFBRSxDQUFDLENBQUMsc0NBQXNDO1FBQzVELGFBQVEsR0FBYyxFQUFFLENBQUM7SUFFekIsQ0FBQztJQUNMLFdBQUM7QUFBRCxDQUFDO0FBTFksb0JBQUk7QUFPakI7OztFQUdFO0FBQ0Y7SUFTSTtRQVJBLE9BQUUsR0FBVSxFQUFFLENBQUM7UUFDZixnQkFBVyxHQUFXLENBQUMsQ0FBQztRQUN4QixvQkFBZSxHQUFnQixFQUFFLENBQUMsQ0FBTSxxRkFBcUY7UUFDN0gsa0JBQWEsR0FBZ0IsRUFBRSxDQUFDLENBQVEsK0VBQStFO1FBQ3ZILFlBQU8sR0FBYSxFQUFFLENBQUMsQ0FBYyxxRUFBcUU7UUFDMUcscUJBQWdCLEdBQVksS0FBSyxDQUFDLENBQUUsbUVBQW1FO1FBQ3ZHLFVBQUssR0FBVyxFQUFFLENBQUM7UUFDbkIsY0FBUyxHQUFZLEtBQUssQ0FBQztJQUUzQixDQUFDO0lBQ0wsY0FBQztBQUFELENBQUM7QUFYWSwwQkFBTztBQWFwQjs7O0VBR0U7QUFDRjtJQU1BO1FBTEksU0FBSSxHQUFXLEVBQUUsQ0FBQztRQUNsQixTQUFJLEdBQVcsRUFBRSxDQUFDO1FBQ2xCLFVBQUssR0FBVyxFQUFFLENBQUM7UUFDbkIsYUFBUSxHQUFXLEVBQUUsQ0FBQztRQUN0QixlQUFVLEdBQWdCLEVBQUUsQ0FBQztJQUU3QixDQUFDO0lBQ0wsZ0JBQUM7QUFBRCxDQUFDO0FBUlksOEJBQVM7QUFVdEIsZ0JBQWdCO0FBQ2hCLElBQVksY0FJWDtBQUpELFdBQVksY0FBYztJQUN0QixpQ0FBZTtJQUNmLHVDQUFxQjtBQUV6QixDQUFDLEVBSlcsY0FBYyxHQUFkLHNCQUFjLEtBQWQsc0JBQWMsUUFJekI7QUFBQSxDQUFDO0FBRUYsZ0JBQWdCO0FBQ2hCLElBQVksY0FLWDtBQUxELFdBQVksY0FBYztJQUN0QiwrQ0FBNkI7SUFDN0IsMkNBQXlCO0lBQ3pCLHVDQUFxQjtJQUNyQix1Q0FBcUI7QUFDekIsQ0FBQyxFQUxXLGNBQWMsR0FBZCxzQkFBYyxLQUFkLHNCQUFjLFFBS3pCO0FBQUEsQ0FBQztBQUVGLG9CQUFvQjtBQUNwQixJQUFZLGtCQVFYO0FBUkQsV0FBWSxrQkFBa0I7SUFDMUIsK0JBQVM7SUFDVCxpQ0FBVztJQUNYLGlDQUFXO0lBQ1gsaUNBQVc7SUFDWCwrQkFBUztJQUNULGlDQUFXO0lBQ1gsaUNBQVcsRUFBRSxTQUFTO0FBQzFCLENBQUMsRUFSVyxrQkFBa0IsR0FBbEIsMEJBQWtCLEtBQWxCLDBCQUFrQixRQVE3QjtBQUFBLENBQUM7QUFFRjs7O0VBR0U7QUFDRjtJQUtJLGdCQUFnQjtJQUNoQjtRQUxBLFFBQUcsR0FBVyxFQUFFLENBQUM7UUFDakIsaUJBQVksR0FBVyxFQUFFLENBQUM7UUFDMUIsV0FBTSxHQUFXLEVBQUUsQ0FBQztRQUNwQixZQUFPLEdBQVUsRUFBRSxDQUFDO0lBR3BCLENBQUM7SUFDTCxhQUFDO0FBQUQsQ0FBQztBQVJZLHdCQUFNO0FBVW5CLGVBQWU7QUFDZixJQUFZLGFBR1g7QUFIRCxXQUFZLGFBQWE7SUFDckIsOEJBQWE7SUFDYiw0QkFBVztBQUNmLENBQUMsRUFIVyxhQUFhLEdBQWIscUJBQWEsS0FBYixxQkFBYSxRQUd4QjtBQUFBLENBQUMiLCJmaWxlIjoiNi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXHJcbiogVGhlIGNvcHlyaWdodCBpbiB0aGlzIHNvZnR3YXJlIG1vZHVsZSBpcyBiZWluZyBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgQlNEIExpY2Vuc2UsIGluY2x1ZGVkXHJcbiogYmVsb3cuIFRoaXMgc29mdHdhcmUgbW9kdWxlIG1heSBiZSBzdWJqZWN0IHRvIG90aGVyIHRoaXJkIHBhcnR5IGFuZC9vciBjb250cmlidXRvciByaWdodHMsXHJcbiogaW5jbHVkaW5nIHBhdGVudCByaWdodHMsIGFuZCBubyBzdWNoIHJpZ2h0cyBhcmUgZ3JhbnRlZCB1bmRlciB0aGlzIGxpY2Vuc2UuXHJcbipcclxuKiBDb3B5cmlnaHQgKGMpIDIwMTYsIE9yYW5nZVxyXG4qIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbipcclxuKiBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXQgbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkXHJcbiogcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlIG1ldDpcclxuKiAtIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnNcclxuKiAgIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXHJcbiogLSBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdCBvZlxyXG4qICAgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZSBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWRcclxuKiAgIHdpdGggdGhlIGRpc3RyaWJ1dGlvbi5cclxuKiAtIE5laXRoZXIgdGhlIG5hbWUgb2YgT3JhbmdlIG5vciB0aGUgbmFtZXMgb2YgaXRzIGNvbnRyaWJ1dG9ycyBtYXkgYmUgdXNlZCB0byBlbmRvcnNlIG9yIHByb21vdGVcclxuKiAgIHByb2R1Y3RzIGRlcml2ZWQgZnJvbSB0aGlzIHNvZnR3YXJlIG1vZHVsZSB3aXRob3V0IHNwZWNpZmljIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi5cclxuKlxyXG4qXHJcbiogVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SUyDigJxBUyBJU+KAnSBBTkQgQU5ZIEVYUFJFU1MgT1JcclxuKiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkRcclxuKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVCBIT0xERVIgT1xyXG4qIENPTlRSSUJVVE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLCBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUxcclxuKiBEQU1BR0VTIChJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsXHJcbiogREFUQSwgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZIFRIRU9SWSBPRiBMSUFCSUxJVFksXHJcbiogV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVCAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWVxyXG4qIFdBWSBPVVQgT0YgVEhFIFVTRSBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxyXG4qL1xyXG5cclxuaW1wb3J0IHsgVmFzdCB9IGZyb20gJy4uLy4uL3Zhc3QvbW9kZWwvVmFzdCc7XHJcblxyXG4vKipcclxuKiBAZXhwb3J0IGNsYXNzIE1hc3RcclxuKiBAaWdub3JlXHJcbiovXHJcbmV4cG9ydCBjbGFzcyBNYXN0IHtcclxuICAgIGJhc2VVcmw6IHN0cmluZyA9ICcnOyAvLyBwb2ludGVyIHRvIGFueSBudW1iZXIgb2YgQWQgb2JqZWN0c1xyXG4gICAgdHJpZ2dlcnM6IFRyaWdnZXJbXSA9IFtdO1xyXG4gICAgY29uc3RydWN0b3IgKCkge1xyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuKiBAZXhwb3J0IGNsYXNzIFRyaWdnZXJcclxuKiBAaWdub3JlXHJcbiovXHJcbmV4cG9ydCBjbGFzcyBUcmlnZ2VyIHtcclxuICAgIGlkOnN0cmluZyA9ICcnO1xyXG4gICAgZGVzY3JpcHRpb246IG51bWJlciA9IDA7XHJcbiAgICBzdGFydENvbmRpdGlvbnM6IENvbmRpdGlvbltdID0gW107ICAgICAgLy8gcG9pbnRlciB0byBhIGxpc3Qgb2Ygc3RhcnQgY29uZGl0aW9ucyB0byAgOiBBZHNQbGF5ZXIubWFzdC5tb2RlbC5UcmlnZ2VyLkNvbmRpdGlvblxyXG4gICAgZW5kQ29uZGl0aW9uczogQ29uZGl0aW9uW10gPSBbXTsgICAgICAgIC8vIHBvaW50ZXIgdG8gYSBsaXN0IG9mIGVuZCBjb25kaXRpb25zIDogQWRzUGxheWVyLm1hc3QubW9kZWwuVHJpZ2dlci5Db25kaXRpb25cclxuICAgIHNvdXJjZXM6IFNvdXJjZVtdID0gW107ICAgICAgICAgICAgICAvLyBwb2ludGVyIHRvIGEgbGlzdCBvZiBzb3VyY2VzIDogQWRzUGxheWVyLm1hc3QubW9kZWwuVHJpZ2dlci5Tb3VyY2VcclxuICAgIGFscmVhZHlQcm9jZXNzZWQ6IGJvb2xlYW4gPSBmYWxzZTsgIC8vIG1haW5seSBpbiB0aGUgc2Vla2VkIGNhc2UgOiBkbyBub3QgcmVwbGF5IHRyaWdnZXIgYWxyZWFkeSBwbGF5ZWRcclxuICAgIHZhc3RzOiBWYXN0W10gPSBbXTtcclxuICAgIGFjdGl2YXRlZDogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgY29uc3RydWN0b3IgKCkge1xyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuKiBAZXhwb3J0IGNsYXNzIENvbmRpdGlvblxyXG4qIEBpZ25vcmVcclxuKi9cclxuZXhwb3J0IGNsYXNzIENvbmRpdGlvbiB7XHJcbiAgICB0eXBlOiBzdHJpbmcgPSAnJztcclxuICAgIG5hbWU6IHN0cmluZyA9ICcnO1xyXG4gICAgdmFsdWU6IHN0cmluZyA9ICcnO1xyXG4gICAgb3BlcmF0b3I6IHN0cmluZyA9ICcnO1xyXG4gICAgY29uZGl0aW9uczogQ29uZGl0aW9uW10gPSBbXTtcclxuY29uc3RydWN0b3IgKCkge1xyXG4gICAgfVxyXG59XHJcblxyXG4vLyBDb25kaXRpb25UeXBlXHJcbmV4cG9ydCBlbnVtIENPTkRJVElPTl9UWVBFIHtcclxuICAgIEVWRU5UID0gJ2V2ZW50JyxcclxuICAgIFBST1BFUlRZID0gJ3Byb3BlcnR5J1xyXG5cclxufTtcclxuXHJcbi8vIENvbmRpdGlvbk5hbWVcclxuZXhwb3J0IGVudW0gQ09ORElUSU9OX05BTUUge1xyXG4gICAgT05fSVRFTV9TVEFSVCA9ICdPbkl0ZW1TdGFydCcsXHJcbiAgICBPTl9JVEVNX0VORCA9ICdPbkl0ZW1FbmQnLFxyXG4gICAgUE9TSVRJT04gPSAnUG9zaXRpb24nLFxyXG4gICAgRFVSQVRJT04gPSAnRHVyYXRpb24nXHJcbn07XHJcblxyXG4vLyBDb25kaXRpb25PcGVyYXRvclxyXG5leHBvcnQgZW51bSBDT05ESVRJT05fT1BFUkFUT1Ige1xyXG4gICAgRVEgPSAnRVEnLCAgLy8gZXF1YWxcclxuICAgIE5FUSA9ICdORVEnLCAvLyBub3QgZXF1YWxcclxuICAgIEdUUiA9ICdHVFInLCAvLyBncmVhdGVyXHJcbiAgICBHRVEgPSAnR0VRJywgLy8gZ3JlYXRlciBvciBlcXVhbFxyXG4gICAgTFQgPSAnTFQnLCAgLy8gbG93ZXJcclxuICAgIExFUSA9ICdMRVEnLCAvLyBsb3dlciBvciBlcXVhbFxyXG4gICAgTU9EID0gJ01PRCcgIC8vIG1vZHVsb1xyXG59O1xyXG5cclxuLyoqXHJcbiogQGV4cG9ydCBjbGFzcyBTb3VyY2VcclxuKiBAaWdub3JlXHJcbiovXHJcbmV4cG9ydCBjbGFzcyBTb3VyY2Uge1xyXG4gICAgdXJpOiBzdHJpbmcgPSAnJztcclxuICAgIGFsdFJlZmVyZW5jZTogc3RyaW5nID0gJyc7XHJcbiAgICBmb3JtYXQ6IHN0cmluZyA9ICcnO1xyXG4gICAgc291cmNlczogYW55W10gPSBbXTtcclxuICAgIC8vIHRhcmdldHMgPSBbXTtcclxuICAgIGNvbnN0cnVjdG9yICgpIHtcclxuICAgIH1cclxufVxyXG5cclxuLy8gU291cmNlRm9ybWF0XHJcbmV4cG9ydCBlbnVtIFNPVVJDRV9GT1JNQVQge1xyXG4gICAgVkFTVCA9ICd2YXN0JyxcclxuICAgIFVJRiA9ICd1aWYnXHJcbn07XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///6\n')},function(module,exports,__webpack_require__){"use strict";eval("\r\n/*\r\n* The copyright in this software module is being made available under the BSD License, included\r\n* below. This software module may be subject to other third party and/or contributor rights,\r\n* including patent rights, and no such rights are granted under this license.\r\n*\r\n* Copyright (c) 2016, Orange\r\n* All rights reserved.\r\n*\r\n* Redistribution and use in source and binary forms, with or without modification, are permitted\r\n* provided that the following conditions are met:\r\n* - Redistributions of source code must retain the above copyright notice, this list of conditions\r\n*   and the following disclaimer.\r\n* - Redistributions in binary form must reproduce the above copyright notice, this list of\r\n*   conditions and the following disclaimer in the documentation and/or other materials provided\r\n*   with the distribution.\r\n* - Neither the name of Orange nor the names of its contributors may be used to endorse or promote\r\n*   products derived from this software module without specific prior written permission.\r\n*\r\n*\r\n* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS “AS IS” AND ANY EXPRESS OR\r\n* IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\r\n* FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER O\r\n* CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\r\n* DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\r\n* DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\r\n* WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY\r\n* WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar XmlDom = /** @class */ (function () {\r\n    function XmlDom() {\r\n    }\r\n    XmlDom.getElementsByTagName = function (node, name) {\r\n        var elements = node.getElementsByTagName(name);\r\n        if (elements.length > 0) {\r\n            return elements;\r\n        }\r\n        var child = node.firstElementChild || node.firstChild;\r\n        if (!child) {\r\n            return elements;\r\n        }\r\n        var namespaceURI = child.namespaceURI;\r\n        return node.getElementsByTagNameNS(namespaceURI, name);\r\n    };\r\n    XmlDom.getElement = function (node, name) {\r\n        var elements = this.getElementsByTagName(node, name);\r\n        if (elements.length < 1) {\r\n            return null;\r\n        }\r\n        return elements[0];\r\n    };\r\n    XmlDom.getElements = function (node, name) {\r\n        return this.getElementsByTagName(node, name);\r\n    };\r\n    XmlDom.getSubElements = function (node, name, subName) {\r\n        var element = this.getElement(node, name);\r\n        if (element === null) {\r\n            return [];\r\n        }\r\n        return this.getElements(element, subName);\r\n    };\r\n    XmlDom.getChildNode = function (node, name) {\r\n        if (!node || !node.childNodes) {\r\n            return null;\r\n        }\r\n        for (var i = 0; i < node.childNodes.length; i++) {\r\n            if (node.childNodes[i].nodeName === name) {\r\n                return node.childNodes[i];\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    XmlDom.getNodeTextValue = function (node) {\r\n        var cdataSection = this.getChildNode(node, '#cdata-section'), textSection = this.getChildNode(node, '#text');\r\n        if (cdataSection) {\r\n            return cdataSection.nodeValue;\r\n        }\r\n        else if (textSection) {\r\n            return textSection.nodeValue;\r\n        }\r\n        return '';\r\n    };\r\n    XmlDom.getChildNodeTextValue = function (node, name) {\r\n        var element = this.getElement(node, name);\r\n        if (element === null) {\r\n            return '';\r\n        }\r\n        return this.getNodeTextValue(element);\r\n    };\r\n    return XmlDom;\r\n}());\r\nexports.XmlDom = XmlDom;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hZHNwbGF5ZXIvLi9zcmMvbGliL3V0aWxzL3htbGRvbS50cz9iMzAzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0VBMkJFOztBQUVGO0lBQUE7SUFnRUEsQ0FBQztJQS9EVSwyQkFBb0IsR0FBRyxVQUFTLElBQWlCLEVBQUUsSUFBSTtRQUMxRCxJQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsb0JBQW9CLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDL0MsSUFBSSxRQUFRLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtZQUNyQixPQUFPLFFBQVEsQ0FBQztTQUNuQjtRQUNELElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxpQkFBaUIsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDO1FBQ3RELElBQUksQ0FBQyxLQUFLLEVBQUU7WUFDUixPQUFPLFFBQVEsQ0FBQztTQUNuQjtRQUNELElBQUksWUFBWSxHQUFHLEtBQUssQ0FBQyxZQUFZLENBQUM7UUFDdEMsT0FBTyxJQUFJLENBQUMsc0JBQXNCLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQzNELENBQUM7SUFFTSxpQkFBVSxHQUFHLFVBQVMsSUFBSSxFQUFFLElBQUk7UUFDbkMsSUFBSSxRQUFRLEdBQUcsSUFBSSxDQUFDLG9CQUFvQixDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNyRCxJQUFJLFFBQVEsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO1lBQ3JCLE9BQU8sSUFBSSxDQUFDO1NBQ2Y7UUFDRCxPQUFPLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUN2QixDQUFDO0lBRU0sa0JBQVcsR0FBRyxVQUFTLElBQUksRUFBRSxJQUFJO1FBQ3BDLE9BQU8sSUFBSSxDQUFDLG9CQUFvQixDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztJQUNqRCxDQUFDO0lBRU0scUJBQWMsR0FBRyxVQUFTLElBQUksRUFBRSxJQUFJLEVBQUUsT0FBTztRQUNoRCxJQUFJLE9BQU8sR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztRQUMxQyxJQUFJLE9BQU8sS0FBSyxJQUFJLEVBQUU7WUFDbEIsT0FBTyxFQUFFLENBQUM7U0FDYjtRQUNELE9BQU8sSUFBSSxDQUFDLFdBQVcsQ0FBQyxPQUFPLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDOUMsQ0FBQztJQUVNLG1CQUFZLEdBQUcsVUFBVSxJQUFJLEVBQUUsSUFBSTtRQUN0QyxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRTtZQUMzQixPQUFPLElBQUksQ0FBQztTQUNmO1FBQ0QsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO1lBQzdDLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLEtBQUssSUFBSSxFQUFFO2dCQUN0QyxPQUFPLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUM7YUFDN0I7U0FDSjtRQUNELE9BQU8sSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFFTSx1QkFBZ0IsR0FBRyxVQUFVLElBQUk7UUFDcEMsSUFBSSxZQUFZLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLEVBQUUsZ0JBQWdCLENBQUMsRUFDeEQsV0FBVyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ25ELElBQUksWUFBWSxFQUFFO1lBQ2QsT0FBTyxZQUFZLENBQUMsU0FBUyxDQUFDO1NBQ2pDO2FBQU0sSUFBSSxXQUFXLEVBQUU7WUFDcEIsT0FBTyxXQUFXLENBQUMsU0FBUyxDQUFDO1NBQ2hDO1FBQ0QsT0FBTyxFQUFFLENBQUM7SUFDZCxDQUFDO0lBRU0sNEJBQXFCLEdBQUcsVUFBVSxJQUFJLEVBQUUsSUFBSTtRQUMvQyxJQUFJLE9BQU8sR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztRQUMxQyxJQUFJLE9BQU8sS0FBSyxJQUFJLEVBQUU7WUFDbEIsT0FBTyxFQUFFLENBQUM7U0FDYjtRQUNELE9BQU8sSUFBSSxDQUFDLGdCQUFnQixDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQzFDLENBQUM7SUFDTCxhQUFDO0NBQUE7QUFoRVksd0JBQU0iLCJmaWxlIjoiNy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXHJcbiogVGhlIGNvcHlyaWdodCBpbiB0aGlzIHNvZnR3YXJlIG1vZHVsZSBpcyBiZWluZyBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgQlNEIExpY2Vuc2UsIGluY2x1ZGVkXHJcbiogYmVsb3cuIFRoaXMgc29mdHdhcmUgbW9kdWxlIG1heSBiZSBzdWJqZWN0IHRvIG90aGVyIHRoaXJkIHBhcnR5IGFuZC9vciBjb250cmlidXRvciByaWdodHMsXHJcbiogaW5jbHVkaW5nIHBhdGVudCByaWdodHMsIGFuZCBubyBzdWNoIHJpZ2h0cyBhcmUgZ3JhbnRlZCB1bmRlciB0aGlzIGxpY2Vuc2UuXHJcbipcclxuKiBDb3B5cmlnaHQgKGMpIDIwMTYsIE9yYW5nZVxyXG4qIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbipcclxuKiBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXQgbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkXHJcbiogcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlIG1ldDpcclxuKiAtIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnNcclxuKiAgIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXHJcbiogLSBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdCBvZlxyXG4qICAgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZSBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWRcclxuKiAgIHdpdGggdGhlIGRpc3RyaWJ1dGlvbi5cclxuKiAtIE5laXRoZXIgdGhlIG5hbWUgb2YgT3JhbmdlIG5vciB0aGUgbmFtZXMgb2YgaXRzIGNvbnRyaWJ1dG9ycyBtYXkgYmUgdXNlZCB0byBlbmRvcnNlIG9yIHByb21vdGVcclxuKiAgIHByb2R1Y3RzIGRlcml2ZWQgZnJvbSB0aGlzIHNvZnR3YXJlIG1vZHVsZSB3aXRob3V0IHNwZWNpZmljIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi5cclxuKlxyXG4qXHJcbiogVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SUyDigJxBUyBJU+KAnSBBTkQgQU5ZIEVYUFJFU1MgT1JcclxuKiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkRcclxuKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVCBIT0xERVIgT1xyXG4qIENPTlRSSUJVVE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLCBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUxcclxuKiBEQU1BR0VTIChJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsXHJcbiogREFUQSwgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZIFRIRU9SWSBPRiBMSUFCSUxJVFksXHJcbiogV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVCAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWVxyXG4qIFdBWSBPVVQgT0YgVEhFIFVTRSBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxyXG4qL1xyXG5cclxuZXhwb3J0IGNsYXNzIFhtbERvbSB7XHJcbiAgICBzdGF0aWMgZ2V0RWxlbWVudHNCeVRhZ05hbWUgPSBmdW5jdGlvbihub2RlOiBYTUxEb2N1bWVudCwgbmFtZSkge1xyXG4gICAgICAgIGxldCBlbGVtZW50cyA9IG5vZGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUobmFtZSk7XHJcbiAgICAgICAgaWYgKGVsZW1lbnRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnRzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgY2hpbGQgPSBub2RlLmZpcnN0RWxlbWVudENoaWxkIHx8IG5vZGUuZmlyc3RDaGlsZDtcclxuICAgICAgICBpZiAoIWNoaWxkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50cztcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IG5hbWVzcGFjZVVSSSA9IGNoaWxkLm5hbWVzcGFjZVVSSTtcclxuICAgICAgICByZXR1cm4gbm9kZS5nZXRFbGVtZW50c0J5VGFnTmFtZU5TKG5hbWVzcGFjZVVSSSwgbmFtZSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldEVsZW1lbnQgPSBmdW5jdGlvbihub2RlLCBuYW1lKSB7XHJcbiAgICAgICAgbGV0IGVsZW1lbnRzID0gdGhpcy5nZXRFbGVtZW50c0J5VGFnTmFtZShub2RlLCBuYW1lKTtcclxuICAgICAgICBpZiAoZWxlbWVudHMubGVuZ3RoIDwgMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGVsZW1lbnRzWzBdO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXRFbGVtZW50cyA9IGZ1bmN0aW9uKG5vZGUsIG5hbWUpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRFbGVtZW50c0J5VGFnTmFtZShub2RlLCBuYW1lKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0U3ViRWxlbWVudHMgPSBmdW5jdGlvbihub2RlLCBuYW1lLCBzdWJOYW1lKSB7XHJcbiAgICAgICAgbGV0IGVsZW1lbnQgPSB0aGlzLmdldEVsZW1lbnQobm9kZSwgbmFtZSk7XHJcbiAgICAgICAgaWYgKGVsZW1lbnQgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRFbGVtZW50cyhlbGVtZW50LCBzdWJOYW1lKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0Q2hpbGROb2RlID0gZnVuY3Rpb24gKG5vZGUsIG5hbWUpIHtcclxuICAgICAgICBpZiAoIW5vZGUgfHwgIW5vZGUuY2hpbGROb2Rlcykge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBub2RlLmNoaWxkTm9kZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKG5vZGUuY2hpbGROb2Rlc1tpXS5ub2RlTmFtZSA9PT0gbmFtZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5vZGUuY2hpbGROb2Rlc1tpXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0Tm9kZVRleHRWYWx1ZSA9IGZ1bmN0aW9uIChub2RlKSB7XHJcbiAgICAgICAgbGV0IGNkYXRhU2VjdGlvbiA9IHRoaXMuZ2V0Q2hpbGROb2RlKG5vZGUsICcjY2RhdGEtc2VjdGlvbicpLFxyXG4gICAgICAgICAgICB0ZXh0U2VjdGlvbiA9IHRoaXMuZ2V0Q2hpbGROb2RlKG5vZGUsICcjdGV4dCcpO1xyXG4gICAgICAgIGlmIChjZGF0YVNlY3Rpb24pIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNkYXRhU2VjdGlvbi5ub2RlVmFsdWU7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0ZXh0U2VjdGlvbikge1xyXG4gICAgICAgICAgICByZXR1cm4gdGV4dFNlY3Rpb24ubm9kZVZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gJyc7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldENoaWxkTm9kZVRleHRWYWx1ZSA9IGZ1bmN0aW9uIChub2RlLCBuYW1lKSB7XHJcbiAgICAgICAgbGV0IGVsZW1lbnQgPSB0aGlzLmdldEVsZW1lbnQobm9kZSwgbmFtZSk7XHJcbiAgICAgICAgaWYgKGVsZW1lbnQgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5nZXROb2RlVGV4dFZhbHVlKGVsZW1lbnQpO1xyXG4gICAgfVxyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///7\n")},function(module,exports,__webpack_require__){"use strict";eval('\r\nObject.defineProperty(exports, "__esModule", { value: true });\r\nvar AdsPlayer_1 = __webpack_require__(9);\r\nexports.AdsPlayer = AdsPlayer_1.AdsPlayer;\r\nvar Events_1 = __webpack_require__(1);\r\nexports.EventTypes = Events_1.EventTypes;\r\nvar Errors_1 = __webpack_require__(5);\r\nexports.ErrorCodes = Errors_1.ErrorCodes;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hZHNwbGF5ZXIvLi9pbmRleC50cz9hOTU5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEseUNBQTRDO0FBQW5DLHlDQUFTO0FBQ2xCLHNDQUFpRDtBQUFqQyx3Q0FBVTtBQUMxQixzQ0FBMEM7QUFBakMsd0NBQVUiLCJmaWxlIjoiOC5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB7IEFkc1BsYXllciB9IGZyb20gJy4vc3JjL0Fkc1BsYXllcic7XHJcbmV4cG9ydCB7IEV2ZW50LCBFdmVudFR5cGVzIH0gZnJvbSAnLi9zcmMvRXZlbnRzJztcclxuZXhwb3J0IHsgRXJyb3JDb2RlcyB9IGZyb20gJy4vc3JjL0Vycm9ycyc7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///8\n')},function(module,exports,__webpack_require__){"use strict";eval('\r\n/*\r\n* The copyright in this software module is being made available under the BSD License, included\r\n* below. This software module may be subject to other third party and/or contributor rights,\r\n* including patent rights, and no such rights are granted under this license.\r\n*\r\n* Copyright (c) 2016, Orange\r\n* All rights reserved.\r\n*\r\n* Redistribution and use in source and binary forms, with or without modification, are permitted\r\n* provided that the following conditions are met:\r\n* - Redistributions of source code must retain the above copyright notice, this list of conditions\r\n*   and the following disclaimer.\r\n* - Redistributions in binary form must reproduce the above copyright notice, this list of\r\n*   conditions and the following disclaimer in the documentation and/or other materials provided\r\n*   with the distribution.\r\n* - Neither the name of Orange nor the names of its contributors may be used to endorse or promote\r\n*   products derived from this software module without specific prior written permission.\r\n*\r\n*\r\n* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS “AS IS” AND ANY EXPRESS OR\r\n* IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\r\n* FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER O\r\n* CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\r\n* DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\r\n* DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\r\n* WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY\r\n* WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n*/\r\nObject.defineProperty(exports, "__esModule", { value: true });\r\nvar AdsPlayerController_1 = __webpack_require__(10);\r\nvar EventBus_1 = __webpack_require__(3);\r\nvar Config_1 = __webpack_require__(4);\r\nvar Logger_1 = __webpack_require__(0);\r\nvar Events_1 = __webpack_require__(1);\r\nvar NAME = \'AdsPlayer\';\r\nvar VERSION = "1.7.0-dev";\r\nvar BUILDDATE = "2020-11-19";\r\nvar AdsPlayer = /** @class */ (function () {\r\n    // #endregion MEMBERS\r\n    // --------------------------------------------------\r\n    // #region PUBLIC FUNCTIONS\r\n    // --------------------------------------------------\r\n    function AdsPlayer() {\r\n        this.adsPlayerController = null;\r\n        this.eventBus = new EventBus_1.EventBus();\r\n        this.logger = Logger_1.Logger.getInstance();\r\n        this.config = Config_1.Config.getInstance();\r\n        this.error = null;\r\n        this.onErrorListener = this.onError.bind(this);\r\n    }\r\n    /**\r\n    * Returns the plugin name.\r\n    * @return {string} the plugin name\r\n    */\r\n    AdsPlayer.prototype.getName = function () {\r\n        return NAME;\r\n    };\r\n    /**\r\n    * Initializes the plugin.\r\n    * @param {HTMLMediaElement} video - the main video player\r\n    * @param {HTMLElement} adsPlayerContainer - the HTML element that will contains ad media element\r\n    * @param {boolean} handleMainPlayerPlayback - true (by default) if AdsPlayer shall handle the main video playback state\r\n    * @param {boolean} handleClickThrough - true (by default) if AdsPlayer shall handle the user clicks during ad playback\r\n    * @param {Function} filterTriggersFn - the callback function to filter triggers\r\n    */\r\n    AdsPlayer.prototype.init = function (video, adsPlayerContainer, handleMainPlayerPlayback, handleClickThrough, filterTriggersFn) {\r\n        if (handleMainPlayerPlayback === void 0) { handleMainPlayerPlayback = true; }\r\n        if (handleClickThrough === void 0) { handleClickThrough = true; }\r\n        this.adsPlayerController = new AdsPlayerController_1.AdsPlayerController(this.eventBus);\r\n        this.adsPlayerController.init(video, adsPlayerContainer);\r\n        this.config.handleMainPlayerPlayback = handleMainPlayerPlayback;\r\n        this.config.handleClickThrough = handleClickThrough;\r\n        this.config.filterTriggersFn = filterTriggersFn;\r\n        this.eventBus.addEventListener(Events_1.EventTypes.ERROR, this.onErrorListener);\r\n    };\r\n    /**\r\n    * This method is invoked when a new stream is to be loaded/opened.\r\n    * @param {object} url - the ads (MAST) description file url\r\n    * @param {number} startTime - the playback time before which triggers shall be ignored\r\n    */\r\n    AdsPlayer.prototype.load = function (adsUrl, startTime) {\r\n        return this.adsPlayerController.load(adsUrl, startTime);\r\n    };\r\n    /**\r\n    * This method is invoked when the current stream is to be stopped.\r\n    */\r\n    AdsPlayer.prototype.stop = function () {\r\n        this.adsPlayerController.stop();\r\n    };\r\n    /**\r\n    * This method is invoked when the player is to be reset.\r\n    */\r\n    AdsPlayer.prototype.reset = function () {\r\n        this.adsPlayerController.reset();\r\n    };\r\n    /**\r\n    * This method is invoked when this plugin is being removed/destroyed.\r\n    */\r\n    AdsPlayer.prototype.destroy = function () {\r\n        this.adsPlayerController.destroy();\r\n        this.eventBus.removeAllEventListener();\r\n    };\r\n    /**\r\n    * Returns the plugin version.\r\n    * @return {string} the plugin version\r\n    */\r\n    AdsPlayer.prototype.getVersion = function () {\r\n        return VERSION;\r\n    };\r\n    /**\r\n    * Returns the full plugin version, including git revision\r\n    * @return {string} the full plugin version, including git revision\r\n    */\r\n    AdsPlayer.prototype.getVersionFull = function () {\r\n        return VERSION;\r\n    };\r\n    /**\r\n    * Returns the build date.\r\n    * @return {string} the build date\r\n    */\r\n    AdsPlayer.prototype.getBuildDate = function () {\r\n        return BUILDDATE;\r\n    };\r\n    /**\r\n    * Plays/resumes the playback of the current ad.\r\n    */\r\n    AdsPlayer.prototype.play = function () {\r\n        this.adsPlayerController.play();\r\n    };\r\n    /**\r\n    * Pauses the playback of the current ad.\r\n    */\r\n    AdsPlayer.prototype.pause = function () {\r\n        this.adsPlayerController.pause();\r\n    };\r\n    /**\r\n    * Registers a listener on the specified event. See {@link Event} for the syntax of the events\r\n    * and {@link EventTypes} for the types of event that can be raised.\r\n    * @param {string} type - the event type for listen to\r\n    * @param {callback} listener - the callback which is called when an event of the specified type occurs\r\n    */\r\n    AdsPlayer.prototype.addEventListener = function (type, listener) {\r\n        this.eventBus.addEventListener(type, listener);\r\n    };\r\n    /**\r\n    * Unregisters the listener previously registered with the addEventListener() method.\r\n    * @param {string} type - the event type on which the listener was registered\r\n    * @param {callback} listener - the callback which was registered to the event type\r\n    */\r\n    AdsPlayer.prototype.removeEventListener = function (type, listener) {\r\n        this.eventBus.removeEventListener(type, listener);\r\n    };\r\n    /**\r\n    * Returns the Error object for the most recent error.\r\n    * @return {object} the Error object for the most recent error, or null if there has not been an error\r\n    */\r\n    AdsPlayer.prototype.getError = function () {\r\n        return this.error;\r\n    };\r\n    /**\r\n    * Enables or disables log messages.\r\n    * @return {boolean} enable - true to enable log messages, false otherwise\r\n    */\r\n    AdsPlayer.prototype.enableLogs = function (enable) {\r\n        this.logger.setLevel(enable ? 4 : 0);\r\n    };\r\n    // #region PRIVATE FUNCTIONS\r\n    // --------------------------------------------------\r\n    AdsPlayer.prototype.onError = function (e) {\r\n        this.error = e.data;\r\n    };\r\n    return AdsPlayer;\r\n}());\r\nexports.AdsPlayer = AdsPlayer;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hZHNwbGF5ZXIvLi9zcmMvQWRzUGxheWVyLnRzPzIwZmUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7RUEyQkU7O0FBRUYsb0RBQWdFO0FBQ2hFLHdDQUEwQztBQUMxQyxzQ0FBc0M7QUFDdEMsc0NBQXNDO0FBQ3RDLHNDQUFzQztBQUV0QyxJQUFNLElBQUksR0FBRyxXQUFXLENBQUM7QUFFekIsSUFBTSxPQUFPLEdBQUcsV0FBVyxDQUFDO0FBRTVCLElBQU0sU0FBUyxHQUFHLFlBQWEsQ0FBQztBQUVoQztJQWNJLHFCQUFxQjtJQUNyQixxREFBcUQ7SUFFckQsMkJBQTJCO0lBQzNCLHFEQUFxRDtJQUVyRDtRQUNJLElBQUksQ0FBQyxtQkFBbUIsR0FBRyxJQUFJLENBQUM7UUFDaEMsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLG1CQUFRLEVBQUUsQ0FBQztRQUMvQixJQUFJLENBQUMsTUFBTSxHQUFHLGVBQU0sQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUNuQyxJQUFJLENBQUMsTUFBTSxHQUFHLGVBQU0sQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUVuQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQztRQUNsQixJQUFJLENBQUMsZUFBZSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ25ELENBQUM7SUFFRDs7O01BR0U7SUFDRiwyQkFBTyxHQUFQO1FBQ0ksT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUVEOzs7Ozs7O01BT0U7SUFDRix3QkFBSSxHQUFKLFVBQU0sS0FBdUIsRUFDdkIsa0JBQStCLEVBQy9CLHdCQUF3QyxFQUN4QyxrQkFBa0MsRUFDbEMsZ0JBQTJCO1FBRjNCLDBFQUF3QztRQUN4Qyw4REFBa0M7UUFFcEMsSUFBSSxDQUFDLG1CQUFtQixHQUFHLElBQUkseUNBQW1CLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ2xFLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLGtCQUFrQixDQUFDLENBQUM7UUFDekQsSUFBSSxDQUFDLE1BQU0sQ0FBQyx3QkFBd0IsR0FBRyx3QkFBd0IsQ0FBQztRQUNoRSxJQUFJLENBQUMsTUFBTSxDQUFDLGtCQUFrQixHQUFHLGtCQUFrQixDQUFDO1FBQ3BELElBQUksQ0FBQyxNQUFNLENBQUMsZ0JBQWdCLEdBQUcsZ0JBQWdCLENBQUM7UUFDaEQsSUFBSSxDQUFDLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxtQkFBVSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUM7SUFDM0UsQ0FBQztJQUVEOzs7O01BSUU7SUFDRix3QkFBSSxHQUFKLFVBQU0sTUFBYyxFQUFFLFNBQWtCO1FBQ3BDLE9BQU8sSUFBSSxDQUFDLG1CQUFtQixDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsU0FBUyxDQUFDLENBQUM7SUFDNUQsQ0FBQztJQUVEOztNQUVFO0lBQ0Ysd0JBQUksR0FBSjtRQUNJLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUNwQyxDQUFDO0lBRUQ7O01BRUU7SUFDRix5QkFBSyxHQUFMO1FBQ0ksSUFBSSxDQUFDLG1CQUFtQixDQUFDLEtBQUssRUFBRSxDQUFDO0lBQ3JDLENBQUM7SUFFRDs7TUFFRTtJQUNGLDJCQUFPLEdBQVA7UUFDSSxJQUFJLENBQUMsbUJBQW1CLENBQUMsT0FBTyxFQUFFLENBQUM7UUFDbkMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxzQkFBc0IsRUFBRSxDQUFDO0lBQzNDLENBQUM7SUFFRDs7O01BR0U7SUFDRiw4QkFBVSxHQUFWO1FBQ0ksT0FBTyxPQUFPLENBQUM7SUFDbkIsQ0FBQztJQUVEOzs7TUFHRTtJQUNGLGtDQUFjLEdBQWQ7UUFDSSxPQUFPLE9BQU8sQ0FBQztJQUNuQixDQUFDO0lBRUQ7OztNQUdFO0lBQ0YsZ0NBQVksR0FBWjtRQUNJLE9BQU8sU0FBUyxDQUFDO0lBQ3JCLENBQUM7SUFFRDs7TUFFRTtJQUNGLHdCQUFJLEdBQUo7UUFDSSxJQUFJLENBQUMsbUJBQW1CLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDcEMsQ0FBQztJQUVEOztNQUVFO0lBQ0YseUJBQUssR0FBTDtRQUNJLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxLQUFLLEVBQUUsQ0FBQztJQUNyQyxDQUFDO0lBRUQ7Ozs7O01BS0U7SUFDRixvQ0FBZ0IsR0FBaEIsVUFBa0IsSUFBWSxFQUFFLFFBQWE7UUFDekMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLEVBQUUsUUFBUSxDQUFDLENBQUM7SUFDbkQsQ0FBQztJQUVEOzs7O01BSUU7SUFDRix1Q0FBbUIsR0FBbkIsVUFBcUIsSUFBWSxFQUFFLFFBQWE7UUFDNUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxtQkFBbUIsQ0FBQyxJQUFJLEVBQUUsUUFBUSxDQUFDLENBQUM7SUFDdEQsQ0FBQztJQUVEOzs7TUFHRTtJQUNGLDRCQUFRLEdBQVI7UUFDSSxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUM7SUFDdEIsQ0FBQztJQUVEOzs7TUFHRTtJQUNGLDhCQUFVLEdBQVYsVUFBWSxNQUFNO1FBQ2QsSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsTUFBTSxFQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUN4QyxDQUFDO0lBRUQsNEJBQTRCO0lBQzVCLHFEQUFxRDtJQUU3QywyQkFBTyxHQUFmLFVBQWlCLENBQUM7UUFDZCxJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUM7SUFDeEIsQ0FBQztJQUlMLGdCQUFDO0FBQUQsQ0FBQztBQTVLWSw4QkFBUyIsImZpbGUiOiI5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLypcclxuKiBUaGUgY29weXJpZ2h0IGluIHRoaXMgc29mdHdhcmUgbW9kdWxlIGlzIGJlaW5nIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSBCU0QgTGljZW5zZSwgaW5jbHVkZWRcclxuKiBiZWxvdy4gVGhpcyBzb2Z0d2FyZSBtb2R1bGUgbWF5IGJlIHN1YmplY3QgdG8gb3RoZXIgdGhpcmQgcGFydHkgYW5kL29yIGNvbnRyaWJ1dG9yIHJpZ2h0cyxcclxuKiBpbmNsdWRpbmcgcGF0ZW50IHJpZ2h0cywgYW5kIG5vIHN1Y2ggcmlnaHRzIGFyZSBncmFudGVkIHVuZGVyIHRoaXMgbGljZW5zZS5cclxuKlxyXG4qIENvcHlyaWdodCAoYykgMjAxNiwgT3JhbmdlXHJcbiogQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuKlxyXG4qIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dCBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWRcclxuKiBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmUgbWV0OlxyXG4qIC0gUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9uc1xyXG4qICAgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cclxuKiAtIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSwgdGhpcyBsaXN0IG9mXHJcbiogICBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIgaW4gdGhlIGRvY3VtZW50YXRpb24gYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZFxyXG4qICAgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxyXG4qIC0gTmVpdGhlciB0aGUgbmFtZSBvZiBPcmFuZ2Ugbm9yIHRoZSBuYW1lcyBvZiBpdHMgY29udHJpYnV0b3JzIG1heSBiZSB1c2VkIHRvIGVuZG9yc2Ugb3IgcHJvbW90ZVxyXG4qICAgcHJvZHVjdHMgZGVyaXZlZCBmcm9tIHRoaXMgc29mdHdhcmUgbW9kdWxlIHdpdGhvdXQgc3BlY2lmaWMgcHJpb3Igd3JpdHRlbiBwZXJtaXNzaW9uLlxyXG4qXHJcbipcclxuKiBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTIOKAnEFTIElT4oCdIEFORCBBTlkgRVhQUkVTUyBPUlxyXG4qIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFRIRSBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORFxyXG4qIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFSRSBESVNDTEFJTUVELiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQ09QWVJJR0hUIEhPTERFUiBPXHJcbiogQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTFxyXG4qIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSxcclxuKiBEQVRBLCBPUiBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTlkgVEhFT1JZIE9GIExJQUJJTElUWSxcclxuKiBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZXHJcbiogV0FZIE9VVCBPRiBUSEUgVVNFIE9GIFRISVMgU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEUgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuXHJcbiovXHJcblxyXG5pbXBvcnQgeyBBZHNQbGF5ZXJDb250cm9sbGVyIH0gZnJvbSAnLi9saWIvQWRzUGxheWVyQ29udHJvbGxlcic7XHJcbmltcG9ydCB7IEV2ZW50QnVzIH0gZnJvbSAnLi9saWIvRXZlbnRCdXMnO1xyXG5pbXBvcnQgeyBDb25maWcgfSBmcm9tICcuL2xpYi9Db25maWcnO1xyXG5pbXBvcnQgeyBMb2dnZXIgfSBmcm9tICcuL2xpYi9Mb2dnZXInO1xyXG5pbXBvcnQgeyBFdmVudFR5cGVzIH0gZnJvbSAnLi9FdmVudHMnO1xyXG5cclxuY29uc3QgTkFNRSA9ICdBZHNQbGF5ZXInO1xyXG5kZWNsYXJlIGNvbnN0IF9fVkVSU0lPTl9fOiBzdHJpbmc7XHJcbmNvbnN0IFZFUlNJT04gPSBfX1ZFUlNJT05fXztcclxuZGVjbGFyZSBjb25zdCBfX0JVSUxEREFURV9fOiBzdHJpbmc7XHJcbmNvbnN0IEJVSUxEREFURSA9IF9fQlVJTEREQVRFX187XHJcblxyXG5leHBvcnQgY2xhc3MgQWRzUGxheWVyIHtcclxuXHJcbiAgICAvLyAjcmVnaW9uIE1FTUJFUlNcclxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICAgcHJpdmF0ZSBhZHNQbGF5ZXJDb250cm9sbGVyOiBBZHNQbGF5ZXJDb250cm9sbGVyO1xyXG4gICAgcHJpdmF0ZSBjb25maWc6IENvbmZpZztcclxuICAgIHByaXZhdGUgbG9nZ2VyOiBMb2dnZXI7XHJcbiAgICBwcml2YXRlIGV2ZW50QnVzOiBFdmVudEJ1cztcclxuXHJcbiAgICBwcml2YXRlIGVycm9yO1xyXG4gICAgcHJpdmF0ZSBvbkVycm9yTGlzdGVuZXI7XHJcblxyXG5cclxuICAgIC8vICNlbmRyZWdpb24gTUVNQkVSU1xyXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgICAvLyAjcmVnaW9uIFBVQkxJQyBGVU5DVElPTlNcclxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICAgY29uc3RydWN0b3IgKCkge1xyXG4gICAgICAgIHRoaXMuYWRzUGxheWVyQ29udHJvbGxlciA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5ldmVudEJ1cyA9IG5ldyBFdmVudEJ1cygpO1xyXG4gICAgICAgIHRoaXMubG9nZ2VyID0gTG9nZ2VyLmdldEluc3RhbmNlKCk7XHJcbiAgICAgICAgdGhpcy5jb25maWcgPSBDb25maWcuZ2V0SW5zdGFuY2UoKTtcclxuXHJcbiAgICAgICAgdGhpcy5lcnJvciA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5vbkVycm9yTGlzdGVuZXIgPSB0aGlzLm9uRXJyb3IuYmluZCh0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogUmV0dXJucyB0aGUgcGx1Z2luIG5hbWUuXHJcbiAgICAqIEByZXR1cm4ge3N0cmluZ30gdGhlIHBsdWdpbiBuYW1lXHJcbiAgICAqL1xyXG4gICAgZ2V0TmFtZSAoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gTkFNRTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogSW5pdGlhbGl6ZXMgdGhlIHBsdWdpbi5cclxuICAgICogQHBhcmFtIHtIVE1MTWVkaWFFbGVtZW50fSB2aWRlbyAtIHRoZSBtYWluIHZpZGVvIHBsYXllclxyXG4gICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBhZHNQbGF5ZXJDb250YWluZXIgLSB0aGUgSFRNTCBlbGVtZW50IHRoYXQgd2lsbCBjb250YWlucyBhZCBtZWRpYSBlbGVtZW50XHJcbiAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaGFuZGxlTWFpblBsYXllclBsYXliYWNrIC0gdHJ1ZSAoYnkgZGVmYXVsdCkgaWYgQWRzUGxheWVyIHNoYWxsIGhhbmRsZSB0aGUgbWFpbiB2aWRlbyBwbGF5YmFjayBzdGF0ZVxyXG4gICAgKiBAcGFyYW0ge2Jvb2xlYW59IGhhbmRsZUNsaWNrVGhyb3VnaCAtIHRydWUgKGJ5IGRlZmF1bHQpIGlmIEFkc1BsYXllciBzaGFsbCBoYW5kbGUgdGhlIHVzZXIgY2xpY2tzIGR1cmluZyBhZCBwbGF5YmFja1xyXG4gICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmaWx0ZXJUcmlnZ2Vyc0ZuIC0gdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGZpbHRlciB0cmlnZ2Vyc1xyXG4gICAgKi9cclxuICAgIGluaXQgKHZpZGVvOiBIVE1MTWVkaWFFbGVtZW50LFxyXG4gICAgICAgICAgYWRzUGxheWVyQ29udGFpbmVyOiBIVE1MRWxlbWVudCxcclxuICAgICAgICAgIGhhbmRsZU1haW5QbGF5ZXJQbGF5YmFjazogYm9vbGVhbiA9IHRydWUsXHJcbiAgICAgICAgICBoYW5kbGVDbGlja1Rocm91Z2g6IGJvb2xlYW4gPSB0cnVlLFxyXG4gICAgICAgICAgZmlsdGVyVHJpZ2dlcnNGbj86IEZ1bmN0aW9uKSB7XHJcbiAgICAgICAgdGhpcy5hZHNQbGF5ZXJDb250cm9sbGVyID0gbmV3IEFkc1BsYXllckNvbnRyb2xsZXIodGhpcy5ldmVudEJ1cyk7XHJcbiAgICAgICAgdGhpcy5hZHNQbGF5ZXJDb250cm9sbGVyLmluaXQodmlkZW8sIGFkc1BsYXllckNvbnRhaW5lcik7XHJcbiAgICAgICAgdGhpcy5jb25maWcuaGFuZGxlTWFpblBsYXllclBsYXliYWNrID0gaGFuZGxlTWFpblBsYXllclBsYXliYWNrO1xyXG4gICAgICAgIHRoaXMuY29uZmlnLmhhbmRsZUNsaWNrVGhyb3VnaCA9IGhhbmRsZUNsaWNrVGhyb3VnaDtcclxuICAgICAgICB0aGlzLmNvbmZpZy5maWx0ZXJUcmlnZ2Vyc0ZuID0gZmlsdGVyVHJpZ2dlcnNGbjtcclxuICAgICAgICB0aGlzLmV2ZW50QnVzLmFkZEV2ZW50TGlzdGVuZXIoRXZlbnRUeXBlcy5FUlJPUiwgdGhpcy5vbkVycm9yTGlzdGVuZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBUaGlzIG1ldGhvZCBpcyBpbnZva2VkIHdoZW4gYSBuZXcgc3RyZWFtIGlzIHRvIGJlIGxvYWRlZC9vcGVuZWQuXHJcbiAgICAqIEBwYXJhbSB7b2JqZWN0fSB1cmwgLSB0aGUgYWRzIChNQVNUKSBkZXNjcmlwdGlvbiBmaWxlIHVybFxyXG4gICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRUaW1lIC0gdGhlIHBsYXliYWNrIHRpbWUgYmVmb3JlIHdoaWNoIHRyaWdnZXJzIHNoYWxsIGJlIGlnbm9yZWRcclxuICAgICovXHJcbiAgICBsb2FkIChhZHNVcmw6IHN0cmluZywgc3RhcnRUaW1lPzogbnVtYmVyKTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRzUGxheWVyQ29udHJvbGxlci5sb2FkKGFkc1VybCwgc3RhcnRUaW1lKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogVGhpcyBtZXRob2QgaXMgaW52b2tlZCB3aGVuIHRoZSBjdXJyZW50IHN0cmVhbSBpcyB0byBiZSBzdG9wcGVkLlxyXG4gICAgKi9cclxuICAgIHN0b3AgKCkge1xyXG4gICAgICAgIHRoaXMuYWRzUGxheWVyQ29udHJvbGxlci5zdG9wKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFRoaXMgbWV0aG9kIGlzIGludm9rZWQgd2hlbiB0aGUgcGxheWVyIGlzIHRvIGJlIHJlc2V0LlxyXG4gICAgKi9cclxuICAgIHJlc2V0ICgpIHtcclxuICAgICAgICB0aGlzLmFkc1BsYXllckNvbnRyb2xsZXIucmVzZXQoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogVGhpcyBtZXRob2QgaXMgaW52b2tlZCB3aGVuIHRoaXMgcGx1Z2luIGlzIGJlaW5nIHJlbW92ZWQvZGVzdHJveWVkLlxyXG4gICAgKi9cclxuICAgIGRlc3Ryb3kgKCkge1xyXG4gICAgICAgIHRoaXMuYWRzUGxheWVyQ29udHJvbGxlci5kZXN0cm95KCk7XHJcbiAgICAgICAgdGhpcy5ldmVudEJ1cy5yZW1vdmVBbGxFdmVudExpc3RlbmVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFJldHVybnMgdGhlIHBsdWdpbiB2ZXJzaW9uLlxyXG4gICAgKiBAcmV0dXJuIHtzdHJpbmd9IHRoZSBwbHVnaW4gdmVyc2lvblxyXG4gICAgKi9cclxuICAgIGdldFZlcnNpb24gKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIFZFUlNJT047XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFJldHVybnMgdGhlIGZ1bGwgcGx1Z2luIHZlcnNpb24sIGluY2x1ZGluZyBnaXQgcmV2aXNpb25cclxuICAgICogQHJldHVybiB7c3RyaW5nfSB0aGUgZnVsbCBwbHVnaW4gdmVyc2lvbiwgaW5jbHVkaW5nIGdpdCByZXZpc2lvblxyXG4gICAgKi9cclxuICAgIGdldFZlcnNpb25GdWxsICgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiBWRVJTSU9OO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBSZXR1cm5zIHRoZSBidWlsZCBkYXRlLlxyXG4gICAgKiBAcmV0dXJuIHtzdHJpbmd9IHRoZSBidWlsZCBkYXRlXHJcbiAgICAqL1xyXG4gICAgZ2V0QnVpbGREYXRlICgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiBCVUlMRERBVEU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFBsYXlzL3Jlc3VtZXMgdGhlIHBsYXliYWNrIG9mIHRoZSBjdXJyZW50IGFkLlxyXG4gICAgKi9cclxuICAgIHBsYXkgKCkge1xyXG4gICAgICAgIHRoaXMuYWRzUGxheWVyQ29udHJvbGxlci5wbGF5KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFBhdXNlcyB0aGUgcGxheWJhY2sgb2YgdGhlIGN1cnJlbnQgYWQuXHJcbiAgICAqL1xyXG4gICAgcGF1c2UgKCkge1xyXG4gICAgICAgIHRoaXMuYWRzUGxheWVyQ29udHJvbGxlci5wYXVzZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBSZWdpc3RlcnMgYSBsaXN0ZW5lciBvbiB0aGUgc3BlY2lmaWVkIGV2ZW50LiBTZWUge0BsaW5rIEV2ZW50fSBmb3IgdGhlIHN5bnRheCBvZiB0aGUgZXZlbnRzXHJcbiAgICAqIGFuZCB7QGxpbmsgRXZlbnRUeXBlc30gZm9yIHRoZSB0eXBlcyBvZiBldmVudCB0aGF0IGNhbiBiZSByYWlzZWQuXHJcbiAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIC0gdGhlIGV2ZW50IHR5cGUgZm9yIGxpc3RlbiB0b1xyXG4gICAgKiBAcGFyYW0ge2NhbGxiYWNrfSBsaXN0ZW5lciAtIHRoZSBjYWxsYmFjayB3aGljaCBpcyBjYWxsZWQgd2hlbiBhbiBldmVudCBvZiB0aGUgc3BlY2lmaWVkIHR5cGUgb2NjdXJzXHJcbiAgICAqL1xyXG4gICAgYWRkRXZlbnRMaXN0ZW5lciAodHlwZTogc3RyaW5nLCBsaXN0ZW5lcjogYW55KSB7XHJcbiAgICAgICAgdGhpcy5ldmVudEJ1cy5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogVW5yZWdpc3RlcnMgdGhlIGxpc3RlbmVyIHByZXZpb3VzbHkgcmVnaXN0ZXJlZCB3aXRoIHRoZSBhZGRFdmVudExpc3RlbmVyKCkgbWV0aG9kLlxyXG4gICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIHRoZSBldmVudCB0eXBlIG9uIHdoaWNoIHRoZSBsaXN0ZW5lciB3YXMgcmVnaXN0ZXJlZFxyXG4gICAgKiBAcGFyYW0ge2NhbGxiYWNrfSBsaXN0ZW5lciAtIHRoZSBjYWxsYmFjayB3aGljaCB3YXMgcmVnaXN0ZXJlZCB0byB0aGUgZXZlbnQgdHlwZVxyXG4gICAgKi9cclxuICAgIHJlbW92ZUV2ZW50TGlzdGVuZXIgKHR5cGU6IHN0cmluZywgbGlzdGVuZXI6IGFueSkge1xyXG4gICAgICAgIHRoaXMuZXZlbnRCdXMucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcik7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFJldHVybnMgdGhlIEVycm9yIG9iamVjdCBmb3IgdGhlIG1vc3QgcmVjZW50IGVycm9yLlxyXG4gICAgKiBAcmV0dXJuIHtvYmplY3R9IHRoZSBFcnJvciBvYmplY3QgZm9yIHRoZSBtb3N0IHJlY2VudCBlcnJvciwgb3IgbnVsbCBpZiB0aGVyZSBoYXMgbm90IGJlZW4gYW4gZXJyb3JcclxuICAgICovXHJcbiAgICBnZXRFcnJvciAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZXJyb3I7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEVuYWJsZXMgb3IgZGlzYWJsZXMgbG9nIG1lc3NhZ2VzLlxyXG4gICAgKiBAcmV0dXJuIHtib29sZWFufSBlbmFibGUgLSB0cnVlIHRvIGVuYWJsZSBsb2cgbWVzc2FnZXMsIGZhbHNlIG90aGVyd2lzZVxyXG4gICAgKi9cclxuICAgIGVuYWJsZUxvZ3MgKGVuYWJsZSkge1xyXG4gICAgICAgIHRoaXMubG9nZ2VyLnNldExldmVsKGVuYWJsZT8gNCA6IDApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vICNyZWdpb24gUFJJVkFURSBGVU5DVElPTlNcclxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICAgcHJpdmF0ZSBvbkVycm9yIChlKSB7XHJcbiAgICAgICAgdGhpcy5lcnJvciA9IGUuZGF0YTtcclxuICAgIH1cclxuXHJcbiAgICAvLyAjZW5kcmVnaW9uIFBSSVZBVEUgRlVOQ1RJT05TXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///9\n')},function(module,exports,__webpack_require__){"use strict";eval("\r\n/*\r\n* The copyright in this software module is being made available under the BSD License, included\r\n* below. This software module may be subject to other third party and/or contributor rights,\r\n* including patent rights, and no such rights are granted under this license.\r\n*\r\n* Copyright (c) 2016, Orange\r\n* All rights reserved.\r\n*\r\n* Redistribution and use in source and binary forms, with or without modification, are permitted\r\n* provided that the following conditions are met:\r\n* - Redistributions of source code must retain the above copyright notice, this list of conditions\r\n*   and the following disclaimer.\r\n* - Redistributions in binary form must reproduce the above copyright notice, this list of\r\n*   conditions and the following disclaimer in the documentation and/or other materials provided\r\n*   with the distribution.\r\n* - Neither the name of Orange nor the names of its contributors may be used to endorse or promote\r\n*   products derived from this software module without specific prior written permission.\r\n*\r\n*\r\n* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS “AS IS” AND ANY EXPRESS OR\r\n* IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\r\n* FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER O\r\n* CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\r\n* DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\r\n* DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\r\n* WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY\r\n* WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Config_1 = __webpack_require__(4);\r\nvar Logger_1 = __webpack_require__(0);\r\nvar FileLoader_1 = __webpack_require__(11);\r\nvar ErrorHandler_1 = __webpack_require__(12);\r\nvar EventBus_1 = __webpack_require__(3);\r\nvar MastParser_1 = __webpack_require__(13);\r\nvar TriggerManager_1 = __webpack_require__(14);\r\nvar VastParser_1 = __webpack_require__(15);\r\nvar VastPlayerManager_1 = __webpack_require__(17);\r\nvar utils_1 = __webpack_require__(2);\r\nvar Events_1 = __webpack_require__(1);\r\nvar AdsPlayerController = /** @class */ (function () {\r\n    // #endregion MEMBERS\r\n    // --------------------------------------------------\r\n    // #region PUBLIC FUNCTIONS\r\n    // --------------------------------------------------\r\n    function AdsPlayerController(eventBus) {\r\n        this.mainVideo = null;\r\n        this.adsPlayerContainer = null;\r\n        this.mast = null;\r\n        this.fileLoaders = [];\r\n        this.triggerManagers = [];\r\n        this.vastPlayerManager = null;\r\n        this.mastParser = new MastParser_1.MastParser();\r\n        this.vastParser = new VastParser_1.VastParser();\r\n        this.config = Config_1.Config.getInstance();\r\n        this.logger = Logger_1.Logger.getInstance();\r\n        this.eventBus = eventBus;\r\n        this.errorHandler = new ErrorHandler_1.ErrorHandler(eventBus);\r\n        this.onVideoPlayingListener = this.onVideoPlaying.bind(this);\r\n        this.onVideoTimeupdateListener = this.onVideoTimeupdate.bind(this);\r\n        this.onVideoEndedListener = this.onVideoEnded.bind(this);\r\n        this.onTriggerEndListener = this.onTriggerEnd.bind(this);\r\n        this.currentTrigger = null;\r\n    }\r\n    /**\r\n     * Initialize the Ads Player Controller.\r\n     * @method init\r\n     * @access public\r\n     * @memberof AdsPlayerController#\r\n     * @param {Object} video - the HTML5 video element used by the main media player\r\n     * @param {Object} adsPlayerContainer - The container to create the HTML5 video/image elements used to play and render the ads media\r\n     */\r\n    AdsPlayerController.prototype.init = function (video, adsPlayerContainer) {\r\n        this.mainVideo = video;\r\n        this.adsPlayerContainer = adsPlayerContainer;\r\n        // Add <video> event listener\r\n        this.mainVideo.addEventListener('playing', this.onVideoPlayingListener);\r\n        this.mainVideo.addEventListener('timeupdate', this.onVideoTimeupdateListener);\r\n        this.mainVideo.addEventListener('seeking', this.onVideoTimeupdateListener);\r\n        this.mainVideo.addEventListener('ended', this.onVideoEndedListener);\r\n        // Add trigger end event listener\r\n        this.eventBus.addEventListener(EventBus_1.AdEvents.TRIGGER_END, this.onTriggerEndListener);\r\n    };\r\n    /**\r\n     * Load/open a MAST file.\r\n     * @method load\r\n     * @access public\r\n     * @memberof AdsPlayerController#\r\n     * @param {string} mastUrl - the MAST file url\r\n     * @param {number} startTime - the playback time before which triggers shall be ignored\r\n     */\r\n    AdsPlayerController.prototype.load = function (url, startTime) {\r\n        var _this = this;\r\n        var fileLoader = new FileLoader_1.FileLoader();\r\n        // Reset the MAST and trigger managers\r\n        this.mast = null;\r\n        this.triggerManagers = [];\r\n        // Download and parse MAST file\r\n        this.logger.debug('Download MAST file: ' + url);\r\n        return new Promise(function (resolve, reject) {\r\n            fileLoader.load(url).then(function (result) {\r\n                _this.logger.debug('Parse MAST file');\r\n                _this.parseMastFile(result['dom'], result['baseUrl'], startTime);\r\n                // Start managing triggers and ads playing\r\n                resolve(_this.start());\r\n            }).catch(function (error) {\r\n                if (error) {\r\n                    _this.errorHandler.sendError(error.name, error.data);\r\n                    reject(error);\r\n                }\r\n                else {\r\n                    resolve(false);\r\n                }\r\n            });\r\n            _this.fileLoaders.push(fileLoader);\r\n        });\r\n    };\r\n    /**\r\n     * Stops and resets the Ads player.\r\n     * @method reset\r\n     * @access public\r\n     * @memberof AdsPlayerController#\r\n     */\r\n    AdsPlayerController.prototype.stop = function () {\r\n        this.logger.debug('Stop');\r\n        // Stop/abort the file loaders\r\n        for (var i = 0; i < this.fileLoaders.length; i++) {\r\n            this.fileLoaders[i].abort();\r\n        }\r\n        this.fileLoaders = [];\r\n        // Stop the VAST player manager\r\n        if (this.vastPlayerManager) {\r\n            this.vastPlayerManager.stop();\r\n            this.vastPlayerManager = null;\r\n            // Notifies the application ad(s) playback has ended\r\n            // this.eventBus.dispatchEvent(EventTypes.END);\r\n        }\r\n    };\r\n    AdsPlayerController.prototype.reset = function () {\r\n        this.logger.debug('Reset');\r\n        this.stop();\r\n        // Reset the trigger managers\r\n        this.triggerManagers = [];\r\n        // Reset the MAST\r\n        this.mast = null;\r\n    };\r\n    AdsPlayerController.prototype.destroy = function () {\r\n        this.logger.debug('Destroy');\r\n        this.reset();\r\n        // Remove <video> event listener\r\n        this.mainVideo.removeEventListener('playing', this.onVideoPlayingListener);\r\n        this.mainVideo.removeEventListener('timeupdate', this.onVideoTimeupdateListener);\r\n        this.mainVideo.removeEventListener('seeking', this.onVideoTimeupdateListener);\r\n        this.mainVideo.removeEventListener('ended', this.onVideoEndedListener);\r\n        // Remove trigger end event listener\r\n        this.eventBus.removeEventListener('triggerEnd', this.onTriggerEndListener);\r\n    };\r\n    /**\r\n     * Plays/resumes the playback of the current ad.\r\n     * @method reset\r\n     * @access public\r\n     * @memberof AdsPlayerController#\r\n     */\r\n    AdsPlayerController.prototype.play = function () {\r\n        this.logger.debug('Play');\r\n        // Start the VAST player manager\r\n        if (this.vastPlayerManager) {\r\n            this.vastPlayerManager.play();\r\n        }\r\n    };\r\n    /**\r\n     * Pauses the playback of the current ad.\r\n     * @method reset\r\n     * @access public\r\n     * @memberof AdsPlayerController#\r\n     */\r\n    AdsPlayerController.prototype.pause = function () {\r\n        this.logger.debug('Pause');\r\n        // Pause the VAST player manager\r\n        if (this.vastPlayerManager) {\r\n            this.vastPlayerManager.pause();\r\n        }\r\n    };\r\n    // #region PRIVATE FUNCTIONS\r\n    // --------------------------------------------------\r\n    AdsPlayerController.prototype.loadVast = function (url) {\r\n        var _this = this;\r\n        var fileLoader = new FileLoader_1.FileLoader(), vast = null;\r\n        return new Promise(function (resolve /*, reject*/) {\r\n            _this.logger.debug('Download VAST file: ' + url);\r\n            fileLoader.load(url).then(function (result) {\r\n                _this.logger.debug('Parse VAST file');\r\n                vast = _this.vastParser.parse(result['dom']);\r\n                vast.baseUrl = result['baseUrl'];\r\n                resolve(vast);\r\n            }).catch(function (error) {\r\n                if (error) {\r\n                    _this.errorHandler.sendError(error.name, error.data);\r\n                }\r\n                resolve(null);\r\n            });\r\n            _this.fileLoaders.push(fileLoader);\r\n        });\r\n    };\r\n    AdsPlayerController.prototype.loadTriggerVasts = function (trigger) {\r\n        var loadVastPromises = [];\r\n        for (var i = 0; i < trigger.sources.length; i++) {\r\n            var uri = trigger.sources[i].uri;\r\n            // Check for relative uri path and add base url if needed\r\n            uri = utils_1.Utils.isAbsoluteURI(uri) ? uri : (this.mast.baseUrl + uri);\r\n            loadVastPromises.push(this.loadVast(uri));\r\n        }\r\n        return new Promise(function (resolve, reject) {\r\n            Promise.all(loadVastPromises).then(function (vasts) {\r\n                // Push vast objects in the trigger in the original order\r\n                // (this = promises returned objects)\r\n                for (var i = 0; i < vasts.length; i++) {\r\n                    if (vasts[i] && vasts[i].ads && vasts[i].ads.length > 0) {\r\n                        trigger.vasts.push(vasts[i]);\r\n                    }\r\n                }\r\n                resolve();\r\n            }).catch(function () {\r\n                reject();\r\n            });\r\n        });\r\n    };\r\n    AdsPlayerController.prototype.parseMastFile = function (mastContent, mastBaseUrl, startTime) {\r\n        var triggerManager;\r\n        // Parse the MAST file\r\n        this.mast = this.mastParser.parse(mastContent);\r\n        if (!this.mast) {\r\n            return;\r\n        }\r\n        // Store base URL for subsequent VAST files download\r\n        this.mast.baseUrl = mastBaseUrl;\r\n        // Filter the triggers\r\n        if (this.config.filterTriggersFn) {\r\n            try {\r\n                this.mast.triggers = this.config.filterTriggersFn(this.mast.triggers);\r\n            }\r\n            catch (e) {\r\n                this.logger.error('Failed to filter triggers');\r\n            }\r\n        }\r\n        // Initialize the trigger managers\r\n        for (var i = 0; i < this.mast.triggers.length; i++) {\r\n            triggerManager = new TriggerManager_1.TriggerManager();\r\n            triggerManager.init(this.mast.triggers[i], startTime);\r\n            this.triggerManagers.push(triggerManager);\r\n        }\r\n    };\r\n    AdsPlayerController.prototype.onVideoPlaying = function () {\r\n        if (this.config.handleMainPlayerPlayback && this.vastPlayerManager) {\r\n            this.logger.debug('Pause main video');\r\n            this.mainVideo.pause();\r\n        }\r\n    };\r\n    AdsPlayerController.prototype.onVideoTimeupdate = function () {\r\n        // Check for mid-roll triggers\r\n        var trigger = this.checkTriggersStart();\r\n        if (trigger !== null) {\r\n            this.activateTrigger(trigger, true);\r\n        }\r\n    };\r\n    AdsPlayerController.prototype.onVideoEnded = function () {\r\n        // Check for end-roll triggers\r\n        var trigger = this.checkTriggersStart();\r\n        if (trigger !== null) {\r\n            this.activateTrigger(trigger, true);\r\n        }\r\n        this.checkTriggersEnd();\r\n    };\r\n    AdsPlayerController.prototype.pauseVideo = function () {\r\n        if (this.config.handleMainPlayerPlayback && this.mainVideo && !this.mainVideo.paused) {\r\n            this.logger.debug('Pause main video');\r\n            this.mainVideo.pause();\r\n        }\r\n    };\r\n    AdsPlayerController.prototype.resumeVideo = function () {\r\n        if (this.config.handleMainPlayerPlayback && this.mainVideo && this.mainVideo.paused) {\r\n            this.logger.debug('Resume main video');\r\n            this.mainVideo.play();\r\n        }\r\n    };\r\n    AdsPlayerController.prototype.onTriggerEnd = function () {\r\n        this.logger.debug('End playing trigger');\r\n        // Delete VAST player manager\r\n        if (this.vastPlayerManager) {\r\n            this.vastPlayerManager = null;\r\n        }\r\n        this.currentTrigger = null;\r\n        // Check if another trigger has to be activated\r\n        var trigger = this.checkTriggersStart();\r\n        if (trigger !== null) {\r\n            this.activateTrigger(trigger, false);\r\n        }\r\n        else {\r\n            // Notifies the application ad(s) playback has ended\r\n            this.eventBus.dispatchEvent(Events_1.EventTypes.END);\r\n            if (!this.mainVideo.ended) {\r\n                // Resume the main video element\r\n                this.resumeVideo();\r\n            }\r\n        }\r\n    };\r\n    AdsPlayerController.prototype.playTrigger = function (trigger, firstTrigger) {\r\n        if (trigger.vasts.length === 0) {\r\n            this.onTriggerEnd();\r\n            return;\r\n        }\r\n        // Pause the main video element\r\n        this.pauseVideo();\r\n        // Play the trigger\r\n        this.logger.debug('Start playing trigger ' + trigger.id);\r\n        this.vastPlayerManager = new VastPlayerManager_1.VastPlayerManager(this.eventBus);\r\n        this.vastPlayerManager.init(trigger.vasts, this.adsPlayerContainer, this.mainVideo);\r\n        if (firstTrigger) {\r\n            // Notifies the application ad(s) playback starts\r\n            this.eventBus.dispatchEvent(Events_1.EventTypes.START, {\r\n                id: trigger.id,\r\n                duration: this.vastPlayerManager.getVastsDuration(),\r\n                currentTime: this.mainVideo.currentTime,\r\n                ended: this.mainVideo.ended\r\n            });\r\n        }\r\n        this.vastPlayerManager.start();\r\n    };\r\n    AdsPlayerController.prototype.activateTrigger = function (trigger, firstTrigger) {\r\n        var _this = this;\r\n        // Check if a trigger is not already activated\r\n        if (this.currentTrigger) {\r\n            return;\r\n        }\r\n        this.logger.debug('Activate trigger ' + trigger.id);\r\n        this.currentTrigger = trigger;\r\n        trigger.activated = true;\r\n        if (trigger.vasts.length === 0) {\r\n            // Download VAST files\r\n            this.loadTriggerVasts(trigger).then(function () {\r\n                _this.playTrigger(trigger, firstTrigger);\r\n            });\r\n        }\r\n        else {\r\n            this.playTrigger(trigger, firstTrigger);\r\n        }\r\n    };\r\n    AdsPlayerController.prototype.checkTriggersStart = function () {\r\n        for (var i = 0; i < this.triggerManagers.length; i++) {\r\n            if (this.triggerManagers[i].checkStartConditions(this.mainVideo)) {\r\n                return this.triggerManagers[i].getTrigger();\r\n            }\r\n            else if (this.triggerManagers[i].getIsSkipped()) {\r\n                // Remove triggers that are skipped since trigger time is anterior to provided stream start tileme\r\n                this.triggerManagers.splice(0, 1);\r\n                i--;\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    AdsPlayerController.prototype.checkTriggersEnd = function () {\r\n        for (var i = 0; i < this.triggerManagers.length; i++) {\r\n            if (this.triggerManagers[i].checkEndConditions(this.mainVideo)) {\r\n                // Remove trigger manager => will not be activated anymore\r\n                this.triggerManagers.splice(0, 1);\r\n                i--;\r\n            }\r\n        }\r\n    };\r\n    AdsPlayerController.prototype.start = function () {\r\n        if (!this.mast) {\r\n            return;\r\n        }\r\n        this.logger.debug('Start');\r\n        if (this.mast.triggers.length === 0) {\r\n            this.logger.warn('No trigger in MAST');\r\n        }\r\n        // Check for pre-roll trigger\r\n        var trigger = this.checkTriggersStart();\r\n        if (trigger !== null) {\r\n            this.activateTrigger(trigger, true);\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    return AdsPlayerController;\r\n}());\r\nexports.AdsPlayerController = AdsPlayerController;\r\nexports.default = AdsPlayerController;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hZHNwbGF5ZXIvLi9zcmMvbGliL0Fkc1BsYXllckNvbnRyb2xsZXIudHM/NzRlOSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztFQTJCRTs7QUFTRixzQ0FBa0M7QUFDbEMsc0NBQWtDO0FBQ2xDLDJDQUEwQztBQUMxQyw2Q0FBOEM7QUFDOUMsd0NBQWdEO0FBQ2hELDJDQUErQztBQUMvQywrQ0FBdUQ7QUFDdkQsMkNBQStDO0FBQy9DLGtEQUE2RDtBQUM3RCxxQ0FBc0M7QUFDdEMsc0NBQXVDO0FBR3ZDO0lBMEJJLHFCQUFxQjtJQUNyQixxREFBcUQ7SUFFckQsMkJBQTJCO0lBQzNCLHFEQUFxRDtJQUVyRCw2QkFBYSxRQUFrQjtRQUUzQixJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQztRQUN0QixJQUFJLENBQUMsa0JBQWtCLEdBQUcsSUFBSSxDQUFDO1FBQy9CLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxXQUFXLEdBQUcsRUFBRSxDQUFDO1FBQ3RCLElBQUksQ0FBQyxlQUFlLEdBQUcsRUFBRSxDQUFDO1FBQzFCLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxJQUFJLENBQUM7UUFDOUIsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLHVCQUFVLEVBQUUsQ0FBQztRQUNuQyxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksdUJBQVUsRUFBRSxDQUFDO1FBQ25DLElBQUksQ0FBQyxNQUFNLEdBQUcsZUFBTSxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQ25DLElBQUksQ0FBQyxNQUFNLEdBQUcsZUFBTSxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQ25DLElBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDO1FBQ3pCLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSwyQkFBWSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBRS9DLElBQUksQ0FBQyxzQkFBc0IsR0FB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SUFBSSxDQUFDO1NBQ2Y7UUFFRCxPQUFPLEtBQUssQ0FBQztJQUVqQixDQUFDO0lBSUwsMEJBQUM7QUFBRCxDQUFDO0FBcmJZLGtEQUFtQjtBQXViaEMsa0JBQWUsbUJBQW1CLENBQUMiLCJmaWxlIjoiMTAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxyXG4qIFRoZSBjb3B5cmlnaHQgaW4gdGhpcyBzb2Z0d2FyZSBtb2R1bGUgaXMgYmVpbmcgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlIEJTRCBMaWNlbnNlLCBpbmNsdWRlZFxyXG4qIGJlbG93LiBUaGlzIHNvZnR3YXJlIG1vZHVsZSBtYXkgYmUgc3ViamVjdCB0byBvdGhlciB0aGlyZCBwYXJ0eSBhbmQvb3IgY29udHJpYnV0b3IgcmlnaHRzLFxyXG4qIGluY2x1ZGluZyBwYXRlbnQgcmlnaHRzLCBhbmQgbm8gc3VjaCByaWdodHMgYXJlIGdyYW50ZWQgdW5kZXIgdGhpcyBsaWNlbnNlLlxyXG4qXHJcbiogQ29weXJpZ2h0IChjKSAyMDE2LCBPcmFuZ2VcclxuKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4qXHJcbiogUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0IG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZFxyXG4qIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZSBtZXQ6XHJcbiogLSBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zXHJcbiogICBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxyXG4qIC0gUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLCB0aGlzIGxpc3Qgb2ZcclxuKiAgIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lciBpbiB0aGUgZG9jdW1lbnRhdGlvbiBhbmQvb3Igb3RoZXIgbWF0ZXJpYWxzIHByb3ZpZGVkXHJcbiogICB3aXRoIHRoZSBkaXN0cmlidXRpb24uXHJcbiogLSBOZWl0aGVyIHRoZSBuYW1lIG9mIE9yYW5nZSBub3IgdGhlIG5hbWVzIG9mIGl0cyBjb250cmlidXRvcnMgbWF5IGJlIHVzZWQgdG8gZW5kb3JzZSBvciBwcm9tb3RlXHJcbiogICBwcm9kdWN0cyBkZXJpdmVkIGZyb20gdGhpcyBzb2Z0d2FyZSBtb2R1bGUgd2l0aG91dCBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXHJcbipcclxuKlxyXG4qIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlMg4oCcQVMgSVPigJ0gQU5EIEFOWSBFWFBSRVNTIE9SXHJcbiogSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgVEhFIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EXHJcbiogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQVJFIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFQgSE9MREVSIE9cclxuKiBDT05UUklCVVRPUlMgQkUgTElBQkxFIEZPUiBBTlkgRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCwgU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMXHJcbiogREFNQUdFUyAoSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLFxyXG4qIERBVEEsIE9SIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWSBUSEVPUlkgT0YgTElBQklMSVRZLFxyXG4qIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlQgKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSkgQVJJU0lORyBJTiBBTllcclxuKiBXQVkgT1VUIE9GIFRIRSBVU0UgT0YgVEhJUyBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cclxuKi9cclxuXHJcbi8qKlxyXG4qIEFkc1BsYXllckNvbnRyb2xsZXIgaXMgdGggbWFpbiBjb250cm9sbGVyIGNsYXNzIGZvciBBZHNQbGF5ZXIgbW9kdWxlLlxyXG4qIEl0IGlzIGluIGNoYXJnZSBvZiBkb3dubG9hZGluZyB0aGUgTUFTVC9WQVNUIGZpbGVzIGFuZCBvcmNoZXN0cmF0ZXMgdGhlXHJcbiogZGV0ZWN0aW9uIG9mIHRyaWdnZXJzIGFuZCBwbGF5aW5nIG9mIGFkKHMpLlxyXG4qL1xyXG5cclxuaW1wb3J0IHsgTWFzdCwgVHJpZ2dlciB9IGZyb20gJy4vbWFzdC9tb2RlbC9NYXN0J1xyXG5pbXBvcnQgeyBDb25maWcgfSBmcm9tICcuL0NvbmZpZyc7XHJcbmltcG9ydCB7IExvZ2dlciB9IGZyb20gJy4vTG9nZ2VyJztcclxuaW1wb3J0IHsgRmlsZUxvYWRlciB9IGZyb20gJy4vRmlsZUxvYWRlcic7XHJcbmltcG9ydCB7IEVycm9ySGFuZGxlciB9IGZyb20gJy4vRXJyb3JIYW5kbGVyJztcclxuaW1wb3J0IHsgRXZlbnRCdXMsIEFkRXZlbnRzIH0gZnJvbSAnLi9FdmVudEJ1cyc7XHJcbmltcG9ydCB7IE1hc3RQYXJzZXIgfSBmcm9tICcuL21hc3QvTWFzdFBhcnNlcic7XHJcbmltcG9ydCB7IFRyaWdnZXJNYW5hZ2VyIH0gZnJvbSAnLi9tYXN0L1RyaWdnZXJNYW5hZ2VyJztcclxuaW1wb3J0IHsgVmFzdFBhcnNlciB9IGZyb20gJy4vdmFzdC9WYXN0UGFyc2VyJztcclxuaW1wb3J0IHsgVmFzdFBsYXllck1hbmFnZXIgfSBmcm9tICcuL3Zhc3QvVmFzdFBsYXllck1hbmFnZXInO1xyXG5pbXBvcnQgeyBVdGlscyB9IGZyb20gJy4vdXRpbHMvdXRpbHMnO1xyXG5pbXBvcnQgeyBFdmVudFR5cGVzIH0gZnJvbSAnLi4vRXZlbnRzJztcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgQWRzUGxheWVyQ29udHJvbGxlciB7XHJcblxyXG4gICAgLy8gI3JlZ2lvbiBNRU1CRVJTXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgIHByaXZhdGUgYWRzUGxheWVyQ29udGFpbmVyOiBIVE1MRWxlbWVudDtcclxuICAgIHByaXZhdGUgbWFpblZpZGVvOiBIVE1MTWVkaWFFbGVtZW50O1xyXG4gICAgcHJpdmF0ZSBtYXN0OiBNYXN0O1xyXG4gICAgcHJpdmF0ZSBmaWxlTG9hZGVyczogRmlsZUxvYWRlcltdO1xyXG4gICAgcHJpdmF0ZSB0cmlnZ2VyTWFuYWdlcnM6IFRyaWdnZXJNYW5hZ2VyW107XHJcbiAgICBwcml2YXRlIHZhc3RQbGF5ZXJNYW5hZ2VyOiBWYXN0UGxheWVyTWFuYWdlcjtcclxuICAgIHByaXZhdGUgbWFzdFBhcnNlcjogTWFzdFBhcnNlcjtcclxuICAgIHByaXZhdGUgdmFzdFBhcnNlcjogVmFzdFBhcnNlcjtcclxuXHJcbiAgICBwcml2YXRlIGNvbmZpZzogQ29uZmlnO1xyXG4gICAgcHJpdmF0ZSBsb2dnZXI6IExvZ2dlcjtcclxuICAgIHByaXZhdGUgZXZlbnRCdXM6IEV2ZW50QnVzO1xyXG4gICAgcHJpdmF0ZSBlcnJvckhhbmRsZXI6IEVycm9ySGFuZGxlcjtcclxuXHJcbiAgICBwcml2YXRlIG9uVmlkZW9QbGF5aW5nTGlzdGVuZXI7XHJcbiAgICBwcml2YXRlIG9uVmlkZW9UaW1ldXBkYXRlTGlzdGVuZXI7XHJcbiAgICBwcml2YXRlIG9uVmlkZW9FbmRlZExpc3RlbmVyO1xyXG4gICAgcHJpdmF0ZSBvblRyaWdnZXJFbmRMaXN0ZW5lcjtcclxuXHJcbiAgICBwcml2YXRlIGN1cnJlbnRUcmlnZ2VyOiBUcmlnZ2VyO1xyXG5cclxuICAgIC8vICNlbmRyZWdpb24gTUVNQkVSU1xyXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgICAvLyAjcmVnaW9uIFBVQkxJQyBGVU5DVElPTlNcclxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICAgY29uc3RydWN0b3IgKGV2ZW50QnVzOiBFdmVudEJ1cykge1xyXG5cclxuICAgICAgICB0aGlzLm1haW5WaWRlbyA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5hZHNQbGF5ZXJDb250YWluZXIgPSBudWxsO1xyXG4gICAgICAgIHRoaXMubWFzdCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5maWxlTG9hZGVycyA9IFtdO1xyXG4gICAgICAgIHRoaXMudHJpZ2dlck1hbmFnZXJzID0gW107XHJcbiAgICAgICAgdGhpcy52YXN0UGxheWVyTWFuYWdlciA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5tYXN0UGFyc2VyID0gbmV3IE1hc3RQYXJzZXIoKTtcclxuICAgICAgICB0aGlzLnZhc3RQYXJzZXIgPSBuZXcgVmFzdFBhcnNlcigpO1xyXG4gICAgICAgIHRoaXMuY29uZmlnID0gQ29uZmlnLmdldEluc3RhbmNlKCk7XHJcbiAgICAgICAgdGhpcy5sb2dnZXIgPSBMb2dnZXIuZ2V0SW5zdGFuY2UoKTtcclxuICAgICAgICB0aGlzLmV2ZW50QnVzID0gZXZlbnRCdXM7XHJcbiAgICAgICAgdGhpcy5lcnJvckhhbmRsZXIgPSBuZXcgRXJyb3JIYW5kbGVyKGV2ZW50QnVzKTtcclxuXHJcbiAgICAgICAgdGhpcy5vblZpZGVvUGxheWluZ0xpc3RlbmVyID0gdGhpcy5vblZpZGVvUGxheWluZy5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMub25WaWRlb1RpbWV1cGRhdGVMaXN0ZW5lciA9IHRoaXMub25WaWRlb1RpbWV1cGRhdGUuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLm9uVmlkZW9FbmRlZExpc3RlbmVyID0gdGhpcy5vblZpZGVvRW5kZWQuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLm9uVHJpZ2dlckVuZExpc3RlbmVyID0gdGhpcy5vblRyaWdnZXJFbmQuYmluZCh0aGlzKTtcclxuXHJcbiAgICAgICAgdGhpcy5jdXJyZW50VHJpZ2dlciA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBJbml0aWFsaXplIHRoZSBBZHMgUGxheWVyIENvbnRyb2xsZXIuXHJcbiAgICAgKiBAbWV0aG9kIGluaXRcclxuICAgICAqIEBhY2Nlc3MgcHVibGljXHJcbiAgICAgKiBAbWVtYmVyb2YgQWRzUGxheWVyQ29udHJvbGxlciNcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB2aWRlbyAtIHRoZSBIVE1MNSB2aWRlbyBlbGVtZW50IHVzZWQgYnkgdGhlIG1haW4gbWVkaWEgcGxheWVyXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gYWRzUGxheWVyQ29udGFpbmVyIC0gVGhlIGNvbnRhaW5lciB0byBjcmVhdGUgdGhlIEhUTUw1IHZpZGVvL2ltYWdlIGVsZW1lbnRzIHVzZWQgdG8gcGxheSBhbmQgcmVuZGVyIHRoZSBhZHMgbWVkaWFcclxuICAgICAqL1xyXG4gICAgaW5pdCAodmlkZW86IEhUTUxNZWRpYUVsZW1lbnQsIGFkc1BsYXllckNvbnRhaW5lcjogSFRNTEVsZW1lbnQpIHtcclxuICAgICAgICB0aGlzLm1haW5WaWRlbyA9IHZpZGVvO1xyXG4gICAgICAgIHRoaXMuYWRzUGxheWVyQ29udGFpbmVyID0gYWRzUGxheWVyQ29udGFpbmVyO1xyXG5cclxuICAgICAgICAvLyBBZGQgPHZpZGVvPiBldmVudCBsaXN0ZW5lclxyXG4gICAgICAgIHRoaXMubWFpblZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoJ3BsYXlpbmcnLCB0aGlzLm9uVmlkZW9QbGF5aW5nTGlzdGVuZXIpO1xyXG4gICAgICAgIHRoaXMubWFpblZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoJ3RpbWV1cGRhdGUnLCB0aGlzLm9uVmlkZW9UaW1ldXBkYXRlTGlzdGVuZXIpO1xyXG4gICAgICAgIHRoaXMubWFpblZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoJ3NlZWtpbmcnLCB0aGlzLm9uVmlkZW9UaW1ldXBkYXRlTGlzdGVuZXIpO1xyXG4gICAgICAgIHRoaXMubWFpblZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgdGhpcy5vblZpZGVvRW5kZWRMaXN0ZW5lcik7XHJcblxyXG4gICAgICAgIC8vIEFkZCB0cmlnZ2VyIGVuZCBldmVudCBsaXN0ZW5lclxyXG4gICAgICAgIHRoaXMuZXZlbnRCdXMuYWRkRXZlbnRMaXN0ZW5lcihBZEV2ZW50cy5UUklHR0VSX0VORCwgdGhpcy5vblRyaWdnZXJFbmRMaXN0ZW5lcik7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogTG9hZC9vcGVuIGEgTUFTVCBmaWxlLlxyXG4gICAgICogQG1ldGhvZCBsb2FkXHJcbiAgICAgKiBAYWNjZXNzIHB1YmxpY1xyXG4gICAgICogQG1lbWJlcm9mIEFkc1BsYXllckNvbnRyb2xsZXIjXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWFzdFVybCAtIHRoZSBNQVNUIGZpbGUgdXJsXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRUaW1lIC0gdGhlIHBsYXliYWNrIHRpbWUgYmVmb3JlIHdoaWNoIHRyaWdnZXJzIHNoYWxsIGJlIGlnbm9yZWRcclxuICAgICAqL1xyXG4gICAgbG9hZCAodXJsOiBzdHJpbmcsIHN0YXJ0VGltZT86IG51bWJlcik6IFByb21pc2U8Ym9vbGVhbj4ge1xyXG4gICAgICAgIGxldCBmaWxlTG9hZGVyID0gbmV3IEZpbGVMb2FkZXIoKTtcclxuXHJcbiAgICAgICAgLy8gUmVzZXQgdGhlIE1BU1QgYW5kIHRyaWdnZXIgbWFuYWdlcnNcclxuICAgICAgICB0aGlzLm1hc3QgPSBudWxsO1xyXG4gICAgICAgIHRoaXMudHJpZ2dlck1hbmFnZXJzID0gW107XHJcblxyXG4gICAgICAgIC8vIERvd25sb2FkIGFuZCBwYXJzZSBNQVNUIGZpbGVcclxuICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnRG93bmxvYWQgTUFTVCBmaWxlOiAnICsgdXJsKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgZmlsZUxvYWRlci5sb2FkKHVybCkudGhlbihyZXN1bHQgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ1BhcnNlIE1BU1QgZmlsZScpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJzZU1hc3RGaWxlKHJlc3VsdFsnZG9tJ10sIHJlc3VsdFsnYmFzZVVybCddLCBzdGFydFRpbWUpO1xyXG4gICAgICAgICAgICAgICAgLy8gU3RhcnQgbWFuYWdpbmcgdHJpZ2dlcnMgYW5kIGFkcyBwbGF5aW5nXHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKHRoaXMuc3RhcnQoKSk7XHJcbiAgICAgICAgICAgIH0pLmNhdGNoKGVycm9yID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyb3JIYW5kbGVyLnNlbmRFcnJvcihlcnJvci5uYW1lLCBlcnJvci5kYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuZmlsZUxvYWRlcnMucHVzaChmaWxlTG9hZGVyKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFN0b3BzIGFuZCByZXNldHMgdGhlIEFkcyBwbGF5ZXIuXHJcbiAgICAgKiBAbWV0aG9kIHJlc2V0XHJcbiAgICAgKiBAYWNjZXNzIHB1YmxpY1xyXG4gICAgICogQG1lbWJlcm9mIEFkc1BsYXllckNvbnRyb2xsZXIjXHJcbiAgICAgKi9cclxuICAgIHN0b3AgKCkge1xyXG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdTdG9wJyk7XHJcblxyXG4gICAgICAgIC8vIFN0b3AvYWJvcnQgdGhlIGZpbGUgbG9hZGVyc1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5maWxlTG9hZGVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLmZpbGVMb2FkZXJzW2ldLmFib3J0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZmlsZUxvYWRlcnMgPSBbXTtcclxuXHJcbiAgICAgICAgLy8gU3RvcCB0aGUgVkFTVCBwbGF5ZXIgbWFuYWdlclxyXG4gICAgICAgIGlmICh0aGlzLnZhc3RQbGF5ZXJNYW5hZ2VyKSB7XHJcbiAgICAgICAgICAgIHRoaXMudmFzdFBsYXllck1hbmFnZXIuc3RvcCgpO1xyXG4gICAgICAgICAgICB0aGlzLnZhc3RQbGF5ZXJNYW5hZ2VyID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgIC8vIE5vdGlmaWVzIHRoZSBhcHBsaWNhdGlvbiBhZChzKSBwbGF5YmFjayBoYXMgZW5kZWRcclxuICAgICAgICAgICAgLy8gdGhpcy5ldmVudEJ1cy5kaXNwYXRjaEV2ZW50KEV2ZW50VHlwZXMuRU5EKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVzZXQgKCkge1xyXG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdSZXNldCcpO1xyXG5cclxuICAgICAgICB0aGlzLnN0b3AoKTtcclxuXHJcbiAgICAgICAgLy8gUmVzZXQgdGhlIHRyaWdnZXIgbWFuYWdlcnNcclxuICAgICAgICB0aGlzLnRyaWdnZXJNYW5hZ2VycyA9IFtdO1xyXG5cclxuICAgICAgICAvLyBSZXNldCB0aGUgTUFTVFxyXG4gICAgICAgIHRoaXMubWFzdCA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgZGVzdHJveSAoKSB7XHJcbiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ0Rlc3Ryb3knKTtcclxuXHJcbiAgICAgICAgdGhpcy5yZXNldCgpO1xyXG5cclxuICAgICAgICAvLyBSZW1vdmUgPHZpZGVvPiBldmVudCBsaXN0ZW5lclxyXG4gICAgICAgIHRoaXMubWFpblZpZGVvLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BsYXlpbmcnLCB0aGlzLm9uVmlkZW9QbGF5aW5nTGlzdGVuZXIpO1xyXG4gICAgICAgIHRoaXMubWFpblZpZGVvLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RpbWV1cGRhdGUnLCB0aGlzLm9uVmlkZW9UaW1ldXBkYXRlTGlzdGVuZXIpO1xyXG4gICAgICAgIHRoaXMubWFpblZpZGVvLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3NlZWtpbmcnLCB0aGlzLm9uVmlkZW9UaW1ldXBkYXRlTGlzdGVuZXIpO1xyXG4gICAgICAgIHRoaXMubWFpblZpZGVvLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgdGhpcy5vblZpZGVvRW5kZWRMaXN0ZW5lcik7XHJcblxyXG4gICAgICAgIC8vIFJlbW92ZSB0cmlnZ2VyIGVuZCBldmVudCBsaXN0ZW5lclxyXG4gICAgICAgIHRoaXMuZXZlbnRCdXMucmVtb3ZlRXZlbnRMaXN0ZW5lcigndHJpZ2dlckVuZCcsIHRoaXMub25UcmlnZ2VyRW5kTGlzdGVuZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUGxheXMvcmVzdW1lcyB0aGUgcGxheWJhY2sgb2YgdGhlIGN1cnJlbnQgYWQuXHJcbiAgICAgKiBAbWV0aG9kIHJlc2V0XHJcbiAgICAgKiBAYWNjZXNzIHB1YmxpY1xyXG4gICAgICogQG1lbWJlcm9mIEFkc1BsYXllckNvbnRyb2xsZXIjXHJcbiAgICAgKi9cclxuICAgIHBsYXkgKCkge1xyXG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdQbGF5Jyk7XHJcblxyXG4gICAgICAgIC8vIFN0YXJ0IHRoZSBWQVNUIHBsYXllciBtYW5hZ2VyXHJcbiAgICAgICAgaWYgKHRoaXMudmFzdFBsYXllck1hbmFnZXIpIHtcclxuICAgICAgICAgICAgdGhpcy52YXN0UGxheWVyTWFuYWdlci5wbGF5KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUGF1c2VzIHRoZSBwbGF5YmFjayBvZiB0aGUgY3VycmVudCBhZC5cclxuICAgICAqIEBtZXRob2QgcmVzZXRcclxuICAgICAqIEBhY2Nlc3MgcHVibGljXHJcbiAgICAgKiBAbWVtYmVyb2YgQWRzUGxheWVyQ29udHJvbGxlciNcclxuICAgICAqL1xyXG4gICAgcGF1c2UgKCkge1xyXG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdQYXVzZScpO1xyXG5cclxuICAgICAgICAvLyBQYXVzZSB0aGUgVkFTVCBwbGF5ZXIgbWFuYWdlclxyXG4gICAgICAgIGlmICh0aGlzLnZhc3RQbGF5ZXJNYW5hZ2VyKSB7XHJcbiAgICAgICAgICAgIHRoaXMudmFzdFBsYXllck1hbmFnZXIucGF1c2UoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gI3JlZ2lvbiBQUklWQVRFIEZVTkNUSU9OU1xyXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgICBwcml2YXRlIGxvYWRWYXN0ICh1cmw6IHN0cmluZykge1xyXG4gICAgICAgIGxldCBmaWxlTG9hZGVyID0gbmV3IEZpbGVMb2FkZXIoKSxcclxuICAgICAgICAgICAgdmFzdCA9IG51bGw7XHJcblxyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZS8qLCByZWplY3QqLykgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnRG93bmxvYWQgVkFTVCBmaWxlOiAnICsgdXJsKTtcclxuICAgICAgICAgICAgZmlsZUxvYWRlci5sb2FkKHVybCkudGhlbihyZXN1bHQgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdQYXJzZSBWQVNUIGZpbGUnKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXN0ID0gdGhpcy52YXN0UGFyc2VyLnBhcnNlKHJlc3VsdFsnZG9tJ10pO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhc3QuYmFzZVVybCA9IHJlc3VsdFsnYmFzZVVybCddO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUodmFzdCk7XHJcbiAgICAgICAgICAgICAgICB9KS5jYXRjaChlcnJvciA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyb3JIYW5kbGVyLnNlbmRFcnJvcihlcnJvci5uYW1lLCBlcnJvci5kYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShudWxsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgdGhpcy5maWxlTG9hZGVycy5wdXNoKGZpbGVMb2FkZXIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgbG9hZFRyaWdnZXJWYXN0cyAodHJpZ2dlcjogVHJpZ2dlcikge1xyXG4gICAgICAgIGxldCBsb2FkVmFzdFByb21pc2VzID0gW107XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHJpZ2dlci5zb3VyY2VzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCB1cmkgPSB0cmlnZ2VyLnNvdXJjZXNbaV0udXJpO1xyXG4gICAgICAgICAgICAvLyBDaGVjayBmb3IgcmVsYXRpdmUgdXJpIHBhdGggYW5kIGFkZCBiYXNlIHVybCBpZiBuZWVkZWRcclxuICAgICAgICAgICAgdXJpID0gVXRpbHMuaXNBYnNvbHV0ZVVSSSh1cmkpID8gdXJpIDogKHRoaXMubWFzdC5iYXNlVXJsICsgdXJpKTtcclxuICAgICAgICAgICAgbG9hZFZhc3RQcm9taXNlcy5wdXNoKHRoaXMubG9hZFZhc3QodXJpKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICBQcm9taXNlLmFsbChsb2FkVmFzdFByb21pc2VzKS50aGVuKHZhc3RzID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIFB1c2ggdmFzdCBvYmplY3RzIGluIHRoZSB0cmlnZ2VyIGluIHRoZSBvcmlnaW5hbCBvcmRlclxyXG4gICAgICAgICAgICAgICAgLy8gKHRoaXMgPSBwcm9taXNlcyByZXR1cm5lZCBvYmplY3RzKVxyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YXN0cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YXN0c1tpXSAmJiB2YXN0c1tpXS5hZHMgJiYgdmFzdHNbaV0uYWRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJpZ2dlci52YXN0cy5wdXNoKHZhc3RzW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgIH0pLmNhdGNoKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHJlamVjdCgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHBhcnNlTWFzdEZpbGUgKG1hc3RDb250ZW50OiBEb2N1bWVudCwgbWFzdEJhc2VVcmw6IHN0cmluZywgc3RhcnRUaW1lPzogbnVtYmVyKSB7XHJcbiAgICAgICAgbGV0IHRyaWdnZXJNYW5hZ2VyO1xyXG5cclxuICAgICAgICAvLyBQYXJzZSB0aGUgTUFTVCBmaWxlXHJcbiAgICAgICAgdGhpcy5tYXN0ID0gdGhpcy5tYXN0UGFyc2VyLnBhcnNlKG1hc3RDb250ZW50KTtcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLm1hc3QpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gU3RvcmUgYmFzZSBVUkwgZm9yIHN1YnNlcXVlbnQgVkFTVCBmaWxlcyBkb3dubG9hZFxyXG4gICAgICAgIHRoaXMubWFzdC5iYXNlVXJsID0gbWFzdEJhc2VVcmw7XHJcblxyXG4gICAgICAgIC8vIEZpbHRlciB0aGUgdHJpZ2dlcnNcclxuICAgICAgICBpZiAodGhpcy5jb25maWcuZmlsdGVyVHJpZ2dlcnNGbikge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tYXN0LnRyaWdnZXJzID0gdGhpcy5jb25maWcuZmlsdGVyVHJpZ2dlcnNGbih0aGlzLm1hc3QudHJpZ2dlcnMpO1xyXG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignRmFpbGVkIHRvIGZpbHRlciB0cmlnZ2VycycpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBJbml0aWFsaXplIHRoZSB0cmlnZ2VyIG1hbmFnZXJzXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm1hc3QudHJpZ2dlcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdHJpZ2dlck1hbmFnZXIgPSBuZXcgVHJpZ2dlck1hbmFnZXIoKTtcclxuICAgICAgICAgICAgdHJpZ2dlck1hbmFnZXIuaW5pdCh0aGlzLm1hc3QudHJpZ2dlcnNbaV0sIHN0YXJ0VGltZSk7XHJcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlck1hbmFnZXJzLnB1c2godHJpZ2dlck1hbmFnZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIG9uVmlkZW9QbGF5aW5nICgpIHtcclxuICAgICAgICBpZiAodGhpcy5jb25maWcuaGFuZGxlTWFpblBsYXllclBsYXliYWNrICYmIHRoaXMudmFzdFBsYXllck1hbmFnZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ1BhdXNlIG1haW4gdmlkZW8nKTtcclxuICAgICAgICAgICAgdGhpcy5tYWluVmlkZW8ucGF1c2UoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBvblZpZGVvVGltZXVwZGF0ZSAoKSB7XHJcbiAgICAgICAgLy8gQ2hlY2sgZm9yIG1pZC1yb2xsIHRyaWdnZXJzXHJcbiAgICAgICAgbGV0IHRyaWdnZXIgPSB0aGlzLmNoZWNrVHJpZ2dlcnNTdGFydCgpO1xyXG4gICAgICAgIGlmICh0cmlnZ2VyICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWN0aXZhdGVUcmlnZ2VyKHRyaWdnZXIsIHRydWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIG9uVmlkZW9FbmRlZCAoKSB7XHJcbiAgICAgICAgLy8gQ2hlY2sgZm9yIGVuZC1yb2xsIHRyaWdnZXJzXHJcbiAgICAgICAgbGV0IHRyaWdnZXIgPSB0aGlzLmNoZWNrVHJpZ2dlcnNTdGFydCgpO1xyXG4gICAgICAgIGlmICh0cmlnZ2VyICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWN0aXZhdGVUcmlnZ2VyKHRyaWdnZXIsIHRydWUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5jaGVja1RyaWdnZXJzRW5kKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBwYXVzZVZpZGVvICgpIHtcclxuICAgICAgICBpZiAodGhpcy5jb25maWcuaGFuZGxlTWFpblBsYXllclBsYXliYWNrICYmIHRoaXMubWFpblZpZGVvICYmICF0aGlzLm1haW5WaWRlby5wYXVzZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ1BhdXNlIG1haW4gdmlkZW8nKTtcclxuICAgICAgICAgICAgdGhpcy5tYWluVmlkZW8ucGF1c2UoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSByZXN1bWVWaWRlbyAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuY29uZmlnLmhhbmRsZU1haW5QbGF5ZXJQbGF5YmFjayAmJiB0aGlzLm1haW5WaWRlbyAmJiB0aGlzLm1haW5WaWRlby5wYXVzZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ1Jlc3VtZSBtYWluIHZpZGVvJyk7XHJcbiAgICAgICAgICAgIHRoaXMubWFpblZpZGVvLnBsYXkoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBvblRyaWdnZXJFbmQgKCkge1xyXG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdFbmQgcGxheWluZyB0cmlnZ2VyJyk7XHJcblxyXG4gICAgICAgIC8vIERlbGV0ZSBWQVNUIHBsYXllciBtYW5hZ2VyXHJcbiAgICAgICAgaWYgKHRoaXMudmFzdFBsYXllck1hbmFnZXIpIHtcclxuICAgICAgICAgICAgdGhpcy52YXN0UGxheWVyTWFuYWdlciA9IG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmN1cnJlbnRUcmlnZ2VyID0gbnVsbDtcclxuICAgICAgICBcclxuICAgICAgICAvLyBDaGVjayBpZiBhbm90aGVyIHRyaWdnZXIgaGFzIHRvIGJlIGFjdGl2YXRlZFxyXG4gICAgICAgIGxldCB0cmlnZ2VyID0gdGhpcy5jaGVja1RyaWdnZXJzU3RhcnQoKTtcclxuICAgICAgICBpZiAodHJpZ2dlciAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLmFjdGl2YXRlVHJpZ2dlcih0cmlnZ2VyLCBmYWxzZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gTm90aWZpZXMgdGhlIGFwcGxpY2F0aW9uIGFkKHMpIHBsYXliYWNrIGhhcyBlbmRlZFxyXG4gICAgICAgICAgICB0aGlzLmV2ZW50QnVzLmRpc3BhdGNoRXZlbnQoRXZlbnRUeXBlcy5FTkQpO1xyXG5cclxuICAgICAgICAgICAgaWYgKCF0aGlzLm1haW5WaWRlby5lbmRlZCkge1xyXG4gICAgICAgICAgICAgICAgLy8gUmVzdW1lIHRoZSBtYWluIHZpZGVvIGVsZW1lbnRcclxuICAgICAgICAgICAgICAgIHRoaXMucmVzdW1lVmlkZW8oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHBsYXlUcmlnZ2VyICh0cmlnZ2VyOiBUcmlnZ2VyLCBmaXJzdFRyaWdnZXI6IGJvb2xlYW4pIHtcclxuICAgICAgICBpZiAodHJpZ2dlci52YXN0cy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgdGhpcy5vblRyaWdnZXJFbmQoKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUGF1c2UgdGhlIG1haW4gdmlkZW8gZWxlbWVudFxyXG4gICAgICAgIHRoaXMucGF1c2VWaWRlbygpO1xyXG5cclxuICAgICAgICAvLyBQbGF5IHRoZSB0cmlnZ2VyXHJcbiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ1N0YXJ0IHBsYXlpbmcgdHJpZ2dlciAnICsgdHJpZ2dlci5pZCk7XHJcbiAgICAgICAgdGhpcy52YXN0UGxheWVyTWFuYWdlciA9IG5ldyBWYXN0UGxheWVyTWFuYWdlcih0aGlzLmV2ZW50QnVzKTtcclxuICAgICAgICB0aGlzLnZhc3RQbGF5ZXJNYW5hZ2VyLmluaXQodHJpZ2dlci52YXN0cywgdGhpcy5hZHNQbGF5ZXJDb250YWluZXIsIHRoaXMubWFpblZpZGVvKTtcclxuXHJcbiAgICAgICAgaWYgKGZpcnN0VHJpZ2dlcikge1xyXG4gICAgICAgICAgICAvLyBOb3RpZmllcyB0aGUgYXBwbGljYXRpb24gYWQocykgcGxheWJhY2sgc3RhcnRzXHJcbiAgICAgICAgICAgIHRoaXMuZXZlbnRCdXMuZGlzcGF0Y2hFdmVudChFdmVudFR5cGVzLlNUQVJULCB7XHJcbiAgICAgICAgICAgICAgICBpZDogdHJpZ2dlci5pZCxcclxuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiB0aGlzLnZhc3RQbGF5ZXJNYW5hZ2VyLmdldFZhc3RzRHVyYXRpb24oKSxcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRUaW1lOiB0aGlzLm1haW5WaWRlby5jdXJyZW50VGltZSxcclxuICAgICAgICAgICAgICAgIGVuZGVkOiB0aGlzLm1haW5WaWRlby5lbmRlZFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMudmFzdFBsYXllck1hbmFnZXIuc3RhcnQoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGFjdGl2YXRlVHJpZ2dlciAodHJpZ2dlcjogVHJpZ2dlciwgZmlyc3RUcmlnZ2VyOiBib29sZWFuKSB7XHJcblxyXG4gICAgICAgIC8vIENoZWNrIGlmIGEgdHJpZ2dlciBpcyBub3QgYWxyZWFkeSBhY3RpdmF0ZWRcclxuICAgICAgICBpZiAodGhpcy5jdXJyZW50VHJpZ2dlcikge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnQWN0aXZhdGUgdHJpZ2dlciAnICsgdHJpZ2dlci5pZCk7XHJcblxyXG4gICAgICAgIHRoaXMuY3VycmVudFRyaWdnZXIgPSB0cmlnZ2VyO1xyXG4gICAgICAgIHRyaWdnZXIuYWN0aXZhdGVkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgaWYgKHRyaWdnZXIudmFzdHMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIC8vIERvd25sb2FkIFZBU1QgZmlsZXNcclxuICAgICAgICAgICAgdGhpcy5sb2FkVHJpZ2dlclZhc3RzKHRyaWdnZXIpLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5VHJpZ2dlcih0cmlnZ2VyLCBmaXJzdFRyaWdnZXIpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnBsYXlUcmlnZ2VyKHRyaWdnZXIsIGZpcnN0VHJpZ2dlcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY2hlY2tUcmlnZ2Vyc1N0YXJ0ICgpIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMudHJpZ2dlck1hbmFnZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnRyaWdnZXJNYW5hZ2Vyc1tpXS5jaGVja1N0YXJ0Q29uZGl0aW9ucyh0aGlzLm1haW5WaWRlbykpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnRyaWdnZXJNYW5hZ2Vyc1tpXS5nZXRUcmlnZ2VyKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy50cmlnZ2VyTWFuYWdlcnNbaV0uZ2V0SXNTa2lwcGVkKCkpIHtcclxuICAgICAgICAgICAgICAgIC8vIFJlbW92ZSB0cmlnZ2VycyB0aGF0IGFyZSBza2lwcGVkIHNpbmNlIHRyaWdnZXIgdGltZSBpcyBhbnRlcmlvciB0byBwcm92aWRlZCBzdHJlYW0gc3RhcnQgdGlsZW1lXHJcbiAgICAgICAgICAgICAgICB0aGlzLnRyaWdnZXJNYW5hZ2Vycy5zcGxpY2UoMCwgMSk7XHJcbiAgICAgICAgICAgICAgICBpLS07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjaGVja1RyaWdnZXJzRW5kICgpIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMudHJpZ2dlck1hbmFnZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnRyaWdnZXJNYW5hZ2Vyc1tpXS5jaGVja0VuZENvbmRpdGlvbnModGhpcy5tYWluVmlkZW8pKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBSZW1vdmUgdHJpZ2dlciBtYW5hZ2VyID0+IHdpbGwgbm90IGJlIGFjdGl2YXRlZCBhbnltb3JlXHJcbiAgICAgICAgICAgICAgICB0aGlzLnRyaWdnZXJNYW5hZ2Vycy5zcGxpY2UoMCwgMSk7XHJcbiAgICAgICAgICAgICAgICBpLS07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzdGFydCAoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLm1hc3QpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ1N0YXJ0Jyk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLm1hc3QudHJpZ2dlcnMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oJ05vIHRyaWdnZXIgaW4gTUFTVCcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ2hlY2sgZm9yIHByZS1yb2xsIHRyaWdnZXJcclxuICAgICAgICBsZXQgdHJpZ2dlciA9IHRoaXMuY2hlY2tUcmlnZ2Vyc1N0YXJ0KCk7XHJcbiAgICAgICAgaWYgKHRyaWdnZXIgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5hY3RpdmF0ZVRyaWdnZXIodHJpZ2dlciwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvLyAjcmVnaW9uIFBSSVZBVEUgRlVOQ1RJT05TXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBBZHNQbGF5ZXJDb250cm9sbGVyO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///10\n")},function(module,exports,__webpack_require__){"use strict";eval("\r\n/*\r\n* The copyright in this software module is being made available under the BSD License, included\r\n* below. This software module may be subject to other third party and/or contributor rights,\r\n* including patent rights, and no such rights are granted under this license.\r\n*\r\n* Copyright (c) 2016, Orange\r\n* All rights reserved.\r\n*\r\n* Redistribution and use in source and binary forms, with or without modification, are permitted\r\n* provided that the following conditions are met:\r\n* - Redistributions of source code must retain the above copyright notice, this list of conditions\r\n*   and the following disclaimer.\r\n* - Redistributions in binary form must reproduce the above copyright notice, this list of\r\n*   conditions and the following disclaimer in the documentation and/or other materials provided\r\n*   with the distribution.\r\n* - Neither the name of Orange nor the names of its contributors may be used to endorse or promote\r\n*   products derived from this software module without specific prior written permission.\r\n*\r\n*\r\n* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS “AS IS” AND ANY EXPRESS OR\r\n* IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\r\n* FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER O\r\n* CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\r\n* DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\r\n* DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\r\n* WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY\r\n* WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n* File downloader utility class.\r\n*/\r\nvar Errors_1 = __webpack_require__(5);\r\nvar FileLoader = /** @class */ (function () {\r\n    // #endregion MEMBERS\r\n    // --------------------------------------------------\r\n    // #region PUBLIC FUNCTIONS\r\n    // --------------------------------------------------\r\n    function FileLoader() {\r\n        this.request = null;\r\n        this.url = '';\r\n        this.baseUrl = '';\r\n        this.aborted = false;\r\n        this.needFailureReport = true;\r\n    }\r\n    FileLoader.prototype.load = function (url) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            _this.load_(url, resolve, reject);\r\n        });\r\n    };\r\n    FileLoader.prototype.abort = function () {\r\n        this.abort_();\r\n    };\r\n    // #region PUBLIC FUNCTIONS\r\n    // --------------------------------------------------\r\n    // #region PRIVATE FUNCTIONS\r\n    // --------------------------------------------------\r\n    FileLoader.prototype.parseBaseUrl = function (url) {\r\n        var base = null;\r\n        if (url.indexOf('/') !== -1) {\r\n            if (url.indexOf('?') !== -1) {\r\n                url = url.substring(0, url.indexOf('?'));\r\n            }\r\n            base = url.substring(0, url.lastIndexOf('/') + 1);\r\n        }\r\n        return base;\r\n    };\r\n    FileLoader.prototype.parseXml = function (data) {\r\n        if (!DOMParser) {\r\n            return null;\r\n        }\r\n        try {\r\n            var parser = new DOMParser();\r\n            var xmlDoc = parser.parseFromString(data, 'text/xml');\r\n            if (xmlDoc.getElementsByTagName('parsererror').length > 0) {\r\n                throw new Error('Error parsing XML');\r\n            }\r\n            return xmlDoc;\r\n        }\r\n        catch (e) {\r\n            return null;\r\n        }\r\n    };\r\n    FileLoader.prototype.load_ = function (url, resolve, reject) {\r\n        var _this = this;\r\n        this.url = url;\r\n        this.baseUrl = this.parseBaseUrl(url);\r\n        this.request = new XMLHttpRequest();\r\n        this.request.onload = function (evt) {\r\n            _this.onLoad(resolve, reject);\r\n        };\r\n        this.request.onloadend = function (evt) {\r\n            _this.onLoadend(resolve, reject);\r\n        };\r\n        this.request.onerror = function (evt) {\r\n            _this.onLoadend(resolve, reject);\r\n        };\r\n        this.request.onabort = function (evt) {\r\n            _this.onAbort();\r\n        };\r\n        this.request.open('GET', url, true);\r\n        this.request.timeout = 10000;\r\n        this.request.send();\r\n    };\r\n    FileLoader.prototype.onAbort = function () {\r\n        this.aborted = true;\r\n    };\r\n    FileLoader.prototype.onLoad = function (resolve, reject) {\r\n        if (this.request.status < 200 || this.request.status > 299) {\r\n            return;\r\n        }\r\n        if (this.request.status === 200 && this.request.readyState === 4) {\r\n            // Parse responseText in case of wrong response Content-Type\r\n            var xmlDoc = this.request.responseXML || this.parseXml(this.request.responseText);\r\n            // Check if response is in XML format.\r\n            if (xmlDoc === null) {\r\n                this.needFailureReport = true;\r\n                return;\r\n            }\r\n            // Get the redirection URL and use it as base URL\r\n            if (this.request.responseURL) {\r\n                this.baseUrl = this.parseBaseUrl(this.request.responseURL);\r\n            }\r\n            this.needFailureReport = false;\r\n            // Return XML DOM (as input to parsers)\r\n            resolve({\r\n                dom: xmlDoc,\r\n                baseUrl: this.baseUrl\r\n            });\r\n        }\r\n    };\r\n    FileLoader.prototype.onLoadend = function (resolve, reject) {\r\n        if (!this.needFailureReport) {\r\n            return;\r\n        }\r\n        this.needFailureReport = false;\r\n        if (this.aborted) {\r\n            // Request has been aborted => reject without error\r\n            reject();\r\n        }\r\n        else if (this.request.status < 200 || this.request.status > 299) {\r\n            // Request has failed => reject with error\r\n            reject({\r\n                name: Errors_1.ErrorCodes.DOWNLOAD_ERR_FILE,\r\n                data: {\r\n                    url: this.url,\r\n                    status: this.request.status\r\n                }\r\n            });\r\n        }\r\n        else if (this.request.responseXML === null) {\r\n            // Response was not in XML format => reject with error\r\n            reject({\r\n                name: Errors_1.ErrorCodes.DOWNLOAD_ERR_NOT_XML,\r\n                data: {\r\n                    url: this.url\r\n                }\r\n            });\r\n        }\r\n    };\r\n    FileLoader.prototype.abort_ = function () {\r\n        if (this.request !== null &&\r\n            this.request.readyState > 0 &&\r\n            this.request.readyState < 4) {\r\n            this.request.abort();\r\n        }\r\n    };\r\n    return FileLoader;\r\n}());\r\nexports.FileLoader = FileLoader;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hZHNwbGF5ZXIvLi9zcmMvbGliL0ZpbGVMb2FkZXIudHM/MzI1MiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztFQTJCRTs7QUFFRjs7RUFFRTtBQUVGLHNDQUF1QztBQUV2QztJQVdJLHFCQUFxQjtJQUNyQixxREFBcUQ7SUFFckQsMkJBQTJCO0lBQzNCLHFEQUFxRDtJQUVyRDtRQUNJLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDO1FBQ3BCLElBQUksQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDO1FBQ2QsSUFBSSxDQUFDLE9BQU8sR0FBRyxFQUFFLENBQUM7UUFDbEIsSUFBSSxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUM7UUFDckIsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksQ0FBQztJQUNsQyxDQUFDO0lBRUQseUJBQUksR0FBSixVQUFNLEdBQUc7UUFBVCxpQkFJQztRQUhHLE9BQU8sSUFBSSxPQUFPLENBQUMsVUFBQyxPQUFPLEVBQUUsTUFBTTtZQUMvQixLQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsRUFBRSxPQUFPLEVBQUUsTUFBTSxDQUFDLENBQUM7UUFDckMsQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDO0lBRUQsMEJBQUssR0FBTDtRQUNJLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztJQUNsQixDQUFDO0lBRUQsMkJBQTJCO0lBQzNCLHFEQUFxRDtJQUVyRCw0QkFBNEI7SUFDNUIscURBQXFEO0lBRTdDLGlDQUFZLEdBQXBCLFVBQXNCLEdBQVc7UUFDN0IsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ2hCLElBQUksR0FBRyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRTtZQUN6QixJQUFJLEdBQUcsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUU7Z0JBQ3pCLEdBQUcsR0FBRyxHQUFH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QzFDLHNEQUFzRDtZQUN0RCxNQUFNLENBQUM7Z0JBQ0gsSUFBSSxFQUFFLG1CQUFVLENBQUMsb0JBQW9CO2dCQUNyQyxJQUFJLEVBQUU7b0JBQ0YsR0FBRyxFQUFFLElBQUksQ0FBQyxHQUFHO2lCQUNoQjthQUNKLENBQUMsQ0FBQztTQUNOO0lBQ0wsQ0FBQztJQUVPLDJCQUFNLEdBQWQ7UUFDSSxJQUFJLElBQUksQ0FBQyxPQUFPLEtBQUssSUFBSTtZQUNyQixJQUFJLENBQUMsT0FBTyxDQUFDLFVBQVUsR0FBRyxDQUFDO1lBQzNCLElBQUksQ0FBQyxPQUFPLENBQUMsVUFBVSxHQUFHLENBQUMsRUFBRTtZQUM3QixJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBRSxDQUFDO1NBQ3hCO0lBQ0wsQ0FBQztJQUlMLGlCQUFDO0FBQUQsQ0FBQztBQXZLWSxnQ0FBVSIsImZpbGUiOiIxMS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXHJcbiogVGhlIGNvcHlyaWdodCBpbiB0aGlzIHNvZnR3YXJlIG1vZHVsZSBpcyBiZWluZyBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgQlNEIExpY2Vuc2UsIGluY2x1ZGVkXHJcbiogYmVsb3cuIFRoaXMgc29mdHdhcmUgbW9kdWxlIG1heSBiZSBzdWJqZWN0IHRvIG90aGVyIHRoaXJkIHBhcnR5IGFuZC9vciBjb250cmlidXRvciByaWdodHMsXHJcbiogaW5jbHVkaW5nIHBhdGVudCByaWdodHMsIGFuZCBubyBzdWNoIHJpZ2h0cyBhcmUgZ3JhbnRlZCB1bmRlciB0aGlzIGxpY2Vuc2UuXHJcbipcclxuKiBDb3B5cmlnaHQgKGMpIDIwMTYsIE9yYW5nZVxyXG4qIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbipcclxuKiBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXQgbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkXHJcbiogcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlIG1ldDpcclxuKiAtIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnNcclxuKiAgIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXHJcbiogLSBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdCBvZlxyXG4qICAgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZSBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWRcclxuKiAgIHdpdGggdGhlIGRpc3RyaWJ1dGlvbi5cclxuKiAtIE5laXRoZXIgdGhlIG5hbWUgb2YgT3JhbmdlIG5vciB0aGUgbmFtZXMgb2YgaXRzIGNvbnRyaWJ1dG9ycyBtYXkgYmUgdXNlZCB0byBlbmRvcnNlIG9yIHByb21vdGVcclxuKiAgIHByb2R1Y3RzIGRlcml2ZWQgZnJvbSB0aGlzIHNvZnR3YXJlIG1vZHVsZSB3aXRob3V0IHNwZWNpZmljIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi5cclxuKlxyXG4qXHJcbiogVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SUyDigJxBUyBJU+KAnSBBTkQgQU5ZIEVYUFJFU1MgT1JcclxuKiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkRcclxuKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVCBIT0xERVIgT1xyXG4qIENPTlRSSUJVVE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLCBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUxcclxuKiBEQU1BR0VTIChJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsXHJcbiogREFUQSwgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZIFRIRU9SWSBPRiBMSUFCSUxJVFksXHJcbiogV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVCAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWVxyXG4qIFdBWSBPVVQgT0YgVEhFIFVTRSBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxyXG4qL1xyXG5cclxuLyoqXHJcbiogRmlsZSBkb3dubG9hZGVyIHV0aWxpdHkgY2xhc3MuXHJcbiovXHJcblxyXG5pbXBvcnQgeyBFcnJvckNvZGVzIH0gZnJvbSAnLi4vRXJyb3JzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBGaWxlTG9hZGVyIHtcclxuXHJcbiAgICAvLyAjcmVnaW9uIE1FTUJFUlNcclxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICAgcHJpdmF0ZSByZXF1ZXN0OiBYTUxIdHRwUmVxdWVzdDtcclxuICAgIHByaXZhdGUgdXJsOiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIGJhc2VVcmw6IHN0cmluZztcclxuICAgIHByaXZhdGUgYWJvcnRlZDogYm9vbGVhbjtcclxuICAgIHByaXZhdGUgbmVlZEZhaWx1cmVSZXBvcnQ6IGJvb2xlYW47XHJcblxyXG4gICAgLy8gI2VuZHJlZ2lvbiBNRU1CRVJTXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgIC8vICNyZWdpb24gUFVCTElDIEZVTkNUSU9OU1xyXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLnJlcXVlc3QgPSBudWxsO1xyXG4gICAgICAgIHRoaXMudXJsID0gJyc7XHJcbiAgICAgICAgdGhpcy5iYXNlVXJsID0gJyc7XHJcbiAgICAgICAgdGhpcy5hYm9ydGVkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5uZWVkRmFpbHVyZVJlcG9ydCA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgbG9hZCAodXJsKTogUHJvbWlzZTxvYmplY3Q+IHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmxvYWRfKHVybCwgcmVzb2x2ZSwgcmVqZWN0KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBhYm9ydCAoKSB7XHJcbiAgICAgICAgdGhpcy5hYm9ydF8oKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyAjcmVnaW9uIFBVQkxJQyBGVU5DVElPTlNcclxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICAgLy8gI3JlZ2lvbiBQUklWQVRFIEZVTkNUSU9OU1xyXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgICBwcml2YXRlIHBhcnNlQmFzZVVybCAodXJsOiBzdHJpbmcpIHtcclxuICAgICAgICBsZXQgYmFzZSA9IG51bGw7XHJcbiAgICAgICAgaWYgKHVybC5pbmRleE9mKCcvJykgIT09IC0xKSB7XHJcbiAgICAgICAgICAgIGlmICh1cmwuaW5kZXhPZignPycpICE9PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgdXJsID0gdXJsLnN1YnN0cmluZygwLCB1cmwuaW5kZXhPZignPycpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBiYXNlID0gdXJsLnN1YnN0cmluZygwLCB1cmwubGFzdEluZGV4T2YoJy8nKSArIDEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYmFzZTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHBhcnNlWG1sIChkYXRhOiBzdHJpbmcpIHtcclxuICAgICAgICBpZiAoIURPTVBhcnNlcikge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBwYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCk7XHJcblxyXG4gICAgICAgICAgICBsZXQgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhkYXRhLCAndGV4dC94bWwnKTtcclxuICAgICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgncGFyc2VyZXJyb3InKS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Vycm9yIHBhcnNpbmcgWE1MJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHhtbERvYztcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGxvYWRfICh1cmw6IHN0cmluZywgcmVzb2x2ZTogYW55LCByZWplY3Q6IGFueSkge1xyXG4gICAgICAgIHRoaXMudXJsID0gdXJsO1xyXG4gICAgICAgIHRoaXMuYmFzZVVybCA9IHRoaXMucGFyc2VCYXNlVXJsKHVybCk7XHJcbiAgICAgICAgdGhpcy5yZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcblxyXG4gICAgICAgIHRoaXMucmVxdWVzdC5vbmxvYWQgPSBldnQgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLm9uTG9hZChyZXNvbHZlLCByZWplY3QpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5yZXF1ZXN0Lm9ubG9hZGVuZCA9IGV2dCA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMub25Mb2FkZW5kKHJlc29sdmUsIHJlamVjdCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLnJlcXVlc3Qub25lcnJvciA9IGV2dCA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMub25Mb2FkZW5kKHJlc29sdmUsIHJlamVjdCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLnJlcXVlc3Qub25hYm9ydCA9IGV2dCA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMub25BYm9ydCgpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMucmVxdWVzdC5vcGVuKCdHRVQnLCB1cmwsIHRydWUpO1xyXG4gICAgICAgIHRoaXMucmVxdWVzdC50aW1lb3V0ID0gMTAwMDA7XHJcbiAgICAgICAgdGhpcy5yZXF1ZXN0LnNlbmQoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIG9uQWJvcnQgKCkge1xyXG4gICAgICAgIHRoaXMuYWJvcnRlZCA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBvbkxvYWQgKHJlc29sdmU6IGFueSwgcmVqZWN0OiBhbnkpIHtcclxuICAgICAgICBpZiAodGhpcy5yZXF1ZXN0LnN0YXR1cyA8IDIwMCB8fCB0aGlzLnJlcXVlc3Quc3RhdHVzID4gMjk5KSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnJlcXVlc3Quc3RhdHVzID09PSAyMDAgJiYgdGhpcy5yZXF1ZXN0LnJlYWR5U3RhdGUgPT09IDQpIHtcclxuICAgICAgICAgICAgLy8gUGFyc2UgcmVzcG9uc2VUZXh0IGluIGNhc2Ugb2Ygd3JvbmcgcmVzcG9uc2UgQ29udGVudC1UeXBlXHJcbiAgICAgICAgICAgIGxldCB4bWxEb2M6IERvY3VtZW50ID0gdGhpcy5yZXF1ZXN0LnJlc3BvbnNlWE1MIHx8IHRoaXMucGFyc2VYbWwodGhpcy5yZXF1ZXN0LnJlc3BvbnNlVGV4dCk7XHJcblxyXG4gICAgICAgICAgICAvLyBDaGVjayBpZiByZXNwb25zZSBpcyBpbiBYTUwgZm9ybWF0LlxyXG4gICAgICAgICAgICBpZiAoeG1sRG9jID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm5lZWRGYWlsdXJlUmVwb3J0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gR2V0IHRoZSByZWRpcmVjdGlvbiBVUkwgYW5kIHVzZSBpdCBhcyBiYXNlIFVSTFxyXG4gICAgICAgICAgICBpZiAodGhpcy5yZXF1ZXN0LnJlc3BvbnNlVVJMKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJhc2VVcmwgPSB0aGlzLnBhcnNlQmFzZVVybCh0aGlzLnJlcXVlc3QucmVzcG9uc2VVUkwpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLm5lZWRGYWlsdXJlUmVwb3J0ID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAvLyBSZXR1cm4gWE1MIERPTSAoYXMgaW5wdXQgdG8gcGFyc2VycylcclxuICAgICAgICAgICAgcmVzb2x2ZSh7XHJcbiAgICAgICAgICAgICAgICBkb206IHhtbERvYyxcclxuICAgICAgICAgICAgICAgIGJhc2VVcmw6IHRoaXMuYmFzZVVybFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgb25Mb2FkZW5kIChyZXNvbHZlOiBhbnksIHJlamVjdDogYW55KSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLm5lZWRGYWlsdXJlUmVwb3J0KSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5uZWVkRmFpbHVyZVJlcG9ydCA9IGZhbHNlO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5hYm9ydGVkKSB7XHJcbiAgICAgICAgICAgIC8vIFJlcXVlc3QgaGFzIGJlZW4gYWJvcnRlZCA9PiByZWplY3Qgd2l0aG91dCBlcnJvclxyXG4gICAgICAgICAgICByZWplY3QoKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucmVxdWVzdC5zdGF0dXMgPCAyMDAgfHwgdGhpcy5yZXF1ZXN0LnN0YXR1cyA+IDI5OSkge1xyXG4gICAgICAgICAgICAvLyBSZXF1ZXN0IGhhcyBmYWlsZWQgPT4gcmVqZWN0IHdpdGggZXJyb3JcclxuICAgICAgICAgICAgcmVqZWN0KHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IEVycm9yQ29kZXMuRE9XTkxPQURfRVJSX0ZJTEUsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiB0aGlzLnVybCxcclxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHRoaXMucmVxdWVzdC5zdGF0dXNcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnJlcXVlc3QucmVzcG9uc2VYTUwgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgLy8gUmVzcG9uc2Ugd2FzIG5vdCBpbiBYTUwgZm9ybWF0ID0+IHJlamVjdCB3aXRoIGVycm9yXHJcbiAgICAgICAgICAgIHJlamVjdCh7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBFcnJvckNvZGVzLkRPV05MT0FEX0VSUl9OT1RfWE1MLFxyXG4gICAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogdGhpcy51cmxcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYWJvcnRfICgpIHtcclxuICAgICAgICBpZiAodGhpcy5yZXF1ZXN0ICE9PSBudWxsICYmXHJcbiAgICAgICAgICAgIHRoaXMucmVxdWVzdC5yZWFkeVN0YXRlID4gMCAmJlxyXG4gICAgICAgICAgICB0aGlzLnJlcXVlc3QucmVhZHlTdGF0ZSA8IDQpIHtcclxuICAgICAgICAgICAgdGhpcy5yZXF1ZXN0LmFib3J0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vICNlbmRyZWdpb24gUFJJVkFURSBGVU5DVElPTlNcclxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///11\n")},function(module,exports,__webpack_require__){"use strict";eval("\r\n/*\r\n* The copyright in this software module is being made available under the BSD License, included\r\n* below. This software module may be subject to other third party and/or contributor rights,\r\n* including patent rights, and no such rights are granted under this license.\r\n*\r\n* Copyright (c) 2016, Orange\r\n* All rights reserved.\r\n*\r\n* Redistribution and use in source and binary forms, with or without modification, are permitted\r\n* provided that the following conditions are met:\r\n* - Redistributions of source code must retain the above copyright notice, this list of conditions\r\n*   and the following disclaimer.\r\n* - Redistributions in binary form must reproduce the above copyright notice, this list of\r\n*   conditions and the following disclaimer in the documentation and/or other materials provided\r\n*   with the distribution.\r\n* - Neither the name of Orange nor the names of its contributors may be used to endorse or promote\r\n*   products derived from this software module without specific prior written permission.\r\n*\r\n*\r\n* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS “AS IS” AND ANY EXPRESS OR\r\n* IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\r\n* FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER O\r\n* CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\r\n* DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\r\n* DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\r\n* WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY\r\n* WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n* Errors and warning notifications handler.\r\n*/\r\nvar Logger_1 = __webpack_require__(0);\r\nvar Errors_1 = __webpack_require__(5);\r\nvar Events_1 = __webpack_require__(1);\r\nvar ErrorHandler = /** @class */ (function () {\r\n    // #endregion MEMBERS\r\n    // --------------------------------------------------\r\n    // #region PUBLIC FUNCTIONS\r\n    // --------------------------------------------------\r\n    function ErrorHandler(eventBus) {\r\n        this.logger = Logger_1.Logger.getInstance();\r\n        this.eventBus = eventBus;\r\n    }\r\n    ErrorHandler.prototype.sendError = function (code, data) {\r\n        var message = Errors_1.ErrorMessages[code];\r\n        this.logger.error('[Error] Code: ' + code + ', Message: ' + message + ', Data: ' + JSON.stringify(data, null, '\\t'));\r\n        this.eventBus.dispatchEvent(Events_1.EventTypes.ERROR, {\r\n            code: code,\r\n            message: message,\r\n            data: data\r\n        });\r\n    };\r\n    return ErrorHandler;\r\n}());\r\nexports.ErrorHandler = ErrorHandler;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hZHNwbGF5ZXIvLi9zcmMvbGliL0Vycm9ySGFuZGxlci50cz8yN2E5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0VBMkJFOztBQUVGOztFQUVFO0FBRUYsc0NBQWtDO0FBRWxDLHNDQUFzRDtBQUN0RCxzQ0FBdUM7QUFFdkM7SUFRSSxxQkFBcUI7SUFDckIscURBQXFEO0lBRXJELDJCQUEyQjtJQUMzQixxREFBcUQ7SUFFckQsc0JBQWEsUUFBUTtRQUNqQixJQUFJLENBQUMsTUFBTSxHQUFHLGVBQU0sQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUNuQyxJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztJQUM3QixDQUFDO0lBRUQsZ0NBQVMsR0FBVCxVQUFXLElBQWdCLEVBQUUsSUFBWTtRQUNyQyxJQUFJLE9BQU8sR0FBRyxzQkFBYSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ2xDLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLGdCQUFnQixHQUFHLElBQUksR0FBRyxhQUFhLEdBQUcsT0FBTyxHQUFHLFVBQVUsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUNySCxJQUFJLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyxtQkFBVSxDQUFDLEtBQUssRUFBRTtZQUMxQyxJQUFJLEVBQUUsSUFBSTtZQUNWLE9BQU8sRUFBRSxPQUFPO1lBQ2hCLElBQUksRUFBRSxJQUFJO1NBQ2IsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUlMLG1CQUFDO0FBQUQsQ0FBQztBQS9CWSxvQ0FBWSIsImZpbGUiOiIxMi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXHJcbiogVGhlIGNvcHlyaWdodCBpbiB0aGlzIHNvZnR3YXJlIG1vZHVsZSBpcyBiZWluZyBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgQlNEIExpY2Vuc2UsIGluY2x1ZGVkXHJcbiogYmVsb3cuIFRoaXMgc29mdHdhcmUgbW9kdWxlIG1heSBiZSBzdWJqZWN0IHRvIG90aGVyIHRoaXJkIHBhcnR5IGFuZC9vciBjb250cmlidXRvciByaWdodHMsXHJcbiogaW5jbHVkaW5nIHBhdGVudCByaWdodHMsIGFuZCBubyBzdWNoIHJpZ2h0cyBhcmUgZ3JhbnRlZCB1bmRlciB0aGlzIGxpY2Vuc2UuXHJcbipcclxuKiBDb3B5cmlnaHQgKGMpIDIwMTYsIE9yYW5nZVxyXG4qIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbipcclxuKiBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXQgbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkXHJcbiogcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlIG1ldDpcclxuKiAtIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnNcclxuKiAgIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXHJcbiogLSBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdCBvZlxyXG4qICAgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZSBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWRcclxuKiAgIHdpdGggdGhlIGRpc3RyaWJ1dGlvbi5cclxuKiAtIE5laXRoZXIgdGhlIG5hbWUgb2YgT3JhbmdlIG5vciB0aGUgbmFtZXMgb2YgaXRzIGNvbnRyaWJ1dG9ycyBtYXkgYmUgdXNlZCB0byBlbmRvcnNlIG9yIHByb21vdGVcclxuKiAgIHByb2R1Y3RzIGRlcml2ZWQgZnJvbSB0aGlzIHNvZnR3YXJlIG1vZHVsZSB3aXRob3V0IHNwZWNpZmljIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi5cclxuKlxyXG4qXHJcbiogVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SUyDigJxBUyBJU+KAnSBBTkQgQU5ZIEVYUFJFU1MgT1JcclxuKiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkRcclxuKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVCBIT0xERVIgT1xyXG4qIENPTlRSSUJVVE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLCBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUxcclxuKiBEQU1BR0VTIChJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsXHJcbiogREFUQSwgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZIFRIRU9SWSBPRiBMSUFCSUxJVFksXHJcbiogV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVCAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWVxyXG4qIFdBWSBPVVQgT0YgVEhFIFVTRSBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxyXG4qL1xyXG5cclxuLyoqXHJcbiogRXJyb3JzIGFuZCB3YXJuaW5nIG5vdGlmaWNhdGlvbnMgaGFuZGxlci5cclxuKi9cclxuXHJcbmltcG9ydCB7IExvZ2dlciB9IGZyb20gJy4vTG9nZ2VyJztcclxuaW1wb3J0IHsgRXZlbnRCdXMgfSBmcm9tICcuL0V2ZW50QnVzJztcclxuaW1wb3J0IHsgRXJyb3JDb2RlcywgRXJyb3JNZXNzYWdlcyB9IGZyb20gJy4uL0Vycm9ycyc7XHJcbmltcG9ydCB7IEV2ZW50VHlwZXMgfSBmcm9tICcuLi9FdmVudHMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIEVycm9ySGFuZGxlciB7XHJcblxyXG4gICAgLy8gI3JlZ2lvbiBNRU1CRVJTXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgIHByaXZhdGUgbG9nZ2VyOiBMb2dnZXI7XHJcbiAgICBwcml2YXRlIGV2ZW50QnVzOiBFdmVudEJ1cztcclxuXHJcbiAgICAvLyAjZW5kcmVnaW9uIE1FTUJFUlNcclxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICAgLy8gI3JlZ2lvbiBQVUJMSUMgRlVOQ1RJT05TXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgIGNvbnN0cnVjdG9yIChldmVudEJ1cykge1xyXG4gICAgICAgIHRoaXMubG9nZ2VyID0gTG9nZ2VyLmdldEluc3RhbmNlKCk7XHJcbiAgICAgICAgdGhpcy5ldmVudEJ1cyA9IGV2ZW50QnVzO1xyXG4gICAgfVxyXG5cclxuICAgIHNlbmRFcnJvciAoY29kZTogRXJyb3JDb2RlcywgZGF0YTogb2JqZWN0KSB7XHJcbiAgICAgICAgbGV0IG1lc3NhZ2UgPSBFcnJvck1lc3NhZ2VzW2NvZGVdO1xyXG4gICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdbRXJyb3JdIENvZGU6ICcgKyBjb2RlICsgJywgTWVzc2FnZTogJyArIG1lc3NhZ2UgKyAnLCBEYXRhOiAnICsgSlNPTi5zdHJpbmdpZnkoZGF0YSwgbnVsbCwgJ1xcdCcpKTtcclxuICAgICAgICB0aGlzLmV2ZW50QnVzLmRpc3BhdGNoRXZlbnQoRXZlbnRUeXBlcy5FUlJPUiwge1xyXG4gICAgICAgICAgICBjb2RlOiBjb2RlLFxyXG4gICAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLFxyXG4gICAgICAgICAgICBkYXRhOiBkYXRhXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gI2VuZHJlZ2lvbiBQVUJMSUMgRlVOQ1RJT05TXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///12\n")},function(module,exports,__webpack_require__){"use strict";eval("\r\n/*\r\n* The copyright in this software module is being made available under the BSD License, included\r\n* below. This software module may be subject to other third party and/or contributor rights,\r\n* including patent rights, and no such rights are granted under this license.\r\n*\r\n* Copyright (c) 2016, Orange\r\n* All rights reserved.\r\n*\r\n* Redistribution and use in source and binary forms, with or without modification, are permitted\r\n* provided that the following conditions are met:\r\n* - Redistributions of source code must retain the above copyright notice, this list of conditions\r\n*   and the following disclaimer.\r\n* - Redistributions in binary form must reproduce the above copyright notice, this list of\r\n*   conditions and the following disclaimer in the documentation and/or other materials provided\r\n*   with the distribution.\r\n* - Neither the name of Orange nor the names of its contributors may be used to endorse or promote\r\n*   products derived from this software module without specific prior written permission.\r\n*\r\n*\r\n* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS “AS IS” AND ANY EXPRESS OR\r\n* IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\r\n* FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER O\r\n* CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\r\n* DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\r\n* DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\r\n* WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY\r\n* WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n* MAST parser. This class parses MAST file in XML format\r\n* and construct the corresponding MAST object according to MAST data model.\r\n*/\r\nvar mast = __webpack_require__(6);\r\nvar xmldom_1 = __webpack_require__(7);\r\nvar MastParser = /** @class */ (function () {\r\n    // #region PUBLIC FUNCTIONS\r\n    // --------------------------------------------------\r\n    function MastParser() {\r\n    }\r\n    /**\r\n    * Parses the MAST xml file and get the triggers.\r\n    * @param {object} xmlDom - the XML DOM to parse\r\n    */\r\n    MastParser.prototype.parse = function (xmlDom) {\r\n        var _mast = new mast.Mast(), mastNode = xmldom_1.XmlDom.getElement(xmlDom, 'MAST');\r\n        if (mastNode === null) {\r\n            return _mast;\r\n        }\r\n        this.getTriggers(mastNode, _mast);\r\n        return _mast;\r\n    };\r\n    // #endregion PUBLIC FUNCTIONS\r\n    // --------------------------------------------------\r\n    // #region PRIVATE FUNCTIONS\r\n    // --------------------------------------------------    \r\n    MastParser.prototype.getCondition = function (conditionNode) {\r\n        var condition = new mast.Condition(), conditionNodes;\r\n        condition.type = conditionNode.getAttribute('type');\r\n        condition.name = conditionNode.getAttribute('name');\r\n        condition.value = conditionNode.getAttribute('value');\r\n        condition.operator = conditionNode.getAttribute('operator');\r\n        conditionNodes = conditionNode.getElementsByTagName('condition');\r\n        for (var i = 0; i < conditionNodes.length; i++) {\r\n            condition.conditions.push(this.getCondition(conditionNodes[i]));\r\n        }\r\n        return condition;\r\n    };\r\n    MastParser.prototype.getSource = function (sourceNode) {\r\n        var source = new mast.Source(), sourceNodes;\r\n        source.uri = sourceNode.getAttribute('uri');\r\n        source.altReference = sourceNode.getAttribute('altReference');\r\n        source.format = sourceNode.getAttribute('format');\r\n        sourceNodes = sourceNode.getElementsByTagName('source');\r\n        for (var i = 0; i < sourceNodes.length; i++) {\r\n            source.sources.push(this.getSource(sourceNodes[i]));\r\n        }\r\n        return source;\r\n    };\r\n    MastParser.prototype.getTrigger = function (triggerNode) {\r\n        var trigger = new mast.Trigger(), startConditionNodes = xmldom_1.XmlDom.getSubElements(triggerNode, 'startConditions', 'condition'), endConditionNodes = xmldom_1.XmlDom.getSubElements(triggerNode, 'endConditions', 'condition'), sourceNodes = xmldom_1.XmlDom.getSubElements(triggerNode, 'sources', 'source');\r\n        trigger.id = triggerNode.getAttribute('id');\r\n        trigger.description = triggerNode.getAttribute('description');\r\n        for (var i = 0; i < startConditionNodes.length; i++) {\r\n            trigger.startConditions.push(this.getCondition(startConditionNodes[i]));\r\n        }\r\n        for (var i = 0; i < endConditionNodes.length; i++) {\r\n            trigger.endConditions.push(this.getCondition(endConditionNodes[i]));\r\n        }\r\n        for (var i = 0; i < sourceNodes.length; i++) {\r\n            trigger.sources.push(this.getSource(sourceNodes[i]));\r\n        }\r\n        return trigger;\r\n    };\r\n    MastParser.prototype.getTriggers = function (mastNode, mast) {\r\n        var triggerNodes = xmldom_1.XmlDom.getSubElements(mastNode, 'triggers', 'trigger');\r\n        for (var i = 0; i < triggerNodes.length; i++) {\r\n            mast.triggers.push(this.getTrigger(triggerNodes[i]));\r\n        }\r\n    };\r\n    return MastParser;\r\n}());\r\nexports.MastParser = MastParser;\r\nexports.default = MastParser;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hZHNwbGF5ZXIvLi9zcmMvbGliL21hc3QvTWFzdFBhcnNlci50cz9hNWViIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0VBMkJFOztBQUVGOzs7RUFHRTtBQUVGLGtDQUFxQztBQUNyQyxzQ0FBeUM7QUFHekM7SUFFSSwyQkFBMkI7SUFDM0IscURBQXFEO0lBRXJEO0lBQ0EsQ0FBQztJQUVEOzs7TUFHRTtJQUNGLDBCQUFLLEdBQUwsVUFBTyxNQUFnQjtRQUNuQixJQUFJLEtBQUssR0FBYyxJQUFJLElBQUksQ0FBQyxJQUFJLEVBQUUsRUFDbEMsUUFBUSxHQUFHLGVBQU0sQ0FBQyxVQUFVLENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQyxDQUFDO1FBRWpELElBQUksUUFBUSxLQUFLLElBQUksRUFBRTtZQUNuQixPQUFPLEtBQUssQ0FBQztTQUNoQjtRQUVELElBQUksQ0FBQyxXQUFXLENBQUMsUUFBUSxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBRWxDLE9BQU8sS0FBSyxDQUFDO0lBQ2pCLENBQUM7SUFFRCw4QkFBOEI7SUFDOUIscURBQXFEO0lBR3JELDRCQUE0QjtJQUM1Qix5REFBeUQ7SUFHekQsaUNBQVksR0FBWixVQUFjLGFBQWE7UUFDdkIsSUFBSSxTQUFTLEdBQW1CLElBQUksSUFBSSxDQUFDLFNBQVMsRUFBRSxFQUNoRCxjQUFjLENBQUM7UUFFbkIsU0FBUyxDQUFDLElBQUksR0FBRyxhQUFhLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ3BELFNBQVMsQ0FBQyxJQUFJLEdBQUcsYUFBYSxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNwRCxTQUFTLENBQUMsS0FBSyxHQUFHLGFBQWEsQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDdEQsU0FBUyxDQUFDLFFBQVEsR0FBRyxhQUFhLENBQUMsWUFBWSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FB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SUFBZTtRQUNsQyxJQUFJLFlBQVksR0FBRyxlQUFNLENBQUMsY0FBYyxDQUFDLFFBQVEsRUFBRSxVQUFVLEVBQUUsU0FBUyxDQUFDLENBQUM7UUFFMUUsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLFlBQVksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDMUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ3hEO0lBQ0wsQ0FBQztJQUtMLGlCQUFDO0FBQUQsQ0FBQztBQW5HWSxnQ0FBVTtBQXNHdkIsa0JBQWUsVUFBVSxDQUFDIiwiZmlsZSI6IjEzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLypcclxuKiBUaGUgY29weXJpZ2h0IGluIHRoaXMgc29mdHdhcmUgbW9kdWxlIGlzIGJlaW5nIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSBCU0QgTGljZW5zZSwgaW5jbHVkZWRcclxuKiBiZWxvdy4gVGhpcyBzb2Z0d2FyZSBtb2R1bGUgbWF5IGJlIHN1YmplY3QgdG8gb3RoZXIgdGhpcmQgcGFydHkgYW5kL29yIGNvbnRyaWJ1dG9yIHJpZ2h0cyxcclxuKiBpbmNsdWRpbmcgcGF0ZW50IHJpZ2h0cywgYW5kIG5vIHN1Y2ggcmlnaHRzIGFyZSBncmFudGVkIHVuZGVyIHRoaXMgbGljZW5zZS5cclxuKlxyXG4qIENvcHlyaWdodCAoYykgMjAxNiwgT3JhbmdlXHJcbiogQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuKlxyXG4qIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dCBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWRcclxuKiBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmUgbWV0OlxyXG4qIC0gUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9uc1xyXG4qICAgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cclxuKiAtIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSwgdGhpcyBsaXN0IG9mXHJcbiogICBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIgaW4gdGhlIGRvY3VtZW50YXRpb24gYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZFxyXG4qICAgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxyXG4qIC0gTmVpdGhlciB0aGUgbmFtZSBvZiBPcmFuZ2Ugbm9yIHRoZSBuYW1lcyBvZiBpdHMgY29udHJpYnV0b3JzIG1heSBiZSB1c2VkIHRvIGVuZG9yc2Ugb3IgcHJvbW90ZVxyXG4qICAgcHJvZHVjdHMgZGVyaXZlZCBmcm9tIHRoaXMgc29mdHdhcmUgbW9kdWxlIHdpdGhvdXQgc3BlY2lmaWMgcHJpb3Igd3JpdHRlbiBwZXJtaXNzaW9uLlxyXG4qXHJcbipcclxuKiBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTIOKAnEFTIElT4oCdIEFORCBBTlkgRVhQUkVTUyBPUlxyXG4qIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFRIRSBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORFxyXG4qIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFSRSBESVNDTEFJTUVELiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQ09QWVJJR0hUIEhPTERFUiBPXHJcbiogQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTFxyXG4qIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSxcclxuKiBEQVRBLCBPUiBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTlkgVEhFT1JZIE9GIExJQUJJTElUWSxcclxuKiBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZXHJcbiogV0FZIE9VVCBPRiBUSEUgVVNFIE9GIFRISVMgU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEUgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuXHJcbiovXHJcblxyXG4vKipcclxuKiBNQVNUIHBhcnNlci4gVGhpcyBjbGFzcyBwYXJzZXMgTUFTVCBmaWxlIGluIFhNTCBmb3JtYXRcclxuKiBhbmQgY29uc3RydWN0IHRoZSBjb3JyZXNwb25kaW5nIE1BU1Qgb2JqZWN0IGFjY29yZGluZyB0byBNQVNUIGRhdGEgbW9kZWwuXHJcbiovXHJcblxyXG5pbXBvcnQgKiBhcyBtYXN0IGZyb20gJy4vbW9kZWwvTWFzdCc7XHJcbmltcG9ydCB7IFhtbERvbSB9IGZyb20gJy4uL3V0aWxzL3htbGRvbSc7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIE1hc3RQYXJzZXIge1xyXG5cclxuICAgIC8vICNyZWdpb24gUFVCTElDIEZVTkNUSU9OU1xyXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogUGFyc2VzIHRoZSBNQVNUIHhtbCBmaWxlIGFuZCBnZXQgdGhlIHRyaWdnZXJzLlxyXG4gICAgKiBAcGFyYW0ge29iamVjdH0geG1sRG9tIC0gdGhlIFhNTCBET00gdG8gcGFyc2VcclxuICAgICovXHJcbiAgICBwYXJzZSAoeG1sRG9tOiBEb2N1bWVudCkge1xyXG4gICAgICAgIGxldCBfbWFzdDogbWFzdC5NYXN0ID0gbmV3IG1hc3QuTWFzdCgpLFxyXG4gICAgICAgICAgICBtYXN0Tm9kZSA9IFhtbERvbS5nZXRFbGVtZW50KHhtbERvbSwgJ01BU1QnKTtcclxuXHJcbiAgICAgICAgaWYgKG1hc3ROb2RlID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfbWFzdDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuZ2V0VHJpZ2dlcnMobWFzdE5vZGUsIF9tYXN0KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIF9tYXN0O1xyXG4gICAgfVxyXG5cclxuICAgIC8vICNlbmRyZWdpb24gUFVCTElDIEZVTkNUSU9OU1xyXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcblxyXG4gICAgLy8gI3JlZ2lvbiBQUklWQVRFIEZVTkNUSU9OU1xyXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gICAgXHJcblxyXG5cclxuICAgIGdldENvbmRpdGlvbiAoY29uZGl0aW9uTm9kZSk6IG1hc3QuQ29uZGl0aW9uIHtcclxuICAgICAgICBsZXQgY29uZGl0aW9uOiBtYXN0LkNvbmRpdGlvbiA9IG5ldyBtYXN0LkNvbmRpdGlvbigpLFxyXG4gICAgICAgICAgICBjb25kaXRpb25Ob2RlcztcclxuXHJcbiAgICAgICAgY29uZGl0aW9uLnR5cGUgPSBjb25kaXRpb25Ob2RlLmdldEF0dHJpYnV0ZSgndHlwZScpO1xyXG4gICAgICAgIGNvbmRpdGlvbi5uYW1lID0gY29uZGl0aW9uTm9kZS5nZXRBdHRyaWJ1dGUoJ25hbWUnKTtcclxuICAgICAgICBjb25kaXRpb24udmFsdWUgPSBjb25kaXRpb25Ob2RlLmdldEF0dHJpYnV0ZSgndmFsdWUnKTtcclxuICAgICAgICBjb25kaXRpb24ub3BlcmF0b3IgPSBjb25kaXRpb25Ob2RlLmdldEF0dHJpYnV0ZSgnb3BlcmF0b3InKTtcclxuICAgICAgICBjb25kaXRpb25Ob2RlcyA9IGNvbmRpdGlvbk5vZGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2NvbmRpdGlvbicpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29uZGl0aW9uTm9kZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uZGl0aW9uLmNvbmRpdGlvbnMucHVzaCh0aGlzLmdldENvbmRpdGlvbihjb25kaXRpb25Ob2Rlc1tpXSkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGNvbmRpdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICBnZXRTb3VyY2UgKHNvdXJjZU5vZGUpOiBtYXN0LlNvdXJjZSB7XHJcbiAgICAgICAgbGV0IHNvdXJjZTogbWFzdC5Tb3VyY2UgPSBuZXcgbWFzdC5Tb3VyY2UoKSxcclxuICAgICAgICAgICAgc291cmNlTm9kZXM7XHJcblxyXG4gICAgICAgIHNvdXJjZS51cmkgPSBzb3VyY2VOb2RlLmdldEF0dHJpYnV0ZSgndXJpJyk7XHJcbiAgICAgICAgc291cmNlLmFsdFJlZmVyZW5jZSA9IHNvdXJjZU5vZGUuZ2V0QXR0cmlidXRlKCdhbHRSZWZlcmVuY2UnKTtcclxuICAgICAgICBzb3VyY2UuZm9ybWF0ID0gc291cmNlTm9kZS5nZXRBdHRyaWJ1dGUoJ2Zvcm1hdCcpO1xyXG4gICAgICAgIHNvdXJjZU5vZGVzID0gc291cmNlTm9kZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc291cmNlJyk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzb3VyY2VOb2Rlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBzb3VyY2Uuc291cmNlcy5wdXNoKHRoaXMuZ2V0U291cmNlKHNvdXJjZU5vZGVzW2ldKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gc291cmNlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFRyaWdnZXIgKHRyaWdnZXJOb2RlKTogbWFzdC5UcmlnZ2VyIHtcclxuICAgICAgICBsZXQgdHJpZ2dlcjogbWFzdC5UcmlnZ2VyID0gbmV3IG1hc3QuVHJpZ2dlcigpLFxyXG4gICAgICAgICAgICBzdGFydENvbmRpdGlvbk5vZGVzID0gWG1sRG9tLmdldFN1YkVsZW1lbnRzKHRyaWdnZXJOb2RlLCAnc3RhcnRDb25kaXRpb25zJywgJ2NvbmRpdGlvbicpLFxyXG4gICAgICAgICAgICBlbmRDb25kaXRpb25Ob2RlcyA9IFhtbERvbS5nZXRTdWJFbGVtZW50cyh0cmlnZ2VyTm9kZSwgJ2VuZENvbmRpdGlvbnMnLCAnY29uZGl0aW9uJyksXHJcbiAgICAgICAgICAgIHNvdXJjZU5vZGVzID0gWG1sRG9tLmdldFN1YkVsZW1lbnRzKHRyaWdnZXJOb2RlLCAnc291cmNlcycsICdzb3VyY2UnKTtcclxuXHJcbiAgICAgICAgdHJpZ2dlci5pZCA9IHRyaWdnZXJOb2RlLmdldEF0dHJpYnV0ZSgnaWQnKTtcclxuICAgICAgICB0cmlnZ2VyLmRlc2NyaXB0aW9uID0gdHJpZ2dlck5vZGUuZ2V0QXR0cmlidXRlKCdkZXNjcmlwdGlvbicpO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0YXJ0Q29uZGl0aW9uTm9kZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdHJpZ2dlci5zdGFydENvbmRpdGlvbnMucHVzaCh0aGlzLmdldENvbmRpdGlvbihzdGFydENvbmRpdGlvbk5vZGVzW2ldKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVuZENvbmRpdGlvbk5vZGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRyaWdnZXIuZW5kQ29uZGl0aW9ucy5wdXNoKHRoaXMuZ2V0Q29uZGl0aW9uKGVuZENvbmRpdGlvbk5vZGVzW2ldKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNvdXJjZU5vZGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRyaWdnZXIuc291cmNlcy5wdXNoKHRoaXMuZ2V0U291cmNlKHNvdXJjZU5vZGVzW2ldKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdHJpZ2dlcjtcclxuICAgIH1cclxuXHJcbiAgICBnZXRUcmlnZ2VycyAobWFzdE5vZGUsIG1hc3Q6IG1hc3QuTWFzdCkge1xyXG4gICAgICAgIGxldCB0cmlnZ2VyTm9kZXMgPSBYbWxEb20uZ2V0U3ViRWxlbWVudHMobWFzdE5vZGUsICd0cmlnZ2VycycsICd0cmlnZ2VyJyk7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHJpZ2dlck5vZGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIG1hc3QudHJpZ2dlcnMucHVzaCh0aGlzLmdldFRyaWdnZXIodHJpZ2dlck5vZGVzW2ldKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vICNlbmRyZWdpb24gUFJJVkFURSBGVU5DVElPTlNcclxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG59XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgTWFzdFBhcnNlcjsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///13\n")},function(module,exports,__webpack_require__){"use strict";eval('\r\n/*\r\n* The copyright in this software module is being made available under the BSD License, included\r\n* below. This software module may be subject to other third party and/or contributor rights,\r\n* including patent rights, and no such rights are granted under this license.\r\n*\r\n* Copyright (c) 2016, Orange\r\n* All rights reserved.\r\n*\r\n* Redistribution and use in source and binary forms, with or without modification, are permitted\r\n* provided that the following conditions are met:\r\n* - Redistributions of source code must retain the above copyright notice, this list of conditions\r\n*   and the following disclaimer.\r\n* - Redistributions in binary form must reproduce the above copyright notice, this list of\r\n*   conditions and the following disclaimer in the documentation and/or other materials provided\r\n*   with the distribution.\r\n* - Neither the name of Orange nor the names of its contributors may be used to endorse or promote\r\n*   products derived from this software module without specific prior written permission.\r\n*\r\n*\r\n* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS “AS IS” AND ANY EXPRESS OR\r\n* IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\r\n* FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER O\r\n* CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\r\n* DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\r\n* DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\r\n* WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY\r\n* WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n*/\r\nObject.defineProperty(exports, "__esModule", { value: true });\r\n/**\r\n* The TriggerManager manages the detection of the start and end of a trigger.\r\n* It takes as input a trigger object (as parsed from a MAST file) and tests the start and end conditions\r\n* to detect the activation and revocation of a trigger.\r\n*/\r\nvar mast = __webpack_require__(6);\r\nvar utils_1 = __webpack_require__(2);\r\nvar TriggerManager = /** @class */ (function () {\r\n    // #region PUBLIC FUNCTIONS\r\n    // --------------------------------------------------\r\n    function TriggerManager() {\r\n        this.trigger = null;\r\n        this.startTime = -1;\r\n        this.isSkipped = false;\r\n    }\r\n    /**\r\n     * Initializes the TriggerManager.\r\n     * @method init\r\n     * @access public\r\n     * @memberof TriggerManager#\r\n     * @param {Trigger} trigger - the trigger to handle by this manager\r\n     * @param {number} startTime - the playback time before which triggers shall be ignored\r\n     */\r\n    TriggerManager.prototype.init = function (trigger, startTime) {\r\n        this.trigger = trigger;\r\n        this.startTime = !isNaN(startTime) ? startTime : -1;\r\n    };\r\n    /**\r\n     * Returns the trigger object managed by this TriggerManager.\r\n     * @method init\r\n     * @access public\r\n     * @memberof TriggerManager#\r\n     * @return {Object} the managed trigger object\r\n     */\r\n    TriggerManager.prototype.getTrigger = function () {\r\n        return this.trigger;\r\n    };\r\n    /**\r\n     * Evaluates the trigger start conditions.\r\n     * @method checkStartConditions\r\n     * @access public\r\n     * @memberof TriggerManager#\r\n     * @param {Number} video - the main video element\r\n     */\r\n    TriggerManager.prototype.checkStartConditions = function (video) {\r\n        if (this.trigger.activated) {\r\n            return false;\r\n        }\r\n        if (this.trigger.sources.length === 0) {\r\n            // no ads sources to play, do not activate this trigger\r\n            return false;\r\n        }\r\n        return this.evaluateConditions(this.trigger.startConditions, video);\r\n    };\r\n    /**\r\n     * Evaluates the trigger end conditions.\r\n     * @method checkEndConditions\r\n     * @access public\r\n     * @memberof TriggerManager#\r\n     * @param {Number} video - the main video element\r\n     */\r\n    TriggerManager.prototype.checkEndConditions = function (video) {\r\n        return this.evaluateConditions(this.trigger.endConditions, video);\r\n    };\r\n    /**\r\n     * Return true if trigger is skipped since trigger time is anterior to provided stream start time\r\n     * @return true if trigger is skipped since trigger time is anterior to provided stream start time\r\n     */\r\n    TriggerManager.prototype.getIsSkipped = function () {\r\n        return this.isSkipped;\r\n    };\r\n    // #endregion PUBLIC FUNCTIONS\r\n    // --------------------------------------------------\r\n    // #region PRIVATE FUNCTIONS\r\n    // --------------------------------------------------\r\n    TriggerManager.prototype.compareValues = function (value1, value2, operator) {\r\n        if (value1 < 0 || value2 < 0) {\r\n            return false;\r\n        }\r\n        var res = false;\r\n        switch (operator) {\r\n            case mast.CONDITION_OPERATOR.EQ:\r\n                res = (value1 === value2);\r\n                break;\r\n            case mast.CONDITION_OPERATOR.NEQ:\r\n                res = (value1 !== value2);\r\n                break;\r\n            case mast.CONDITION_OPERATOR.GTR:\r\n                res = (value1 > value2);\r\n                break;\r\n            case mast.CONDITION_OPERATOR.GEQ:\r\n                res = (value1 >= value2);\r\n                break;\r\n            case mast.CONDITION_OPERATOR.LT:\r\n                res = (value1 < value2);\r\n                break;\r\n            case mast.CONDITION_OPERATOR.LEQ:\r\n                res = (value1 <= value2);\r\n                break;\r\n            case mast.CONDITION_OPERATOR.MOD:\r\n                res = ((value1 % value2) === 0);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        return res;\r\n    };\r\n    TriggerManager.prototype.evaluateCondition = function (condition, video) {\r\n        var res = false;\r\n        // Check pre-roll condition for activation\r\n        if (video.currentTime === 0 &&\r\n            condition.type === mast.CONDITION_TYPE.EVENT &&\r\n            condition.name === mast.CONDITION_NAME.ON_ITEM_START) {\r\n            res = true;\r\n            if (this.startTime > 0) {\r\n                res = false;\r\n                this.isSkipped = true;\r\n            }\r\n        }\r\n        // Check mid-roll condition for activation\r\n        if (condition.type === mast.CONDITION_TYPE.PROPERTY) {\r\n            var triggerTime = utils_1.Utils.parseTime(condition.value);\r\n            switch (condition.name) {\r\n                case mast.CONDITION_NAME.POSITION:\r\n                    // Check trigger time with stream start time if condition is relative to current position\r\n                    if (triggerTime < this.startTime) {\r\n                        res = false;\r\n                        this.isSkipped = true;\r\n                    }\r\n                    else {\r\n                        res = this.compareValues(video.currentTime, triggerTime, condition.operator);\r\n                    }\r\n                    break;\r\n                case mast.CONDITION_NAME.DURATION:\r\n                    res = this.compareValues(video.duration, triggerTime, condition.operator);\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n        // Check condition for revocation\r\n        if (video.ended && condition.type === mast.CONDITION_TYPE.EVENT && condition.name === mast.CONDITION_NAME.ON_ITEM_END) {\r\n            res = true;\r\n        }\r\n        // AND with sub-conditions\r\n        // MAST spec. : "Child conditions are treated as an implicit AND, all children of a condition must evaluate true before a trigger will fire (or be revoked) from that condition."\r\n        for (var i = 0; i < condition.conditions.length; i++) {\r\n            res = res && this.evaluateCondition(condition.conditions[i], video);\r\n        }\r\n        return res;\r\n    };\r\n    TriggerManager.prototype.evaluateConditions = function (conditions, video) {\r\n        var res = false;\r\n        // Evaluate each condition\r\n        // MAST spec. : "Multiple condition elements are treated as an implicit OR, any one of them evaluating true will fire the trigger."\r\n        for (var i = 0; i < conditions.length; i++) {\r\n            res = res || this.evaluateCondition(conditions[i], video);\r\n        }\r\n        return res;\r\n    };\r\n    return TriggerManager;\r\n}());\r\nexports.TriggerManager = TriggerManager;\r\nexports.default = TriggerManager;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hZHNwbGF5ZXIvLi9zcmMvbGliL21hc3QvVHJpZ2dlck1hbmFnZXIudHM/YzUzMyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztFQTJCRTs7QUFFRjs7OztFQUlFO0FBRUYsa0NBQXFDO0FBQ3JDLHFDQUF1QztBQUd2QztJQVNJLDJCQUEyQjtJQUMzQixxREFBcUQ7SUFFckQ7UUFDSSxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQztRQUNwQixJQUFJLENBQUMsU0FBUyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3BCLElBQUksQ0FBQyxTQUFTLEdBQUcsS0FBSyxDQUFDO0lBQzNCLENBQUM7SUFFRDs7Ozs7OztPQU9HO0lBQ0gsNkJBQUksR0FBSixVQUFNLE9BQXFCLEVBQUUsU0FBa0I7UUFDM0MsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7UUFDdkIsSUFBSSxDQUFDLFNBQVMsR0FBRyxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxFQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDdkQsQ0FBQztJQUVEOzs7Ozs7T0FNRztJQUNILG1DQUFVLEdBQVY7UUFDSSxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUM7SUFDeEIsQ0FBQztJQUVEOzs7Ozs7T0FNRztJQUNILDZDQUFvQixHQUFwQixVQUFzQixLQUF1QjtRQUN6QyxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxFQUFFO1lBQ3hCLE9BQU8sS0FBSyxDQUFDO1NBQ2hCO1FBRUQsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO1lBQ25DLHVEQUF1RDtZQUN2RCxPQUFPLEtBQUssQ0FBQztTQUNoQjtRQUVELE9BQU8sSUFBSSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsZUFBZSxFQUFFLEtBQUssQ0FBQyxD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LEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxVQUFVLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO1lBQ3hDLEdBQUcsR0FBRyxHQUFHLElBQUksSUFBSSxDQUFDLGlCQUFpQixDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQztTQUM3RDtRQUVELE9BQU8sR0FBRyxDQUFDO0lBQ2YsQ0FBQztJQUtMLHFCQUFDO0FBQUQsQ0FBQztBQTFMWSx3Q0FBYztBQTRMM0Isa0JBQWUsY0FBYyxDQUFDIiwiZmlsZSI6IjE0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLypcclxuKiBUaGUgY29weXJpZ2h0IGluIHRoaXMgc29mdHdhcmUgbW9kdWxlIGlzIGJlaW5nIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSBCU0QgTGljZW5zZSwgaW5jbHVkZWRcclxuKiBiZWxvdy4gVGhpcyBzb2Z0d2FyZSBtb2R1bGUgbWF5IGJlIHN1YmplY3QgdG8gb3RoZXIgdGhpcmQgcGFydHkgYW5kL29yIGNvbnRyaWJ1dG9yIHJpZ2h0cyxcclxuKiBpbmNsdWRpbmcgcGF0ZW50IHJpZ2h0cywgYW5kIG5vIHN1Y2ggcmlnaHRzIGFyZSBncmFudGVkIHVuZGVyIHRoaXMgbGljZW5zZS5cclxuKlxyXG4qIENvcHlyaWdodCAoYykgMjAxNiwgT3JhbmdlXHJcbiogQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuKlxyXG4qIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dCBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWRcclxuKiBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmUgbWV0OlxyXG4qIC0gUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9uc1xyXG4qICAgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cclxuKiAtIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSwgdGhpcyBsaXN0IG9mXHJcbiogICBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIgaW4gdGhlIGRvY3VtZW50YXRpb24gYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZFxyXG4qICAgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxyXG4qIC0gTmVpdGhlciB0aGUgbmFtZSBvZiBPcmFuZ2Ugbm9yIHRoZSBuYW1lcyBvZiBpdHMgY29udHJpYnV0b3JzIG1heSBiZSB1c2VkIHRvIGVuZG9yc2Ugb3IgcHJvbW90ZVxyXG4qICAgcHJvZHVjdHMgZGVyaXZlZCBmcm9tIHRoaXMgc29mdHdhcmUgbW9kdWxlIHdpdGhvdXQgc3BlY2lmaWMgcHJpb3Igd3JpdHRlbiBwZXJtaXNzaW9uLlxyXG4qXHJcbipcclxuKiBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTIOKAnEFTIElT4oCdIEFORCBBTlkgRVhQUkVTUyBPUlxyXG4qIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFRIRSBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORFxyXG4qIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFSRSBESVNDTEFJTUVELiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQ09QWVJJR0hUIEhPTERFUiBPXHJcbiogQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTFxyXG4qIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSxcclxuKiBEQVRBLCBPUiBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTlkgVEhFT1JZIE9GIExJQUJJTElUWSxcclxuKiBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZXHJcbiogV0FZIE9VVCBPRiBUSEUgVVNFIE9GIFRISVMgU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEUgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuXHJcbiovXHJcblxyXG4vKipcclxuKiBUaGUgVHJpZ2dlck1hbmFnZXIgbWFuYWdlcyB0aGUgZGV0ZWN0aW9uIG9mIHRoZSBzdGFydCBhbmQgZW5kIG9mIGEgdHJpZ2dlci5cclxuKiBJdCB0YWtlcyBhcyBpbnB1dCBhIHRyaWdnZXIgb2JqZWN0IChhcyBwYXJzZWQgZnJvbSBhIE1BU1QgZmlsZSkgYW5kIHRlc3RzIHRoZSBzdGFydCBhbmQgZW5kIGNvbmRpdGlvbnNcclxuKiB0byBkZXRlY3QgdGhlIGFjdGl2YXRpb24gYW5kIHJldm9jYXRpb24gb2YgYSB0cmlnZ2VyLlxyXG4qL1xyXG5cclxuaW1wb3J0ICogYXMgbWFzdCBmcm9tICcuL21vZGVsL01hc3QnO1xyXG5pbXBvcnQgeyBVdGlscyB9IGZyb20gJy4uL3V0aWxzL3V0aWxzJztcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgVHJpZ2dlck1hbmFnZXIge1xyXG5cclxuICAgIC8vICNyZWdpb24gTUVNQkVSU1xyXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgICB0cmlnZ2VyOiBtYXN0LlRyaWdnZXI7XHJcbiAgICBzdGFydFRpbWU6IG51bWJlcjtcclxuICAgIGlzU2tpcHBlZDogYm9vbGVhbjtcclxuXHJcbiAgICAvLyAjcmVnaW9uIFBVQkxJQyBGVU5DVElPTlNcclxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy50cmlnZ2VyID0gbnVsbDtcclxuICAgICAgICB0aGlzLnN0YXJ0VGltZSA9IC0xO1xyXG4gICAgICAgIHRoaXMuaXNTa2lwcGVkID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBJbml0aWFsaXplcyB0aGUgVHJpZ2dlck1hbmFnZXIuXHJcbiAgICAgKiBAbWV0aG9kIGluaXRcclxuICAgICAqIEBhY2Nlc3MgcHVibGljXHJcbiAgICAgKiBAbWVtYmVyb2YgVHJpZ2dlck1hbmFnZXIjXHJcbiAgICAgKiBAcGFyYW0ge1RyaWdnZXJ9IHRyaWdnZXIgLSB0aGUgdHJpZ2dlciB0byBoYW5kbGUgYnkgdGhpcyBtYW5hZ2VyXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRUaW1lIC0gdGhlIHBsYXliYWNrIHRpbWUgYmVmb3JlIHdoaWNoIHRyaWdnZXJzIHNoYWxsIGJlIGlnbm9yZWRcclxuICAgICAqL1xyXG4gICAgaW5pdCAodHJpZ2dlcjogbWFzdC5UcmlnZ2VyLCBzdGFydFRpbWU/OiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLnRyaWdnZXIgPSB0cmlnZ2VyO1xyXG4gICAgICAgIHRoaXMuc3RhcnRUaW1lID0gIWlzTmFOKHN0YXJ0VGltZSkgPyBzdGFydFRpbWU6IC0xO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgdHJpZ2dlciBvYmplY3QgbWFuYWdlZCBieSB0aGlzIFRyaWdnZXJNYW5hZ2VyLlxyXG4gICAgICogQG1ldGhvZCBpbml0XHJcbiAgICAgKiBAYWNjZXNzIHB1YmxpY1xyXG4gICAgICogQG1lbWJlcm9mIFRyaWdnZXJNYW5hZ2VyI1xyXG4gICAgICogQHJldHVybiB7T2JqZWN0fSB0aGUgbWFuYWdlZCB0cmlnZ2VyIG9iamVjdFxyXG4gICAgICovXHJcbiAgICBnZXRUcmlnZ2VyICgpOiBtYXN0LlRyaWdnZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRyaWdnZXI7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBFdmFsdWF0ZXMgdGhlIHRyaWdnZXIgc3RhcnQgY29uZGl0aW9ucy5cclxuICAgICAqIEBtZXRob2QgY2hlY2tTdGFydENvbmRpdGlvbnNcclxuICAgICAqIEBhY2Nlc3MgcHVibGljXHJcbiAgICAgKiBAbWVtYmVyb2YgVHJpZ2dlck1hbmFnZXIjXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gdmlkZW8gLSB0aGUgbWFpbiB2aWRlbyBlbGVtZW50XHJcbiAgICAgKi9cclxuICAgIGNoZWNrU3RhcnRDb25kaXRpb25zICh2aWRlbzogSFRNTE1lZGlhRWxlbWVudCkge1xyXG4gICAgICAgIGlmICh0aGlzLnRyaWdnZXIuYWN0aXZhdGVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnRyaWdnZXIuc291cmNlcy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgLy8gbm8gYWRzIHNvdXJjZXMgdG8gcGxheSwgZG8gbm90IGFjdGl2YXRlIHRoaXMgdHJpZ2dlclxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5ldmFsdWF0ZUNvbmRpdGlvbnModGhpcy50cmlnZ2VyLnN0YXJ0Q29uZGl0aW9ucywgdmlkZW8pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRXZhbHVhdGVzIHRoZSB0cmlnZ2VyIGVuZCBjb25kaXRpb25zLlxyXG4gICAgICogQG1ldGhvZCBjaGVja0VuZENvbmRpdGlvbnNcclxuICAgICAqIEBhY2Nlc3MgcHVibGljXHJcbiAgICAgKiBAbWVtYmVyb2YgVHJpZ2dlck1hbmFnZXIjXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gdmlkZW8gLSB0aGUgbWFpbiB2aWRlbyBlbGVtZW50XHJcbiAgICAgKi9cclxuICAgIGNoZWNrRW5kQ29uZGl0aW9ucyAodmlkZW86IEhUTUxNZWRpYUVsZW1lbnQpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5ldmFsdWF0ZUNvbmRpdGlvbnModGhpcy50cmlnZ2VyLmVuZENvbmRpdGlvbnMsIHZpZGVvKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybiB0cnVlIGlmIHRyaWdnZXIgaXMgc2tpcHBlZCBzaW5jZSB0cmlnZ2VyIHRpbWUgaXMgYW50ZXJpb3IgdG8gcHJvdmlkZWQgc3RyZWFtIHN0YXJ0IHRpbWVcclxuICAgICAqIEByZXR1cm4gdHJ1ZSBpZiB0cmlnZ2VyIGlzIHNraXBwZWQgc2luY2UgdHJpZ2dlciB0aW1lIGlzIGFudGVyaW9yIHRvIHByb3ZpZGVkIHN0cmVhbSBzdGFydCB0aW1lXHJcbiAgICAgKi9cclxuICAgIGdldElzU2tpcHBlZCAoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNTa2lwcGVkO1xyXG4gICAgfVxyXG5cclxuICAgIC8vICNlbmRyZWdpb24gUFVCTElDIEZVTkNUSU9OU1xyXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgICAvLyAjcmVnaW9uIFBSSVZBVEUgRlVOQ1RJT05TXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgIHByaXZhdGUgY29tcGFyZVZhbHVlcyAodmFsdWUxOiBudW1iZXIsIHZhbHVlMjogbnVtYmVyLCBvcGVyYXRvcjogc3RyaW5nKTogYm9vbGVhbiB7XHJcblxyXG4gICAgICAgIGlmICh2YWx1ZTEgPCAwIHx8IHZhbHVlMiA8IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IHJlczogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgICAgIHN3aXRjaCAob3BlcmF0b3IpIHtcclxuICAgICAgICAgICAgY2FzZSBtYXN0LkNPTkRJVElPTl9PUEVSQVRPUi5FUTpcclxuICAgICAgICAgICAgICAgIHJlcyA9ICh2YWx1ZTEgPT09IHZhbHVlMik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBtYXN0LkNPTkRJVElPTl9PUEVSQVRPUi5ORVE6XHJcbiAgICAgICAgICAgICAgICByZXMgPSAodmFsdWUxICE9PSB2YWx1ZTIpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgbWFzdC5DT05ESVRJT05fT1BFUkFUT1IuR1RSOlxyXG4gICAgICAgICAgICAgICAgcmVzID0gKHZhbHVlMSA+IHZhbHVlMik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBtYXN0LkNPTkRJVElPTl9PUEVSQVRPUi5HRVE6XHJcbiAgICAgICAgICAgICAgICByZXMgPSAodmFsdWUxID49IHZhbHVlMik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBtYXN0LkNPTkRJVElPTl9PUEVSQVRPUi5MVDpcclxuICAgICAgICAgICAgICAgIHJlcyA9ICh2YWx1ZTEgPCB2YWx1ZTIpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgbWFzdC5DT05ESVRJT05fT1BFUkFUT1IuTEVROlxyXG4gICAgICAgICAgICAgICAgcmVzID0gKHZhbHVlMSA8PSB2YWx1ZTIpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgbWFzdC5DT05ESVRJT05fT1BFUkFUT1IuTU9EOlxyXG4gICAgICAgICAgICAgICAgcmVzID0gKCh2YWx1ZTEgJSB2YWx1ZTIpID09PSAwKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXM7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBldmFsdWF0ZUNvbmRpdGlvbiAoY29uZGl0aW9uOiBtYXN0LkNvbmRpdGlvbiwgdmlkZW86IEhUTUxNZWRpYUVsZW1lbnQpOiBib29sZWFuIHtcclxuICAgICAgICBsZXQgcmVzOiBib29sZWFuID0gZmFsc2U7XHJcblxyXG4gICAgICAgIC8vIENoZWNrIHByZS1yb2xsIGNvbmRpdGlvbiBmb3IgYWN0aXZhdGlvblxyXG4gICAgICAgIGlmICh2aWRlby5jdXJyZW50VGltZSA9PT0gMCAmJlxyXG4gICAgICAgICAgICBjb25kaXRpb24udHlwZSA9PT0gbWFzdC5DT05ESVRJT05fVFlQRS5FVkVOVCAmJlxyXG4gICAgICAgICAgICBjb25kaXRpb24ubmFtZSA9PT0gbWFzdC5DT05ESVRJT05fTkFNRS5PTl9JVEVNX1NUQVJUKSB7XHJcbiAgICAgICAgICAgIHJlcyA9IHRydWU7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXJ0VGltZSA+IDApIHtcclxuICAgICAgICAgICAgICAgIHJlcyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc1NraXBwZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDaGVjayBtaWQtcm9sbCBjb25kaXRpb24gZm9yIGFjdGl2YXRpb25cclxuICAgICAgICBpZiAoY29uZGl0aW9uLnR5cGUgPT09IG1hc3QuQ09ORElUSU9OX1RZUEUuUFJPUEVSVFkpIHtcclxuICAgICAgICAgICAgbGV0IHRyaWdnZXJUaW1lID0gVXRpbHMucGFyc2VUaW1lKGNvbmRpdGlvbi52YWx1ZSk7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoY29uZGl0aW9uLm5hbWUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgbWFzdC5DT05ESVRJT05fTkFNRS5QT1NJVElPTjpcclxuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayB0cmlnZ2VyIHRpbWUgd2l0aCBzdHJlYW0gc3RhcnQgdGltZSBpZiBjb25kaXRpb24gaXMgcmVsYXRpdmUgdG8gY3VycmVudCBwb3NpdGlvblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0cmlnZ2VyVGltZSA8IHRoaXMuc3RhcnRUaW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzU2tpcHBlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzID0gdGhpcy5jb21wYXJlVmFsdWVzKHZpZGVvLmN1cnJlbnRUaW1lLCB0cmlnZ2VyVGltZSwgY29uZGl0aW9uLm9wZXJhdG9yKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIG1hc3QuQ09ORElUSU9OX05BTUUuRFVSQVRJT046XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzID0gdGhpcy5jb21wYXJlVmFsdWVzKHZpZGVvLmR1cmF0aW9uLCB0cmlnZ2VyVGltZSwgY29uZGl0aW9uLm9wZXJhdG9yKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENoZWNrIGNvbmRpdGlvbiBmb3IgcmV2b2NhdGlvblxyXG4gICAgICAgIGlmICh2aWRlby5lbmRlZCAmJiBjb25kaXRpb24udHlwZSA9PT0gbWFzdC5DT05ESVRJT05fVFlQRS5FVkVOVCAmJiBjb25kaXRpb24ubmFtZSA9PT0gbWFzdC5DT05ESVRJT05fTkFNRS5PTl9JVEVNX0VORCkge1xyXG4gICAgICAgICAgICByZXMgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQU5EIHdpdGggc3ViLWNvbmRpdGlvbnNcclxuICAgICAgICAvLyBNQVNUIHNwZWMuIDogXCJDaGlsZCBjb25kaXRpb25zIGFyZSB0cmVhdGVkIGFzIGFuIGltcGxpY2l0IEFORCwgYWxsIGNoaWxkcmVuIG9mIGEgY29uZGl0aW9uIG11c3QgZXZhbHVhdGUgdHJ1ZSBiZWZvcmUgYSB0cmlnZ2VyIHdpbGwgZmlyZSAob3IgYmUgcmV2b2tlZCkgZnJvbSB0aGF0IGNvbmRpdGlvbi5cIlxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29uZGl0aW9uLmNvbmRpdGlvbnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgcmVzID0gcmVzICYmIHRoaXMuZXZhbHVhdGVDb25kaXRpb24oY29uZGl0aW9uLmNvbmRpdGlvbnNbaV0sIHZpZGVvKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByZXM7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBldmFsdWF0ZUNvbmRpdGlvbnMgKGNvbmRpdGlvbnMsIHZpZGVvOiBIVE1MTWVkaWFFbGVtZW50KTogYm9vbGVhbiB7XHJcbiAgICAgICAgbGV0IHJlczogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICAgICAgICAvLyBFdmFsdWF0ZSBlYWNoIGNvbmRpdGlvblxyXG4gICAgICAgIC8vIE1BU1Qgc3BlYy4gOiBcIk11bHRpcGxlIGNvbmRpdGlvbiBlbGVtZW50cyBhcmUgdHJlYXRlZCBhcyBhbiBpbXBsaWNpdCBPUiwgYW55IG9uZSBvZiB0aGVtIGV2YWx1YXRpbmcgdHJ1ZSB3aWxsIGZpcmUgdGhlIHRyaWdnZXIuXCJcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbmRpdGlvbnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgcmVzID0gcmVzIHx8IHRoaXMuZXZhbHVhdGVDb25kaXRpb24oY29uZGl0aW9uc1tpXSwgdmlkZW8pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHJlcztcclxuICAgIH1cclxuXHJcbiAgICAvLyAjcmVnaW9uIFBSSVZBVEUgRlVOQ1RJT05TXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgVHJpZ2dlck1hbmFnZXI7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///14\n')},function(module,exports,__webpack_require__){"use strict";eval("\r\n/*\r\n* The copyright in this software module is being made available under the BSD License, included\r\n* below. This software module may be subject to other third party and/or contributor rights,\r\n* including patent rights, and no such rights are granted under this license.\r\n*\r\n* Copyright (c) 2016, Orange\r\n* All rights reserved.\r\n*\r\n* Redistribution and use in source and binary forms, with or without modification, are permitted\r\n* provided that the following conditions are met:\r\n* - Redistributions of source code must retain the above copyright notice, this list of conditions\r\n*   and the following disclaimer.\r\n* - Redistributions in binary form must reproduce the above copyright notice, this list of\r\n*   conditions and the following disclaimer in the documentation and/or other materials provided\r\n*   with the distribution.\r\n* - Neither the name of Orange nor the names of its contributors may be used to endorse or promote\r\n*   products derived from this software module without specific prior written permission.\r\n*\r\n*\r\n* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS “AS IS” AND ANY EXPRESS OR\r\n* IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\r\n* FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER O\r\n* CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\r\n* DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\r\n* DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\r\n* WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY\r\n* WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n* VAST parser. This class parses VAST file in XML format\r\n* and construct the corresponding VAST object according to VAST data model.\r\n*/\r\nvar vast = __webpack_require__(16);\r\nvar xmldom_1 = __webpack_require__(7);\r\nvar VastParser = /** @class */ (function () {\r\n    // #region PUBLIC FUNCTIONS\r\n    // --------------------------------------------------\r\n    function VastParser() {\r\n    }\r\n    /**\r\n    * Parses the VAST XML DOM and get the triggers.\r\n    * @param {object} xmlDom - the XML DOM to parse\r\n    */\r\n    VastParser.prototype.parse = function (xmlDom) {\r\n        var vast_ = new vast.Vast(), vastNode = xmldom_1.XmlDom.getElement(xmlDom, 'VAST');\r\n        if (vastNode === null) {\r\n            return vast_;\r\n        }\r\n        vast_.version = vastNode.getAttribute('version');\r\n        this.getAds(vastNode, vast_);\r\n        return vast_;\r\n    };\r\n    // #region PUBLIC FUNCTIONS\r\n    // --------------------------------------------------    \r\n    // #region PRIVATE FUNCTIONS\r\n    // --------------------------------------------------\r\n    VastParser.prototype.getTrackingEvent = function (trackingNode) {\r\n        var trackingEvent = new vast.TrackingEvent();\r\n        trackingEvent.event = trackingNode.getAttribute('event');\r\n        trackingEvent.uri = xmldom_1.XmlDom.getNodeTextValue(trackingNode);\r\n        if (trackingEvent.event == 'progress') {\r\n            var offsetValue = trackingNode.getAttribute('offset');\r\n            if (offsetValue.indexOf('%') == -1) {\r\n                /* convert HH:MM:SS ( or HH:MM:SS.mmm) in seconds */\r\n                trackingEvent.offsetInSeconds = new Date('1970-01-01T' + offsetValue + 'Z').getTime() / 1000;\r\n            }\r\n            else {\r\n                trackingEvent.offsetPercent = offsetValue.substring(0, offsetValue.indexOf('%')) / 100;\r\n            }\r\n        }\r\n        return trackingEvent;\r\n    };\r\n    VastParser.prototype.getVideoClicks = function (videoClicksNode) {\r\n        var videoClicks = new vast.VideoClicks(), nodeName, nodeValue;\r\n        for (var i = 0; i < videoClicksNode.childNodes.length; i++) {\r\n            nodeName = videoClicksNode.childNodes[i].nodeName;\r\n            nodeValue = xmldom_1.XmlDom.getNodeTextValue(videoClicksNode.childNodes[i]);\r\n            switch (nodeName) {\r\n                case 'ClickThrough':\r\n                    videoClicks.clickThrough = nodeValue;\r\n                    break;\r\n                case 'ClickTracking':\r\n                    videoClicks.clickTracking = nodeValue;\r\n                    break;\r\n                case 'CustomClick':\r\n                    videoClicks.customClick = nodeValue;\r\n                    break;\r\n            }\r\n        }\r\n        return videoClicks;\r\n    };\r\n    VastParser.prototype.getMediaFile = function (mediaFileNode) {\r\n        var mediaFile = new vast.MediaFile();\r\n        mediaFile.id = mediaFileNode.getAttribute('id');\r\n        mediaFile.delivery = mediaFileNode.getAttribute('delivery');\r\n        mediaFile.type = mediaFileNode.getAttribute('type');\r\n        mediaFile.bitrate = mediaFileNode.getAttribute('bitrate');\r\n        mediaFile.width = mediaFileNode.getAttribute('width');\r\n        mediaFile.height = mediaFileNode.getAttribute('height');\r\n        mediaFile.scalable = mediaFileNode.getAttribute('scalable');\r\n        mediaFile.maintainAspectRatio = mediaFileNode.getAttribute('maintainAspectRatio');\r\n        mediaFile.apiFramework = mediaFileNode.getAttribute('apiFramework');\r\n        mediaFile.uri = xmldom_1.XmlDom.getNodeTextValue(mediaFileNode);\r\n        return mediaFile;\r\n    };\r\n    VastParser.prototype.getLinear = function (linearNode) {\r\n        var linear = new vast.Linear(), trackingNodes, videoClicksNode, mediaFileNodes;\r\n        linear.duration = xmldom_1.XmlDom.getChildNodeTextValue(linearNode, 'Duration');\r\n        linear.adParameters = xmldom_1.XmlDom.getChildNodeTextValue(linearNode, 'AdParameters');\r\n        trackingNodes = xmldom_1.XmlDom.getSubElements(linearNode, 'TrackingEvents', 'Tracking');\r\n        for (var i = 0; i < trackingNodes.length; i++) {\r\n            linear.trackingEvents.push(this.getTrackingEvent(trackingNodes[i]));\r\n        }\r\n        videoClicksNode = xmldom_1.XmlDom.getElement(linearNode, 'VideoClicks');\r\n        if (videoClicksNode) {\r\n            linear.videoClicks = this.getVideoClicks(videoClicksNode);\r\n        }\r\n        mediaFileNodes = xmldom_1.XmlDom.getSubElements(linearNode, 'MediaFiles', 'MediaFile');\r\n        for (var i = 0; i < mediaFileNodes.length; i++) {\r\n            linear.mediaFiles.push(this.getMediaFile(mediaFileNodes[i]));\r\n        }\r\n        return linear;\r\n    };\r\n    VastParser.prototype.getCreative = function (creativeNode) {\r\n        var creative = new vast.Creative(), linearNode;\r\n        creative.id = creativeNode.getAttribute('id');\r\n        creative.adId = creativeNode.getAttribute('AdID');\r\n        creative.sequence = creativeNode.getAttribute('sequence');\r\n        linearNode = xmldom_1.XmlDom.getElement(creativeNode, 'Linear');\r\n        if (linearNode) {\r\n            creative.linear = this.getLinear(linearNode);\r\n        }\r\n        // TODO: get Companion and non-Linear elements\r\n        return creative;\r\n    };\r\n    VastParser.prototype.getInLine = function (adNode) {\r\n        var inLine = new vast.InLine(), inLineNode = xmldom_1.XmlDom.getElement(adNode, 'InLine'), impressionNodes, creativeNodes;\r\n        if (inLineNode === null) {\r\n            return null;\r\n        }\r\n        inLine.adSystem = xmldom_1.XmlDom.getChildNodeTextValue(inLineNode, 'AdSystem');\r\n        inLine.adTitle = xmldom_1.XmlDom.getChildNodeTextValue(inLineNode, 'AdTitle');\r\n        inLine.description = xmldom_1.XmlDom.getChildNodeTextValue(inLineNode, 'Description');\r\n        inLine.survey = xmldom_1.XmlDom.getChildNodeTextValue(inLineNode, 'Survey');\r\n        inLine.error = xmldom_1.XmlDom.getChildNodeTextValue(inLineNode, 'Error');\r\n        impressionNodes = xmldom_1.XmlDom.getElements(inLineNode, 'Impression');\r\n        for (var i = 0; i < impressionNodes.length; i++) {\r\n            var impression = new vast.Impression();\r\n            impression.id = impressionNodes[i].getAttribute('id');\r\n            impression.uri = xmldom_1.XmlDom.getNodeTextValue(impressionNodes[i]);\r\n            inLine.impressions.push(impression);\r\n        }\r\n        creativeNodes = xmldom_1.XmlDom.getSubElements(inLineNode, 'Creatives', 'Creative');\r\n        for (var i = 0; i < creativeNodes.length; i++) {\r\n            inLine.creatives.push(this.getCreative(creativeNodes[i]));\r\n        }\r\n        return inLine;\r\n    };\r\n    VastParser.prototype.getAd = function (adNode) {\r\n        var ad = new vast.Ad();\r\n        ad.id = adNode.getAttribute('id');\r\n        ad.sequence = adNode.getAttribute('sequence');\r\n        ad.inLine = this.getInLine(adNode);\r\n        return ad;\r\n    };\r\n    VastParser.prototype.getAds = function (vastNode, vast_) {\r\n        var adNodes = xmldom_1.XmlDom.getElements(vastNode, 'Ad');\r\n        for (var i = 0; i < adNodes.length; i++) {\r\n            vast_.ads.push(this.getAd(adNodes[i]));\r\n        }\r\n    };\r\n    return VastParser;\r\n}());\r\nexports.VastParser = VastParser;\r\nexports.default = VastParser;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hZHNwbGF5ZXIvLi9zcmMvbGliL3Zhc3QvVmFzdFBhcnNlci50cz84ZjIxIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0VBMkJFOztBQUVGOzs7RUFHRTtBQUVGLG1DQUFxQztBQUNyQyxzQ0FBeUM7QUFFekM7SUFFSSwyQkFBMkI7SUFDM0IscURBQXFEO0lBRXJEO0lBQ0EsQ0FBQztJQUVEOzs7TUFHRTtJQUNGLDBCQUFLLEdBQUwsVUFBTyxNQUFnQjtRQUNuQixJQUFJLEtBQUssR0FBZSxJQUFJLElBQUksQ0FBQyxJQUFJLEVBQUUsRUFDbkMsUUFBUSxHQUFHLGVBQU0sQ0FBQyxVQUFVLENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQyxDQUFDO1FBRWpELElBQUksUUFBUSxLQUFLLElBQUksRUFBRTtZQUNuQixPQUFPLEtBQUssQ0FBQztTQUNoQjtRQUVELEtBQUssQ0FBQyxPQUFPLEdBQUcsUUFBUSxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUVqRCxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsRUFBRSxLQUFLLENBQUMsQ0FBQztRQUU3QixPQUFPLEtBQUssQ0FBQztJQUNqQixDQUFDO0lBRUQsMkJBQTJCO0lBQzNCLHlEQUF5RDtJQUV6RCw0QkFBNEI7SUFDNUIscURBQXFEO0lBRTdDLHFDQUFnQixHQUF4QixVQUEwQixZQUFZO1FBQ2xDLElBQUksYUFBYSxHQUF1QixJQUFJLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztRQUVqRSxhQUFhLENBQUMsS0FBSyxHQUFHLFlBQVksQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDekQsYUFBYSxDQUFDLEdBQUcsR0FBRyxlQUFNLENBQUMsZ0JBQWdCLENBQUMsWUFBWSxDQUFDLENBQUM7UUFDMUQsSUFBSSxhQUFhLENBQUMsS0FBSyxJQUFJLFVBQVUsRUFBRTtZQUNuQyxJQUFJLFdBQVcsR0FBRyxZQUFZLENB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R0FBRyxNQUFNLENBQUMsWUFBWSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQzlDLEVBQUUsQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNuQyxPQUFPLEVBQUUsQ0FBQztJQUNkLENBQUM7SUFFTywyQkFBTSxHQUFkLFVBQWdCLFFBQVEsRUFBRSxLQUFnQjtRQUN0QyxJQUFJLE9BQU8sR0FBRyxlQUFNLENBQUMsV0FBVyxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNqRCxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsT0FBTyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUNyQyxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDMUM7SUFDTCxDQUFDO0lBSUwsaUJBQUM7QUFBRCxDQUFDO0FBNUxZLGdDQUFVO0FBOEx2QixrQkFBZSxVQUFVLENBQUMiLCJmaWxlIjoiMTUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxyXG4qIFRoZSBjb3B5cmlnaHQgaW4gdGhpcyBzb2Z0d2FyZSBtb2R1bGUgaXMgYmVpbmcgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlIEJTRCBMaWNlbnNlLCBpbmNsdWRlZFxyXG4qIGJlbG93LiBUaGlzIHNvZnR3YXJlIG1vZHVsZSBtYXkgYmUgc3ViamVjdCB0byBvdGhlciB0aGlyZCBwYXJ0eSBhbmQvb3IgY29udHJpYnV0b3IgcmlnaHRzLFxyXG4qIGluY2x1ZGluZyBwYXRlbnQgcmlnaHRzLCBhbmQgbm8gc3VjaCByaWdodHMgYXJlIGdyYW50ZWQgdW5kZXIgdGhpcyBsaWNlbnNlLlxyXG4qXHJcbiogQ29weXJpZ2h0IChjKSAyMDE2LCBPcmFuZ2VcclxuKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4qXHJcbiogUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0IG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZFxyXG4qIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZSBtZXQ6XHJcbiogLSBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zXHJcbiogICBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxyXG4qIC0gUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLCB0aGlzIGxpc3Qgb2ZcclxuKiAgIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lciBpbiB0aGUgZG9jdW1lbnRhdGlvbiBhbmQvb3Igb3RoZXIgbWF0ZXJpYWxzIHByb3ZpZGVkXHJcbiogICB3aXRoIHRoZSBkaXN0cmlidXRpb24uXHJcbiogLSBOZWl0aGVyIHRoZSBuYW1lIG9mIE9yYW5nZSBub3IgdGhlIG5hbWVzIG9mIGl0cyBjb250cmlidXRvcnMgbWF5IGJlIHVzZWQgdG8gZW5kb3JzZSBvciBwcm9tb3RlXHJcbiogICBwcm9kdWN0cyBkZXJpdmVkIGZyb20gdGhpcyBzb2Z0d2FyZSBtb2R1bGUgd2l0aG91dCBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXHJcbipcclxuKlxyXG4qIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlMg4oCcQVMgSVPigJ0gQU5EIEFOWSBFWFBSRVNTIE9SXHJcbiogSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgVEhFIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EXHJcbiogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQVJFIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFQgSE9MREVSIE9cclxuKiBDT05UUklCVVRPUlMgQkUgTElBQkxFIEZPUiBBTlkgRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCwgU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMXHJcbiogREFNQUdFUyAoSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLFxyXG4qIERBVEEsIE9SIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWSBUSEVPUlkgT0YgTElBQklMSVRZLFxyXG4qIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlQgKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSkgQVJJU0lORyBJTiBBTllcclxuKiBXQVkgT1VUIE9GIFRIRSBVU0UgT0YgVEhJUyBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cclxuKi9cclxuXHJcbi8qKlxyXG4qIFZBU1QgcGFyc2VyLiBUaGlzIGNsYXNzIHBhcnNlcyBWQVNUIGZpbGUgaW4gWE1MIGZvcm1hdFxyXG4qIGFuZCBjb25zdHJ1Y3QgdGhlIGNvcnJlc3BvbmRpbmcgVkFTVCBvYmplY3QgYWNjb3JkaW5nIHRvIFZBU1QgZGF0YSBtb2RlbC5cclxuKi9cclxuXHJcbmltcG9ydCAqIGFzIHZhc3QgZnJvbSAnLi9tb2RlbC9WYXN0JztcclxuaW1wb3J0IHsgWG1sRG9tIH0gZnJvbSAnLi4vdXRpbHMveG1sZG9tJztcclxuXHJcbmV4cG9ydCBjbGFzcyBWYXN0UGFyc2VyIHtcclxuXHJcbiAgICAvLyAjcmVnaW9uIFBVQkxJQyBGVU5DVElPTlNcclxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFBhcnNlcyB0aGUgVkFTVCBYTUwgRE9NIGFuZCBnZXQgdGhlIHRyaWdnZXJzLlxyXG4gICAgKiBAcGFyYW0ge29iamVjdH0geG1sRG9tIC0gdGhlIFhNTCBET00gdG8gcGFyc2VcclxuICAgICovXHJcbiAgICBwYXJzZSAoeG1sRG9tOiBEb2N1bWVudCkge1xyXG4gICAgICAgIGxldCB2YXN0XzogdmFzdC5WYXN0ICA9IG5ldyB2YXN0LlZhc3QoKSxcclxuICAgICAgICAgICAgdmFzdE5vZGUgPSBYbWxEb20uZ2V0RWxlbWVudCh4bWxEb20sICdWQVNUJyk7XHJcblxyXG4gICAgICAgIGlmICh2YXN0Tm9kZSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdmFzdF87XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXN0Xy52ZXJzaW9uID0gdmFzdE5vZGUuZ2V0QXR0cmlidXRlKCd2ZXJzaW9uJyk7XHJcblxyXG4gICAgICAgIHRoaXMuZ2V0QWRzKHZhc3ROb2RlLCB2YXN0Xyk7XHJcblxyXG4gICAgICAgIHJldHVybiB2YXN0XztcclxuICAgIH1cclxuXHJcbiAgICAvLyAjcmVnaW9uIFBVQkxJQyBGVU5DVElPTlNcclxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICAgIFxyXG4gICAgXHJcbiAgICAvLyAjcmVnaW9uIFBSSVZBVEUgRlVOQ1RJT05TXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgIHByaXZhdGUgZ2V0VHJhY2tpbmdFdmVudCAodHJhY2tpbmdOb2RlKTogdmFzdC5UcmFja2luZ0V2ZW50IHtcclxuICAgICAgICBsZXQgdHJhY2tpbmdFdmVudDogdmFzdC5UcmFja2luZ0V2ZW50ID0gbmV3IHZhc3QuVHJhY2tpbmdFdmVudCgpO1xyXG5cclxuICAgICAgICB0cmFja2luZ0V2ZW50LmV2ZW50ID0gdHJhY2tpbmdOb2RlLmdldEF0dHJpYnV0ZSgnZXZlbnQnKTtcclxuICAgICAgICB0cmFja2luZ0V2ZW50LnVyaSA9IFhtbERvbS5nZXROb2RlVGV4dFZhbHVlKHRyYWNraW5nTm9kZSk7XHJcbiAgICAgICAgaWYgKHRyYWNraW5nRXZlbnQuZXZlbnQgPT0gJ3Byb2dyZXNzJykge1xyXG4gICAgICAgICAgICBsZXQgb2Zmc2V0VmFsdWUgPSB0cmFja2luZ05vZGUuZ2V0QXR0cmlidXRlKCdvZmZzZXQnKTtcclxuICAgICAgICAgICAgaWYgKG9mZnNldFZhbHVlLmluZGV4T2YoJyUnKSA9PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgLyogY29udmVydCBISDpNTTpTUyAoIG9yIEhIOk1NOlNTLm1tbSkgaW4gc2Vjb25kcyAqL1xyXG4gICAgICAgICAgICAgICAgdHJhY2tpbmdFdmVudC5vZmZzZXRJblNlY29uZHMgPSBuZXcgRGF0ZSgnMTk3MC0wMS0wMVQnICsgb2Zmc2V0VmFsdWUgKyAnWicpLmdldFRpbWUoKSAvIDEwMDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0cmFja2luZ0V2ZW50Lm9mZnNldFBlcmNlbnQgPSBvZmZzZXRWYWx1ZS5zdWJzdHJpbmcoMCwgb2Zmc2V0VmFsdWUuaW5kZXhPZignJScpKSAvIDEwMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJhY2tpbmdFdmVudDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldFZpZGVvQ2xpY2tzICh2aWRlb0NsaWNrc05vZGUpOiB2YXN0LlZpZGVvQ2xpY2tzIHtcclxuICAgICAgICBsZXQgdmlkZW9DbGlja3M6IHZhc3QuVmlkZW9DbGlja3MgPSBuZXcgdmFzdC5WaWRlb0NsaWNrcygpLFxyXG4gICAgICAgICAgICBub2RlTmFtZSxcclxuICAgICAgICAgICAgbm9kZVZhbHVlO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZpZGVvQ2xpY2tzTm9kZS5jaGlsZE5vZGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIG5vZGVOYW1lID0gdmlkZW9DbGlja3NOb2RlLmNoaWxkTm9kZXNbaV0ubm9kZU5hbWU7XHJcbiAgICAgICAgICAgIG5vZGVWYWx1ZSA9IFhtbERvbS5nZXROb2RlVGV4dFZhbHVlKHZpZGVvQ2xpY2tzTm9kZS5jaGlsZE5vZGVzW2ldKTtcclxuXHJcbiAgICAgICAgICAgIHN3aXRjaCAobm9kZU5hbWUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ0NsaWNrVGhyb3VnaCc6XHJcbiAgICAgICAgICAgICAgICAgICAgdmlkZW9DbGlja3MuY2xpY2tUaHJvdWdoID0gbm9kZVZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnQ2xpY2tUcmFja2luZyc6XHJcbiAgICAgICAgICAgICAgICAgICAgdmlkZW9DbGlja3MuY2xpY2tUcmFja2luZyA9IG5vZGVWYWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ0N1c3RvbUNsaWNrJzpcclxuICAgICAgICAgICAgICAgICAgICB2aWRlb0NsaWNrcy5jdXN0b21DbGljayA9IG5vZGVWYWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHZpZGVvQ2xpY2tzO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0TWVkaWFGaWxlIChtZWRpYUZpbGVOb2RlKTogdmFzdC5NZWRpYUZpbGUge1xyXG4gICAgICAgIGxldCBtZWRpYUZpbGU6IHZhc3QuTWVkaWFGaWxlID0gbmV3IHZhc3QuTWVkaWFGaWxlKCk7XHJcblxyXG4gICAgICAgIG1lZGlhRmlsZS5pZCA9IG1lZGlhRmlsZU5vZGUuZ2V0QXR0cmlidXRlKCdpZCcpO1xyXG4gICAgICAgIG1lZGlhRmlsZS5kZWxpdmVyeSA9IG1lZGlhRmlsZU5vZGUuZ2V0QXR0cmlidXRlKCdkZWxpdmVyeScpO1xyXG4gICAgICAgIG1lZGlhRmlsZS50eXBlID0gbWVkaWFGaWxlTm9kZS5nZXRBdHRyaWJ1dGUoJ3R5cGUnKTtcclxuICAgICAgICBtZWRpYUZpbGUuYml0cmF0ZSA9IG1lZGlhRmlsZU5vZGUuZ2V0QXR0cmlidXRlKCdiaXRyYXRlJyk7XHJcbiAgICAgICAgbWVkaWFGaWxlLndpZHRoID0gbWVkaWFGaWxlTm9kZS5nZXRBdHRyaWJ1dGUoJ3dpZHRoJyk7XHJcbiAgICAgICAgbWVkaWFGaWxlLmhlaWdodCA9IG1lZGlhRmlsZU5vZGUuZ2V0QXR0cmlidXRlKCdoZWlnaHQnKTtcclxuICAgICAgICBtZWRpYUZpbGUuc2NhbGFibGUgPSBtZWRpYUZpbGVOb2RlLmdldEF0dHJpYnV0ZSgnc2NhbGFibGUnKTtcclxuICAgICAgICBtZWRpYUZpbGUubWFpbnRhaW5Bc3BlY3RSYXRpbyA9IG1lZGlhRmlsZU5vZGUuZ2V0QXR0cmlidXRlKCdtYWludGFpbkFzcGVjdFJhdGlvJyk7XHJcbiAgICAgICAgbWVkaWFGaWxlLmFwaUZyYW1ld29yayA9IG1lZGlhRmlsZU5vZGUuZ2V0QXR0cmlidXRlKCdhcGlGcmFtZXdvcmsnKTtcclxuICAgICAgICBtZWRpYUZpbGUudXJpID0gWG1sRG9tLmdldE5vZGVUZXh0VmFsdWUobWVkaWFGaWxlTm9kZSk7XHJcblxyXG4gICAgICAgIHJldHVybiBtZWRpYUZpbGU7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRMaW5lYXIgKGxpbmVhck5vZGUpOiB2YXN0LkxpbmVhciB7XHJcbiAgICAgICAgbGV0IGxpbmVhcjogdmFzdC5MaW5lYXIgPSBuZXcgdmFzdC5MaW5lYXIoKSxcclxuICAgICAgICAgICAgdHJhY2tpbmdOb2RlcyxcclxuICAgICAgICAgICAgdmlkZW9DbGlja3NOb2RlLFxyXG4gICAgICAgICAgICBtZWRpYUZpbGVOb2RlcztcclxuXHJcbiAgICAgICAgbGluZWFyLmR1cmF0aW9uID0gWG1sRG9tLmdldENoaWxkTm9kZVRleHRWYWx1ZShsaW5lYXJOb2RlLCAnRHVyYXRpb24nKTtcclxuICAgICAgICBsaW5lYXIuYWRQYXJhbWV0ZXJzID0gWG1sRG9tLmdldENoaWxkTm9kZVRleHRWYWx1ZShsaW5lYXJOb2RlLCAnQWRQYXJhbWV0ZXJzJyk7XHJcblxyXG4gICAgICAgIHRyYWNraW5nTm9kZXMgPSBYbWxEb20uZ2V0U3ViRWxlbWVudHMobGluZWFyTm9kZSwgJ1RyYWNraW5nRXZlbnRzJywgJ1RyYWNraW5nJyk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0cmFja2luZ05vZGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxpbmVhci50cmFja2luZ0V2ZW50cy5wdXNoKHRoaXMuZ2V0VHJhY2tpbmdFdmVudCh0cmFja2luZ05vZGVzW2ldKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2aWRlb0NsaWNrc05vZGUgPSBYbWxEb20uZ2V0RWxlbWVudChsaW5lYXJOb2RlLCAnVmlkZW9DbGlja3MnKTtcclxuICAgICAgICBpZiAodmlkZW9DbGlja3NOb2RlKSB7XHJcbiAgICAgICAgICAgIGxpbmVhci52aWRlb0NsaWNrcyA9IHRoaXMuZ2V0VmlkZW9DbGlja3ModmlkZW9DbGlja3NOb2RlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIG1lZGlhRmlsZU5vZGVzID0gWG1sRG9tLmdldFN1YkVsZW1lbnRzKGxpbmVhck5vZGUsICdNZWRpYUZpbGVzJywgJ01lZGlhRmlsZScpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWVkaWFGaWxlTm9kZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgbGluZWFyLm1lZGlhRmlsZXMucHVzaCh0aGlzLmdldE1lZGlhRmlsZShtZWRpYUZpbGVOb2Rlc1tpXSkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGxpbmVhcjtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldENyZWF0aXZlIChjcmVhdGl2ZU5vZGUpOiB2YXN0LkNyZWF0aXZlIHtcclxuICAgICAgICBsZXQgY3JlYXRpdmU6IHZhc3QuQ3JlYXRpdmUgPSBuZXcgdmFzdC5DcmVhdGl2ZSgpLFxyXG4gICAgICAgICAgICBsaW5lYXJOb2RlO1xyXG5cclxuICAgICAgICBjcmVhdGl2ZS5pZCA9IGNyZWF0aXZlTm9kZS5nZXRBdHRyaWJ1dGUoJ2lkJyk7XHJcbiAgICAgICAgY3JlYXRpdmUuYWRJZCA9IGNyZWF0aXZlTm9kZS5nZXRBdHRyaWJ1dGUoJ0FkSUQnKTtcclxuICAgICAgICBjcmVhdGl2ZS5zZXF1ZW5jZSA9IGNyZWF0aXZlTm9kZS5nZXRBdHRyaWJ1dGUoJ3NlcXVlbmNlJyk7XHJcblxyXG4gICAgICAgIGxpbmVhck5vZGUgPSBYbWxEb20uZ2V0RWxlbWVudChjcmVhdGl2ZU5vZGUsICdMaW5lYXInKTtcclxuICAgICAgICBpZiAobGluZWFyTm9kZSkge1xyXG4gICAgICAgICAgICBjcmVhdGl2ZS5saW5lYXIgPSB0aGlzLmdldExpbmVhcihsaW5lYXJOb2RlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFRPRE86IGdldCBDb21wYW5pb24gYW5kIG5vbi1MaW5lYXIgZWxlbWVudHNcclxuXHJcbiAgICAgICAgcmV0dXJuIGNyZWF0aXZlO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0SW5MaW5lIChhZE5vZGUpOiB2YXN0LkluTGluZSB7XHJcbiAgICAgICAgbGV0IGluTGluZTogdmFzdC5JbkxpbmUgPSBuZXcgdmFzdC5JbkxpbmUoKSxcclxuICAgICAgICAgICAgaW5MaW5lTm9kZSA9IFhtbERvbS5nZXRFbGVtZW50KGFkTm9kZSwgJ0luTGluZScpLFxyXG4gICAgICAgICAgICBpbXByZXNzaW9uTm9kZXMsXHJcbiAgICAgICAgICAgIGNyZWF0aXZlTm9kZXM7XHJcblxyXG4gICAgICAgIGlmIChpbkxpbmVOb2RlID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaW5MaW5lLmFkU3lzdGVtID0gWG1sRG9tLmdldENoaWxkTm9kZVRleHRWYWx1ZShpbkxpbmVOb2RlLCAnQWRTeXN0ZW0nKTtcclxuICAgICAgICBpbkxpbmUuYWRUaXRsZSA9IFhtbERvbS5nZXRDaGlsZE5vZGVUZXh0VmFsdWUoaW5MaW5lTm9kZSwgJ0FkVGl0bGUnKTtcclxuICAgICAgICBpbkxpbmUuZGVzY3JpcHRpb24gPSBYbWxEb20uZ2V0Q2hpbGROb2RlVGV4dFZhbHVlKGluTGluZU5vZGUsICdEZXNjcmlwdGlvbicpO1xyXG4gICAgICAgIGluTGluZS5zdXJ2ZXkgPSBYbWxEb20uZ2V0Q2hpbGROb2RlVGV4dFZhbHVlKGluTGluZU5vZGUsICdTdXJ2ZXknKTtcclxuICAgICAgICBpbkxpbmUuZXJyb3IgPSBYbWxEb20uZ2V0Q2hpbGROb2RlVGV4dFZhbHVlKGluTGluZU5vZGUsICdFcnJvcicpO1xyXG5cclxuICAgICAgICBpbXByZXNzaW9uTm9kZXMgPSBYbWxEb20uZ2V0RWxlbWVudHMoaW5MaW5lTm9kZSwgJ0ltcHJlc3Npb24nKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGltcHJlc3Npb25Ob2Rlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgaW1wcmVzc2lvbiA9IG5ldyB2YXN0LkltcHJlc3Npb24oKTtcclxuICAgICAgICAgICAgaW1wcmVzc2lvbi5pZCA9IGltcHJlc3Npb25Ob2Rlc1tpXS5nZXRBdHRyaWJ1dGUoJ2lkJyk7XHJcbiAgICAgICAgICAgIGltcHJlc3Npb24udXJpID0gWG1sRG9tLmdldE5vZGVUZXh0VmFsdWUoaW1wcmVzc2lvbk5vZGVzW2ldKTtcclxuICAgICAgICAgICAgaW5MaW5lLmltcHJlc3Npb25zLnB1c2goaW1wcmVzc2lvbik7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY3JlYXRpdmVOb2RlcyA9IFhtbERvbS5nZXRTdWJFbGVtZW50cyhpbkxpbmVOb2RlLCAnQ3JlYXRpdmVzJywgJ0NyZWF0aXZlJyk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjcmVhdGl2ZU5vZGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGluTGluZS5jcmVhdGl2ZXMucHVzaCh0aGlzLmdldENyZWF0aXZlKGNyZWF0aXZlTm9kZXNbaV0pKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBpbkxpbmU7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRBZCAoYWROb2RlKTogdmFzdC5BZCB7XHJcbiAgICAgICAgbGV0IGFkOiB2YXN0LkFkID0gbmV3IHZhc3QuQWQoKTtcclxuICAgICAgICBhZC5pZCA9IGFkTm9kZS5nZXRBdHRyaWJ1dGUoJ2lkJyk7XHJcbiAgICAgICAgYWQuc2VxdWVuY2UgPSBhZE5vZGUuZ2V0QXR0cmlidXRlKCdzZXF1ZW5jZScpO1xyXG4gICAgICAgIGFkLmluTGluZSA9IHRoaXMuZ2V0SW5MaW5lKGFkTm9kZSk7XHJcbiAgICAgICAgcmV0dXJuIGFkO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0QWRzICh2YXN0Tm9kZSwgdmFzdF86IHZhc3QuVmFzdCkge1xyXG4gICAgICAgIGxldCBhZE5vZGVzID0gWG1sRG9tLmdldEVsZW1lbnRzKHZhc3ROb2RlLCAnQWQnKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFkTm9kZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFzdF8uYWRzLnB1c2godGhpcy5nZXRBZChhZE5vZGVzW2ldKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vICNyZWdpb24gUFJJVkFURSBGVU5DVElPTlNcclxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICBcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgVmFzdFBhcnNlcjtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///15\n")},function(module,exports,__webpack_require__){"use strict";eval("\r\n/*\r\n* The copyright in this software module is being made available under the BSD License, included\r\n* below. This software module may be subject to other third party and/or contributor rights,\r\n* including patent rights, and no such rights are granted under this license.\r\n*\r\n* Copyright (c) 2016, Orange\r\n* All rights reserved.\r\n*\r\n* Redistribution and use in source and binary forms, with or without modification, are permitted\r\n* provided that the following conditions are met:\r\n* - Redistributions of source code must retain the above copyright notice, this list of conditions\r\n*   and the following disclaimer.\r\n* - Redistributions in binary form must reproduce the above copyright notice, this list of\r\n*   conditions and the following disclaimer in the documentation and/or other materials provided\r\n*   with the distribution.\r\n* - Neither the name of Orange nor the names of its contributors may be used to endorse or promote\r\n*   products derived from this software module without specific prior written permission.\r\n*\r\n*\r\n* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS “AS IS” AND ANY EXPRESS OR\r\n* IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\r\n* FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER O\r\n* CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\r\n* DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\r\n* DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\r\n* WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY\r\n* WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n* @class Vast\r\n* @ignore\r\n*/\r\nvar Vast = /** @class */ (function () {\r\n    function Vast() {\r\n        this.version = '';\r\n        this.ads = [];\r\n        this.baseUrl = '';\r\n    }\r\n    return Vast;\r\n}());\r\nexports.Vast = Vast;\r\n/**\r\n* @class Ad\r\n* @ignore\r\n*/\r\nvar Ad = /** @class */ (function () {\r\n    function Ad() {\r\n        this.id = ''; // [Optional] an ad server-defined string for the ad\r\n        this.sequence = 0; // [Optional] the sequence in which an ad should play\r\n        this.inLine = null;\r\n        this.wrapper = null;\r\n    }\r\n    return Ad;\r\n}());\r\nexports.Ad = Ad;\r\n/**\r\n* @class InLine\r\n* @ignore\r\n*/\r\nvar InLine = /** @class */ (function () {\r\n    function InLine() {\r\n        this.adSystem = ''; // [Required] Source ad server\r\n        this.adTitle = ''; // [Required] Title\r\n        this.description = ''; // [Optional] Description\r\n        this.survey = ''; // [Optional] URI of request to survey vendor\r\n        this.error = ''; // [Optional] URI to request if ad does not play due to error\r\n        this.impressions = []; // [Required] URIs to track impressions.\r\n        this.creatives = []; // [Required] Creative elements\r\n        this.extensions = []; // [Optional] Any valid XML may be included in the Extensions node\r\n    }\r\n    return InLine;\r\n}());\r\nexports.InLine = InLine;\r\n/**\r\n* @class Impression\r\n* @ignore\r\n*/\r\nvar Impression = /** @class */ (function () {\r\n    function Impression() {\r\n        this.uri = ''; // [Required] URI to track Impression\r\n        this.id = ''; // [Optional] Identifier\r\n    }\r\n    return Impression;\r\n}());\r\nexports.Impression = Impression;\r\n/**\r\n* @class Extensions\r\n* @ignore\r\n*/\r\nvar Extensions = /** @class */ (function () {\r\n    function Extensions() {\r\n        this.uri = ''; //\r\n        this.other = ''; //\r\n    }\r\n    return Extensions;\r\n}());\r\nexports.Extensions = Extensions;\r\n/**\r\n* @class Creative\r\n* @ignore\r\n*/\r\nvar Creative = /** @class */ (function () {\r\n    function Creative() {\r\n        this.id = ''; // [Optional] Identifier\r\n        this.adId = ''; // [Optional] Ad-ID for the creative (formerly ISCI)\r\n        this.sequence = 0; // [Optional] The preferred order in which multiple Creatives should be displayed\r\n        this.linear = null; // [Optional] Linear ad\r\n        this.CompanionAds = []; // [Optional] Companion ads\r\n        this.nonLinearAds = []; // [Optional] Non-linear ads\r\n    }\r\n    return Creative;\r\n}());\r\nexports.Creative = Creative;\r\n// Creative types\r\nvar CREATIVE_TYPE;\r\n(function (CREATIVE_TYPE) {\r\n    CREATIVE_TYPE[\"LINEAR\"] = \"linear\";\r\n    CREATIVE_TYPE[\"NON_LINEAR_ADS\"] = \"NonLinearAds\";\r\n    CREATIVE_TYPE[\"COMPANION_ADS\"] = \"CompanionAds\";\r\n})(CREATIVE_TYPE = exports.CREATIVE_TYPE || (exports.CREATIVE_TYPE = {}));\r\n;\r\n/**\r\n* @class Linear\r\n* @ignore\r\n*/\r\nvar Linear = /** @class */ (function () {\r\n    function Linear() {\r\n        this.duration = ''; // [Required] Duration in standard time format, hh:mm:ss\r\n        this.trackingEvents = []; // [Optional] Tracking events elements\r\n        this.adParameters = ''; // [Optional] Data to be passed into the video ad\r\n        this.videoClicks = null; // [Optional] Video clicks\r\n        this.mediaFiles = []; // [Required] Media file elements\r\n    }\r\n    return Linear;\r\n}());\r\nexports.Linear = Linear;\r\n/**\r\n* @class Companion\r\n* @ignore\r\n*/\r\nvar Companion = /** @class */ (function () {\r\n    function Companion() {\r\n        this.id = ''; // optional : identifier\r\n        this.width = 0; // width pixel dimension of companion\r\n        this.height = 0; // height pixel dimension of companion\r\n        this.staticResource = null; // optional : pointer to the static resource : AdsPlayer.vast.model.Ad.StaticResource\r\n        this.iFrameResource = ''; // optional : URI source for an IFrame to display the companion element\r\n        this.hTMLResource = ''; // optional : HTML to display the companion element : shall be CDATA value\r\n        this.trackingEvents = []; // optional : pointer to any number of tracking objects : AdsPlayer.vast.model.Ad.CompanionTracking\r\n        this.clickThrough = ''; // optional : URI to open as destination page when user clicks on the companion\r\n        this.altText = ''; // optional : alt text to be displayed when companion is rendered in HTML environment.\r\n        this.adParameters = ''; // optional : data to be passed into the companion ads\r\n    }\r\n    return Companion;\r\n}());\r\nexports.Companion = Companion;\r\n//\r\n//      Non Linear Ads\r\n//\r\n/**\r\n* @class Companion\r\n* @ignore\r\n*/\r\nvar NonLinear = /** @class */ (function () {\r\n    function NonLinear() {\r\n        this.id = ''; // optional : identifier\r\n        this.width = 0; // width pixel dimension of non linear\r\n        this.height = 0; // height pixel dimension of non linear\r\n        this.expandedWidth = 0; // optional : pixel dimensions of expanding nonlinear ad when in expanded state\r\n        this.expandedHeight = 0; // optional : pixel dimensions of expanding nonlinear ad when in expanded state\r\n        this.scalable = true; // optional : whether it is acceptable to scale the image\r\n        this.maintainAspectRatio = true; // optional : whether the ad must have its aspect ratio maintained when scaled\r\n        this.apiFramework = ''; // optional : defines the method to use for communication with the nonlinear element\r\n        this.staticResource = null; // optional : pointer to the static resource : AdsPlayer.vast.model.Ad.StaticResource\r\n        this.hTMLResource = ''; // optional : HTML to display the companion element : shall be CDATA value\r\n        this.trackingEvents = []; // optional : pointer to any number of tracking objects : AdsPlayer.vast.model.Ad.Tracking\r\n        this.clickThrough = ''; // optional : URI to open as destination page when user clicks on the non-linear ad unit\r\n        this.adParameters = ''; // optional : data to be passed into the video ad\r\n    }\r\n    return NonLinear;\r\n}());\r\nexports.NonLinear = NonLinear;\r\n/**\r\n* @class TrackingEvent\r\n* @ignore\r\n*/\r\nvar TrackingEvent = /** @class */ (function () {\r\n    function TrackingEvent() {\r\n        this.uri = ''; // [Optional] URI to track various events during playback\r\n        this.event = ''; // [Required] The name of the event to track for the Linear element\r\n        this.offsetInSeconds = 0; // [Optional] Required in 'Progess' event, not use with other events\r\n        this.offsetPercent = 0; // [Optional] Required in 'Progess' event, not use with other events\r\n        this.oneShot = true; // Used by TrackingEventsManager\r\n        this.completed = false; // Used by TrackingEventsManager\r\n    }\r\n    return TrackingEvent;\r\n}());\r\nexports.TrackingEvent = TrackingEvent;\r\n/**\r\n* [TrackingEvent description]\r\n* @type {Object}\r\n*/\r\nvar TRACKINGEVENT_TYPE;\r\n(function (TRACKINGEVENT_TYPE) {\r\n    TRACKINGEVENT_TYPE[\"CREATIVEVIEW\"] = \"creativeView\";\r\n    TRACKINGEVENT_TYPE[\"START\"] = \"start\";\r\n    TRACKINGEVENT_TYPE[\"MIDPOINT\"] = \"midpoint\";\r\n    TRACKINGEVENT_TYPE[\"FIRSTQUARTILE\"] = \"firstQuartile\";\r\n    TRACKINGEVENT_TYPE[\"THIRDQUARTILE\"] = \"thirdQuartile\";\r\n    TRACKINGEVENT_TYPE[\"COMPLETE\"] = \"complete\";\r\n    TRACKINGEVENT_TYPE[\"MUTE\"] = \"mute\";\r\n    TRACKINGEVENT_TYPE[\"UNMUTE\"] = \"unmute\";\r\n    TRACKINGEVENT_TYPE[\"PAUSE\"] = \"pause\";\r\n    TRACKINGEVENT_TYPE[\"REWIND\"] = \"rewind\";\r\n    TRACKINGEVENT_TYPE[\"RESUME\"] = \"resume\";\r\n    TRACKINGEVENT_TYPE[\"FULLSCREEN\"] = \"fullscreen\";\r\n    TRACKINGEVENT_TYPE[\"EXPAND\"] = \"expand\";\r\n    TRACKINGEVENT_TYPE[\"COLLAPSE\"] = \"collapse\";\r\n    TRACKINGEVENT_TYPE[\"ACCEPTINVITATION\"] = \"acceptInvitation\";\r\n    TRACKINGEVENT_TYPE[\"CLOSE\"] = \"close\";\r\n})(TRACKINGEVENT_TYPE = exports.TRACKINGEVENT_TYPE || (exports.TRACKINGEVENT_TYPE = {}));\r\n;\r\n/**\r\n* @class VideoClicks\r\n* @ignore\r\n*/\r\nvar VideoClicks = /** @class */ (function () {\r\n    function VideoClicks() {\r\n        this.clickThrough = ''; // [Optional] URI to open as destination page when user clicks on the video\r\n        this.clickTracking = ''; // [Optional] URI to request for tracking purposes when user clicks on the video\r\n        this.customClick = ''; // [Optional] URI to request on custom events such as hotspotted video\r\n    }\r\n    return VideoClicks;\r\n}());\r\nexports.VideoClicks = VideoClicks;\r\n/**\r\n* @class MediaFile\r\n* @ignore\r\n*/\r\nvar MediaFile = /** @class */ (function () {\r\n    function MediaFile() {\r\n        this.id = ''; // [Optional] Identifier\r\n        this.delivery = ''; // [Required] Method of delivery of ad ('streaming' or 'progressive')\r\n        this.type = ''; // [Required] MIME type\r\n        this.bitrate = 0; // [Optional] Bitrate of encoded video in Kbps\r\n        this.width = 0; // [Required] Pixel dimensions of video\r\n        this.height = 0; // [Required] Pixel dimensions of video\r\n        this.scalable = true; // [Optional] Whether it is acceptable to scale the image.\r\n        this.maintainAspectRatio = true; // [Optional] Whether the ad must have its aspect ratio maintained when scaled\r\n        this.apiFramework = ''; // [Optional] Defines the method to use for communication if the MediaFile is interactive.\r\n        this.uri = '';\r\n    }\r\n    return MediaFile;\r\n}());\r\nexports.MediaFile = MediaFile;\r\n// MediaFile delivery types\r\nvar MEIAFILE_DELIVERY;\r\n(function (MEIAFILE_DELIVERY) {\r\n    MEIAFILE_DELIVERY[\"STREAMING\"] = \"streaming\";\r\n    MEIAFILE_DELIVERY[\"PROGRESSIVE\"] = \"progressive \";\r\n})(MEIAFILE_DELIVERY = exports.MEIAFILE_DELIVERY || (exports.MEIAFILE_DELIVERY = {}));\r\n;\r\n/**\r\n* @class StaticResource\r\n* @ignore\r\n*/\r\nvar StaticResource = /** @class */ (function () {\r\n    function StaticResource() {\r\n        this.uRI = ''; // optional : URI to a static file, such as an image or SWF file\r\n        this.creativeType = ''; // mime type of static resource\r\n    }\r\n    return StaticResource;\r\n}());\r\nexports.StaticResource = StaticResource;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hZHNwbGF5ZXIvLi9zcmMvbGliL3Zhc3QvbW9kZWwvVmFzdC50cz9hZmVjIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0VBMkJFOztBQUVGOzs7RUFHRTtBQUNGO0lBQUE7UUFDSSxZQUFPLEdBQVcsRUFBRSxDQUFDO1FBQ3JCLFFBQUcsR0FBUyxFQUFFLENBQUM7UUFDZixZQUFPLEdBQVcsRUFBRSxDQUFDO0lBQ3pCLENBQUM7SUFBRCxXQUFDO0FBQUQsQ0FBQztBQUpZLG9CQUFJO0FBTWpCOzs7RUFHRTtBQUNGO0lBQUE7UUFDSSxPQUFFLEdBQVcsRUFBRSxDQUFDLENBQVEsb0RBQW9EO1FBQzVFLGFBQVEsR0FBVyxDQUFDLENBQUMsQ0FBRyxxREFBcUQ7UUFDN0UsV0FBTSxHQUFXLElBQUksQ0FBQztRQUN0QixZQUFPLEdBQUcsSUFBSSxDQUFDO0lBQ25CLENBQUM7SUFBRCxTQUFDO0FBQUQsQ0FBQztBQUxZLGdCQUFFO0FBT2Y7OztFQUdFO0FBQ0Y7SUFBQTtRQUNJLGFBQVEsR0FBVyxFQUFFLENBQUMsQ0FBVSw4QkFBOEI7UUFDOUQsWUFBTyxHQUFXLEVBQUUsQ0FBQyxDQUFXLG1CQUFtQjtRQUNuRCxnQkFBVyxHQUFXLEVBQUUsQ0FBQyxDQUFPLHlCQUF5QjtRQUN6RCxXQUFNLEdBQVcsRUFBRSxDQUFDLENBQVksNkNBQTZDO1FBQzdFLFVBQUssR0FBVyxFQUFFLENBQUMsQ0FBYSw2REFBNkQ7UUFDN0YsZ0JBQVcsR0FBaUIsRUFBRSxDQUFDLENBQUMsd0NBQXdDO1FBQ3hFLGNBQVMsR0FBZSxFQUFFLENBQUMsQ0FBSywrQkFBK0I7UUFDL0QsZUFBVSxHQUFpQixFQUFFLENBQUMsQ0FBRSxrRUFBa0U7SUFDdEcsQ0FBQztJQUFELGFBQUM7QUFBRCxDQUFDO0FBVFksd0JBQU07QUFXbkI7OztFQUdFO0FBQ0Y7SUFBQTtRQUNJLFFBQUcsR0FBVyxFQUFFLENBQUMsQ0FBRyxx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Q3BILGdCQUFXLEdBQVcsRUFBRSxDQUFDLENBQVcsc0VBQXNFO0lBQzlHLENBQUM7SUFBRCxrQkFBQztBQUFELENBQUM7QUFKWSxrQ0FBVztBQU14Qjs7O0VBR0U7QUFDRjtJQUFBO1FBQ0ksT0FBRSxHQUFXLEVBQUUsQ0FBQyxDQUFvQix3QkFBd0I7UUFDNUQsYUFBUSxHQUFXLEVBQUUsQ0FBQyxDQUFjLHFFQUFxRTtRQUN6RyxTQUFJLEdBQVcsRUFBRSxDQUFDLENBQWtCLHVCQUF1QjtRQUMzRCxZQUFPLEdBQVcsQ0FBQyxDQUFDLENBQWdCLDhDQUE4QztRQUNsRixVQUFLLEdBQVcsQ0FBQyxDQUFDLENBQWtCLHVDQUF1QztRQUMzRSxXQUFNLEdBQVcsQ0FBQyxDQUFDLENBQWlCLHVDQUF1QztRQUMzRSxhQUFRLEdBQVksSUFBSSxDQUFDLENBQVcsMERBQTBEO1FBQzlGLHdCQUFtQixHQUFZLElBQUksQ0FBQywrRUFBOEU7UUFDbEgsaUJBQVksR0FBVyxFQUFFLENBQUMsQ0FBVSwwRkFBMEY7UUFDOUgsUUFBRyxHQUFXLEVBQUUsQ0FBQztJQUNyQixDQUFDO0lBQUQsZ0JBQUM7QUFBRCxDQUFDO0FBWFksOEJBQVM7QUFhdEIsMkJBQTJCO0FBQzNCLElBQVksaUJBR1g7QUFIRCxXQUFZLGlCQUFpQjtJQUN6Qiw0Q0FBdUI7SUFDdkIsaURBQTRCO0FBQ2hDLENBQUMsRUFIVyxpQkFBaUIsR0FBakIseUJBQWlCLEtBQWpCLHlCQUFpQixRQUc1QjtBQUFBLENBQUM7QUFFRjs7O0VBR0U7QUFDRjtJQUFBO1FBQ0ksUUFBRyxHQUFXLEVBQUUsQ0FBQyxDQUFHLGdFQUFnRTtRQUNwRixpQkFBWSxHQUFHLEVBQUUsQ0FBQyxDQUFFLCtCQUErQjtJQUN2RCxDQUFDO0lBQUQscUJBQUM7QUFBRCxDQUFDO0FBSFksd0NBQWMiLCJmaWxlIjoiMTYuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxyXG4qIFRoZSBjb3B5cmlnaHQgaW4gdGhpcyBzb2Z0d2FyZSBtb2R1bGUgaXMgYmVpbmcgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlIEJTRCBMaWNlbnNlLCBpbmNsdWRlZFxyXG4qIGJlbG93LiBUaGlzIHNvZnR3YXJlIG1vZHVsZSBtYXkgYmUgc3ViamVjdCB0byBvdGhlciB0aGlyZCBwYXJ0eSBhbmQvb3IgY29udHJpYnV0b3IgcmlnaHRzLFxyXG4qIGluY2x1ZGluZyBwYXRlbnQgcmlnaHRzLCBhbmQgbm8gc3VjaCByaWdodHMgYXJlIGdyYW50ZWQgdW5kZXIgdGhpcyBsaWNlbnNlLlxyXG4qXHJcbiogQ29weXJpZ2h0IChjKSAyMDE2LCBPcmFuZ2VcclxuKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4qXHJcbiogUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0IG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZFxyXG4qIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZSBtZXQ6XHJcbiogLSBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zXHJcbiogICBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxyXG4qIC0gUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLCB0aGlzIGxpc3Qgb2ZcclxuKiAgIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lciBpbiB0aGUgZG9jdW1lbnRhdGlvbiBhbmQvb3Igb3RoZXIgbWF0ZXJpYWxzIHByb3ZpZGVkXHJcbiogICB3aXRoIHRoZSBkaXN0cmlidXRpb24uXHJcbiogLSBOZWl0aGVyIHRoZSBuYW1lIG9mIE9yYW5nZSBub3IgdGhlIG5hbWVzIG9mIGl0cyBjb250cmlidXRvcnMgbWF5IGJlIHVzZWQgdG8gZW5kb3JzZSBvciBwcm9tb3RlXHJcbiogICBwcm9kdWN0cyBkZXJpdmVkIGZyb20gdGhpcyBzb2Z0d2FyZSBtb2R1bGUgd2l0aG91dCBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXHJcbipcclxuKlxyXG4qIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlMg4oCcQVMgSVPigJ0gQU5EIEFOWSBFWFBSRVNTIE9SXHJcbiogSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgVEhFIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EXHJcbiogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQVJFIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFQgSE9MREVSIE9cclxuKiBDT05UUklCVVRPUlMgQkUgTElBQkxFIEZPUiBBTlkgRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCwgU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMXHJcbiogREFNQUdFUyAoSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLFxyXG4qIERBVEEsIE9SIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWSBUSEVPUlkgT0YgTElBQklMSVRZLFxyXG4qIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlQgKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSkgQVJJU0lORyBJTiBBTllcclxuKiBXQVkgT1VUIE9GIFRIRSBVU0UgT0YgVEhJUyBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cclxuKi9cclxuXHJcbi8qKlxyXG4qIEBjbGFzcyBWYXN0XHJcbiogQGlnbm9yZVxyXG4qL1xyXG5leHBvcnQgY2xhc3MgVmFzdCB7XHJcbiAgICB2ZXJzaW9uOiBzdHJpbmcgPSAnJztcclxuICAgIGFkczogQWRbXSA9IFtdO1xyXG4gICAgYmFzZVVybDogc3RyaW5nID0gJyc7XHJcbn1cclxuXHJcbi8qKlxyXG4qIEBjbGFzcyBBZFxyXG4qIEBpZ25vcmVcclxuKi9cclxuZXhwb3J0IGNsYXNzIEFkIHtcclxuICAgIGlkOiBzdHJpbmcgPSAnJzsgICAgICAgIC8vIFtPcHRpb25hbF0gYW4gYWQgc2VydmVyLWRlZmluZWQgc3RyaW5nIGZvciB0aGUgYWRcclxuICAgIHNlcXVlbmNlOiBudW1iZXIgPSAwOyAgIC8vIFtPcHRpb25hbF0gdGhlIHNlcXVlbmNlIGluIHdoaWNoIGFuIGFkIHNob3VsZCBwbGF5XHJcbiAgICBpbkxpbmU6IEluTGluZSA9IG51bGw7XHJcbiAgICB3cmFwcGVyID0gbnVsbDtcclxufVxyXG5cclxuLyoqXHJcbiogQGNsYXNzIEluTGluZVxyXG4qIEBpZ25vcmVcclxuKi9cclxuZXhwb3J0IGNsYXNzIEluTGluZSB7XHJcbiAgICBhZFN5c3RlbTogc3RyaW5nID0gJyc7ICAgICAgICAgIC8vIFtSZXF1aXJlZF0gU291cmNlIGFkIHNlcnZlclxyXG4gICAgYWRUaXRsZTogc3RyaW5nID0gJyc7ICAgICAgICAgICAvLyBbUmVxdWlyZWRdIFRpdGxlXHJcbiAgICBkZXNjcmlwdGlvbjogc3RyaW5nID0gJyc7ICAgICAgIC8vIFtPcHRpb25hbF0gRGVzY3JpcHRpb25cclxuICAgIHN1cnZleTogc3RyaW5nID0gJyc7ICAgICAgICAgICAgLy8gW09wdGlvbmFsXSBVUkkgb2YgcmVxdWVzdCB0byBzdXJ2ZXkgdmVuZG9yXHJcbiAgICBlcnJvcjogc3RyaW5nID0gJyc7ICAgICAgICAgICAgIC8vIFtPcHRpb25hbF0gVVJJIHRvIHJlcXVlc3QgaWYgYWQgZG9lcyBub3QgcGxheSBkdWUgdG8gZXJyb3JcclxuICAgIGltcHJlc3Npb25zOiBJbXByZXNzaW9uW10gPSBbXTsgLy8gW1JlcXVpcmVkXSBVUklzIHRvIHRyYWNrIGltcHJlc3Npb25zLlxyXG4gICAgY3JlYXRpdmVzOiBDcmVhdGl2ZVtdID0gW107ICAgICAvLyBbUmVxdWlyZWRdIENyZWF0aXZlIGVsZW1lbnRzXHJcbiAgICBleHRlbnNpb25zOiBFeHRlbnNpb25zW10gPSBbXTsgIC8vIFtPcHRpb25hbF0gQW55IHZhbGlkIFhNTCBtYXkgYmUgaW5jbHVkZWQgaW4gdGhlIEV4dGVuc2lvbnMgbm9kZVxyXG59XHJcblxyXG4vKipcclxuKiBAY2xhc3MgSW1wcmVzc2lvblxyXG4qIEBpZ25vcmVcclxuKi9cclxuZXhwb3J0IGNsYXNzIEltcHJlc3Npb24ge1xyXG4gICAgdXJpOiBzdHJpbmcgPSAnJzsgICAvLyBbUmVxdWlyZWRdIFVSSSB0byB0cmFjayBJbXByZXNzaW9uXHJcbiAgICBpZDogc3RyaW5nID0gJyc7ICAgIC8vIFtPcHRpb25hbF0gSWRlbnRpZmllclxyXG59XHJcblxyXG4vKipcclxuKiBAY2xhc3MgRXh0ZW5zaW9uc1xyXG4qIEBpZ25vcmVcclxuKi9cclxuZXhwb3J0IGNsYXNzIEV4dGVuc2lvbnMge1xyXG4gICAgdXJpOiBzdHJpbmcgPSAnJzsgICAvL1xyXG4gICAgb3RoZXI6IHN0cmluZyA9ICcnOyAvL1xyXG59XHJcblxyXG4vKipcclxuKiBAY2xhc3MgQ3JlYXRpdmVcclxuKiBAaWdub3JlXHJcbiovXHJcbmV4cG9ydCBjbGFzcyBDcmVhdGl2ZSB7XHJcbiAgICBpZDogc3RyaW5nID0gJyc7ICAgICAgICAgICAgICAgIC8vIFtPcHRpb25hbF0gSWRlbnRpZmllclxyXG4gICAgYWRJZDogc3RyaW5nID0gJyc7ICAgICAgICAgICAgICAvLyBbT3B0aW9uYWxdIEFkLUlEIGZvciB0aGUgY3JlYXRpdmUgKGZvcm1lcmx5IElTQ0kpXHJcbiAgICBzZXF1ZW5jZTogbnVtYmVyID0gMDsgICAgICAgICAgIC8vIFtPcHRpb25hbF0gVGhlIHByZWZlcnJlZCBvcmRlciBpbiB3aGljaCBtdWx0aXBsZSBDcmVhdGl2ZXMgc2hvdWxkIGJlIGRpc3BsYXllZFxyXG4gICAgbGluZWFyOiBMaW5lYXIgPSBudWxsOyAgICAgICAgICAvLyBbT3B0aW9uYWxdIExpbmVhciBhZFxyXG4gICAgQ29tcGFuaW9uQWRzOiBDb21wYW5pb25bXSA9IFtdOyAvLyBbT3B0aW9uYWxdIENvbXBhbmlvbiBhZHNcclxuICAgIG5vbkxpbmVhckFkczogTm9uTGluZWFyW10gPSBbXTsgLy8gW09wdGlvbmFsXSBOb24tbGluZWFyIGFkc1xyXG59XHJcblxyXG4vLyBDcmVhdGl2ZSB0eXBlc1xyXG5leHBvcnQgZW51bSBDUkVBVElWRV9UWVBFIHtcclxuICAgIExJTkVBUiA9ICdsaW5lYXInLFxyXG4gICAgTk9OX0xJTkVBUl9BRFMgPSAnTm9uTGluZWFyQWRzJyxcclxuICAgIENPTVBBTklPTl9BRFMgPSAnQ29tcGFuaW9uQWRzJ1xyXG59O1xyXG5cclxuLyoqXHJcbiogQGNsYXNzIExpbmVhclxyXG4qIEBpZ25vcmVcclxuKi9cclxuZXhwb3J0IGNsYXNzIExpbmVhciB7XHJcbiAgICBkdXJhdGlvbjogc3RyaW5nID0gJyc7ICAgICAgICAgICAgICAgICAgLy8gW1JlcXVpcmVkXSBEdXJhdGlvbiBpbiBzdGFuZGFyZCB0aW1lIGZvcm1hdCwgaGg6bW06c3NcclxuICAgIHRyYWNraW5nRXZlbnRzOiBUcmFja2luZ0V2ZW50W10gPSBbXTsgICAvLyBbT3B0aW9uYWxdIFRyYWNraW5nIGV2ZW50cyBlbGVtZW50c1xyXG4gICAgYWRQYXJhbWV0ZXJzOiBzdHJpbmcgPSAnJzsgICAgICAgICAgICAgIC8vIFtPcHRpb25hbF0gRGF0YSB0byBiZSBwYXNzZWQgaW50byB0aGUgdmlkZW8gYWRcclxuICAgIHZpZGVvQ2xpY2tzOiBWaWRlb0NsaWNrcyA9IG51bGw7ICAgICAgICAvLyBbT3B0aW9uYWxdIFZpZGVvIGNsaWNrc1xyXG4gICAgbWVkaWFGaWxlcyA9IFtdOyAgICAgICAgICAgICAgICAgICAgICAgIC8vIFtSZXF1aXJlZF0gTWVkaWEgZmlsZSBlbGVtZW50c1xyXG59XHJcblxyXG4vKipcclxuKiBAY2xhc3MgQ29tcGFuaW9uXHJcbiogQGlnbm9yZVxyXG4qL1xyXG5leHBvcnQgY2xhc3MgQ29tcGFuaW9uIHtcclxuICAgIGlkOiBzdHJpbmcgPSAnJzsgICAgICAgICAgICAgICAgICAgICAgICAvLyBvcHRpb25hbCA6IGlkZW50aWZpZXJcclxuICAgIHdpZHRoOiBudW1iZXIgPSAwOyAgICAgICAgICAgICAgICAgICAgICAvLyB3aWR0aCBwaXhlbCBkaW1lbnNpb24gb2YgY29tcGFuaW9uXHJcbiAgICBoZWlnaHQ6IG51bWJlciA9IDA7ICAgICAgICAgICAgICAgICAgICAgLy8gaGVpZ2h0IHBpeGVsIGRpbWVuc2lvbiBvZiBjb21wYW5pb25cclxuICAgIHN0YXRpY1Jlc291cmNlOiBTdGF0aWNSZXNvdXJjZSA9IG51bGw7ICAvLyBvcHRpb25hbCA6IHBvaW50ZXIgdG8gdGhlIHN0YXRpYyByZXNvdXJjZSA6IEFkc1BsYXllci52YXN0Lm1vZGVsLkFkLlN0YXRpY1Jlc291cmNlXHJcbiAgICBpRnJhbWVSZXNvdXJjZTogc3RyaW5nID0gJyc7ICAgICAgICAgICAgLy8gb3B0aW9uYWwgOiBVUkkgc291cmNlIGZvciBhbiBJRnJhbWUgdG8gZGlzcGxheSB0aGUgY29tcGFuaW9uIGVsZW1lbnRcclxuICAgIGhUTUxSZXNvdXJjZTogc3RyaW5nID0gJyc7ICAgICAgICAgICAgICAvLyBvcHRpb25hbCA6IEhUTUwgdG8gZGlzcGxheSB0aGUgY29tcGFuaW9uIGVsZW1lbnQgOiBzaGFsbCBiZSBDREFUQSB2YWx1ZVxyXG4gICAgdHJhY2tpbmdFdmVudHM6IFRyYWNraW5nRXZlbnRbXSA9IFtdOyAgIC8vIG9wdGlvbmFsIDogcG9pbnRlciB0byBhbnkgbnVtYmVyIG9mIHRyYWNraW5nIG9iamVjdHMgOiBBZHNQbGF5ZXIudmFzdC5tb2RlbC5BZC5Db21wYW5pb25UcmFja2luZ1xyXG4gICAgY2xpY2tUaHJvdWdoOiBzdHJpbmcgPSAnJzsgICAgICAgICAgICAgIC8vIG9wdGlvbmFsIDogVVJJIHRvIG9wZW4gYXMgZGVzdGluYXRpb24gcGFnZSB3aGVuIHVzZXIgY2xpY2tzIG9uIHRoZSBjb21wYW5pb25cclxuICAgIGFsdFRleHQ6IHN0cmluZyA9ICcnOyAgICAgICAgICAgICAgICAgICAvLyBvcHRpb25hbCA6IGFsdCB0ZXh0IHRvIGJlIGRpc3BsYXllZCB3aGVuIGNvbXBhbmlvbiBpcyByZW5kZXJlZCBpbiBIVE1MIGVudmlyb25tZW50LlxyXG4gICAgYWRQYXJhbWV0ZXJzOiBzdHJpbmcgPSAnJzsgICAgICAgICAgICAgIC8vIG9wdGlvbmFsIDogZGF0YSB0byBiZSBwYXNzZWQgaW50byB0aGUgY29tcGFuaW9uIGFkc1xyXG59XHJcblxyXG4vL1xyXG4vLyAgICAgIE5vbiBMaW5lYXIgQWRzXHJcbi8vXHJcblxyXG4vKipcclxuKiBAY2xhc3MgQ29tcGFuaW9uXHJcbiogQGlnbm9yZVxyXG4qL1xyXG5leHBvcnQgY2xhc3MgTm9uTGluZWFyIHtcclxuICAgIGlkOiBzdHJpbmcgPSAnJzsgICAgICAgICAgICAgICAgICAgICAgICAvLyBvcHRpb25hbCA6IGlkZW50aWZpZXJcclxuICAgIHdpZHRoOiBudW1iZXIgPSAwOyAgICAgICAgICAgICAgICAgICAgICAvLyB3aWR0aCBwaXhlbCBkaW1lbnNpb24gb2Ygbm9uIGxpbmVhclxyXG4gICAgaGVpZ2h0OiBudW1iZXIgPSAwOyAgICAgICAgICAgICAgICAgICAgIC8vIGhlaWdodCBwaXhlbCBkaW1lbnNpb24gb2Ygbm9uIGxpbmVhclxyXG4gICAgZXhwYW5kZWRXaWR0aDogbnVtYmVyID0gMDsgICAgICAgICAgICAgIC8vIG9wdGlvbmFsIDogcGl4ZWwgZGltZW5zaW9ucyBvZiBleHBhbmRpbmcgbm9ubGluZWFyIGFkIHdoZW4gaW4gZXhwYW5kZWQgc3RhdGVcclxuICAgIGV4cGFuZGVkSGVpZ2h0IDogbnVtYmVyID0gMDsgICAgICAgICAgICAvLyBvcHRpb25hbCA6IHBpeGVsIGRpbWVuc2lvbnMgb2YgZXhwYW5kaW5nIG5vbmxpbmVhciBhZCB3aGVuIGluIGV4cGFuZGVkIHN0YXRlXHJcbiAgICBzY2FsYWJsZTogYm9vbGVhbiA9IHRydWU7ICAgICAgICAgICAgICAgLy8gb3B0aW9uYWwgOiB3aGV0aGVyIGl0IGlzIGFjY2VwdGFibGUgdG8gc2NhbGUgdGhlIGltYWdlXHJcbiAgICBtYWludGFpbkFzcGVjdFJhdGlvOiBib29sZWFuID0gdHJ1ZTsgICAgLy8gb3B0aW9uYWwgOiB3aGV0aGVyIHRoZSBhZCBtdXN0IGhhdmUgaXRzIGFzcGVjdCByYXRpbyBtYWludGFpbmVkIHdoZW4gc2NhbGVkXHJcbiAgICBhcGlGcmFtZXdvcms6IHN0cmluZyA9ICcnOyAgICAgICAgICAgICAgLy8gb3B0aW9uYWwgOiBkZWZpbmVzIHRoZSBtZXRob2QgdG8gdXNlIGZvciBjb21tdW5pY2F0aW9uIHdpdGggdGhlIG5vbmxpbmVhciBlbGVtZW50XHJcbiAgICBzdGF0aWNSZXNvdXJjZTogU3RhdGljUmVzb3VyY2UgPSBudWxsOyAgLy8gb3B0aW9uYWwgOiBwb2ludGVyIHRvIHRoZSBzdGF0aWMgcmVzb3VyY2UgOiBBZHNQbGF5ZXIudmFzdC5tb2RlbC5BZC5TdGF0aWNSZXNvdXJjZVxyXG4gICAgaFRNTFJlc291cmNlOiBzdHJpbmcgPSAnJzsgICAgICAgICAgICAgIC8vIG9wdGlvbmFsIDogSFRNTCB0byBkaXNwbGF5IHRoZSBjb21wYW5pb24gZWxlbWVudCA6IHNoYWxsIGJlIENEQVRBIHZhbHVlXHJcbiAgICB0cmFja2luZ0V2ZW50czogVHJhY2tpbmdFdmVudFtdID0gW107ICAgLy8gb3B0aW9uYWwgOiBwb2ludGVyIHRvIGFueSBudW1iZXIgb2YgdHJhY2tpbmcgb2JqZWN0cyA6IEFkc1BsYXllci52YXN0Lm1vZGVsLkFkLlRyYWNraW5nXHJcbiAgICBjbGlja1Rocm91Z2g6IHN0cmluZyA9ICcnOyAgICAgICAgICAgICAgLy8gb3B0aW9uYWwgOiBVUkkgdG8gb3BlbiBhcyBkZXN0aW5hdGlvbiBwYWdlIHdoZW4gdXNlciBjbGlja3Mgb24gdGhlIG5vbi1saW5lYXIgYWQgdW5pdFxyXG4gICAgYWRQYXJhbWV0ZXJzOiBzdHJpbmcgPSAnJzsgICAgICAgICAgICAgIC8vIG9wdGlvbmFsIDogZGF0YSB0byBiZSBwYXNzZWQgaW50byB0aGUgdmlkZW8gYWRcclxufVxyXG5cclxuLyoqXHJcbiogQGNsYXNzIFRyYWNraW5nRXZlbnRcclxuKiBAaWdub3JlXHJcbiovXHJcbmV4cG9ydCBjbGFzcyBUcmFja2luZ0V2ZW50IHtcclxuICAgIHVyaTogc3RyaW5nID0gJyc7ICAgICAgICAgICAgICAgLy8gW09wdGlvbmFsXSBVUkkgdG8gdHJhY2sgdmFyaW91cyBldmVudHMgZHVyaW5nIHBsYXliYWNrXHJcbiAgICBldmVudDogc3RyaW5nID0gJyc7ICAgICAgICAgICAgIC8vIFtSZXF1aXJlZF0gVGhlIG5hbWUgb2YgdGhlIGV2ZW50IHRvIHRyYWNrIGZvciB0aGUgTGluZWFyIGVsZW1lbnRcclxuICAgIG9mZnNldEluU2Vjb25kczogbnVtYmVyID0gMDsgICAgLy8gW09wdGlvbmFsXSBSZXF1aXJlZCBpbiAnUHJvZ2VzcycgZXZlbnQsIG5vdCB1c2Ugd2l0aCBvdGhlciBldmVudHNcclxuICAgIG9mZnNldFBlcmNlbnQ6IG51bWJlciA9IDA7ICAgICAgLy8gW09wdGlvbmFsXSBSZXF1aXJlZCBpbiAnUHJvZ2VzcycgZXZlbnQsIG5vdCB1c2Ugd2l0aCBvdGhlciBldmVudHNcclxuICAgIGNvbmRpdGlvbjogRnVuY3Rpb247ICAgICAgICAgICAgLy8gVXNlZCBieSBUcmFja2luZ0V2ZW50c01hbmFnZXJcclxuICAgIG9uZVNob3Q6IGJvb2xlYW4gPSB0cnVlOyAgICAgICAgLy8gVXNlZCBieSBUcmFja2luZ0V2ZW50c01hbmFnZXJcclxuICAgIGNvbXBsZXRlZDogYm9vbGVhbiA9IGZhbHNlOyAgICAgLy8gVXNlZCBieSBUcmFja2luZ0V2ZW50c01hbmFnZXJcclxufVxyXG5cclxuXHJcbi8qKlxyXG4qIFtUcmFja2luZ0V2ZW50IGRlc2NyaXB0aW9uXVxyXG4qIEB0eXBlIHtPYmplY3R9XHJcbiovXHJcbmV4cG9ydCBlbnVtIFRSQUNLSU5HRVZFTlRfVFlQRSB7XHJcbiAgICBDUkVBVElWRVZJRVcgPSAnY3JlYXRpdmVWaWV3JyxcclxuICAgIFNUQVJUID0gJ3N0YXJ0JyxcclxuICAgIE1JRFBPSU5UID0gJ21pZHBvaW50JyxcclxuICAgIEZJUlNUUVVBUlRJTEUgPSAnZmlyc3RRdWFydGlsZScsXHJcbiAgICBUSElSRFFVQVJUSUxFID0gJ3RoaXJkUXVhcnRpbGUnLFxyXG4gICAgQ09NUExFVEUgPSAnY29tcGxldGUnLFxyXG4gICAgTVVURSA9ICdtdXRlJyxcclxuICAgIFVOTVVURSA9ICd1bm11dGUnLFxyXG4gICAgUEFVU0UgPSAncGF1c2UnLFxyXG4gICAgUkVXSU5EID0gJ3Jld2luZCcsXHJcbiAgICBSRVNVTUUgPSAncmVzdW1lJyxcclxuICAgIEZVTExTQ1JFRU4gPSAnZnVsbHNjcmVlbicsXHJcbiAgICBFWFBBTkQgPSAnZXhwYW5kJyxcclxuICAgIENPTExBUFNFID0gJ2NvbGxhcHNlJyxcclxuICAgIEFDQ0VQVElOVklUQVRJT04gPSAnYWNjZXB0SW52aXRhdGlvbicsXHJcbiAgICBDTE9TRSA9ICdjbG9zZSdcclxufTtcclxuXHJcbi8qKlxyXG4qIEBjbGFzcyBWaWRlb0NsaWNrc1xyXG4qIEBpZ25vcmVcclxuKi9cclxuZXhwb3J0IGNsYXNzIFZpZGVvQ2xpY2tzIHtcclxuICAgIGNsaWNrVGhyb3VnaDogc3RyaW5nID0gJyc7ICAgICAgICAgIC8vIFtPcHRpb25hbF0gVVJJIHRvIG9wZW4gYXMgZGVzdGluYXRpb24gcGFnZSB3aGVuIHVzZXIgY2xpY2tzIG9uIHRoZSB2aWRlb1xyXG4gICAgY2xpY2tUcmFja2luZzogc3RyaW5nID0gJyc7ICAgICAgICAgLy8gW09wdGlvbmFsXSBVUkkgdG8gcmVxdWVzdCBmb3IgdHJhY2tpbmcgcHVycG9zZXMgd2hlbiB1c2VyIGNsaWNrcyBvbiB0aGUgdmlkZW9cclxuICAgIGN1c3RvbUNsaWNrOiBzdHJpbmcgPSAnJzsgICAgICAgICAgIC8vIFtPcHRpb25hbF0gVVJJIHRvIHJlcXVlc3Qgb24gY3VzdG9tIGV2ZW50cyBzdWNoIGFzIGhvdHNwb3R0ZWQgdmlkZW9cclxufVxyXG5cclxuLyoqXHJcbiogQGNsYXNzIE1lZGlhRmlsZVxyXG4qIEBpZ25vcmVcclxuKi9cclxuZXhwb3J0IGNsYXNzIE1lZGlhRmlsZSB7XHJcbiAgICBpZDogc3RyaW5nID0gJyc7ICAgICAgICAgICAgICAgICAgICAvLyBbT3B0aW9uYWxdIElkZW50aWZpZXJcclxuICAgIGRlbGl2ZXJ5OiBzdHJpbmcgPSAnJzsgICAgICAgICAgICAgIC8vIFtSZXF1aXJlZF0gTWV0aG9kIG9mIGRlbGl2ZXJ5IG9mIGFkICgnc3RyZWFtaW5nJyBvciAncHJvZ3Jlc3NpdmUnKVxyXG4gICAgdHlwZTogc3RyaW5nID0gJyc7ICAgICAgICAgICAgICAgICAgLy8gW1JlcXVpcmVkXSBNSU1FIHR5cGVcclxuICAgIGJpdHJhdGU6IG51bWJlciA9IDA7ICAgICAgICAgICAgICAgIC8vIFtPcHRpb25hbF0gQml0cmF0ZSBvZiBlbmNvZGVkIHZpZGVvIGluIEticHNcclxuICAgIHdpZHRoOiBudW1iZXIgPSAwOyAgICAgICAgICAgICAgICAgIC8vIFtSZXF1aXJlZF0gUGl4ZWwgZGltZW5zaW9ucyBvZiB2aWRlb1xyXG4gICAgaGVpZ2h0OiBudW1iZXIgPSAwOyAgICAgICAgICAgICAgICAgLy8gW1JlcXVpcmVkXSBQaXhlbCBkaW1lbnNpb25zIG9mIHZpZGVvXHJcbiAgICBzY2FsYWJsZTogYm9vbGVhbiA9IHRydWU7ICAgICAgICAgICAvLyBbT3B0aW9uYWxdIFdoZXRoZXIgaXQgaXMgYWNjZXB0YWJsZSB0byBzY2FsZSB0aGUgaW1hZ2UuXHJcbiAgICBtYWludGFpbkFzcGVjdFJhdGlvOiBib29sZWFuID0gdHJ1ZTsvLyBbT3B0aW9uYWxdIFdoZXRoZXIgdGhlIGFkIG11c3QgaGF2ZSBpdHMgYXNwZWN0IHJhdGlvIG1haW50YWluZWQgd2hlbiBzY2FsZWRcclxuICAgIGFwaUZyYW1ld29yazogc3RyaW5nID0gJyc7ICAgICAgICAgIC8vIFtPcHRpb25hbF0gRGVmaW5lcyB0aGUgbWV0aG9kIHRvIHVzZSBmb3IgY29tbXVuaWNhdGlvbiBpZiB0aGUgTWVkaWFGaWxlIGlzIGludGVyYWN0aXZlLlxyXG4gICAgdXJpOiBzdHJpbmcgPSAnJztcclxufVxyXG5cclxuLy8gTWVkaWFGaWxlIGRlbGl2ZXJ5IHR5cGVzXHJcbmV4cG9ydCBlbnVtIE1FSUFGSUxFX0RFTElWRVJZIHtcclxuICAgIFNUUkVBTUlORyA9ICdzdHJlYW1pbmcnLFxyXG4gICAgUFJPR1JFU1NJVkUgPSAncHJvZ3Jlc3NpdmUgJ1xyXG59O1xyXG5cclxuLyoqXHJcbiogQGNsYXNzIFN0YXRpY1Jlc291cmNlXHJcbiogQGlnbm9yZVxyXG4qL1xyXG5leHBvcnQgY2xhc3MgU3RhdGljUmVzb3VyY2Uge1xyXG4gICAgdVJJOiBzdHJpbmcgPSAnJzsgICAvLyBvcHRpb25hbCA6IFVSSSB0byBhIHN0YXRpYyBmaWxlLCBzdWNoIGFzIGFuIGltYWdlIG9yIFNXRiBmaWxlXHJcbiAgICBjcmVhdGl2ZVR5cGUgID0nJzsgIC8vIG1pbWUgdHlwZSBvZiBzdGF0aWMgcmVzb3VyY2VcclxufVxyXG5cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///16\n")},function(module,exports,__webpack_require__){"use strict";eval("\r\n/*\r\n* The copyright in this software module is being made available under the BSD License, included\r\n* below. This software module may be subject to other third party and/or contributor rights,\r\n* including patent rights, and no such rights are granted under this license.\r\n*\r\n* Copyright (c) 2016, Orange\r\n* All rights reserved.\r\n*\r\n* Redistribution and use in source and binary forms, with or without modification, are permitted\r\n* provided that the following conditions are met:\r\n* - Redistributions of source code must retain the above copyright notice, this list of conditions\r\n*   and the following disclaimer.\r\n* - Redistributions in binary form must reproduce the above copyright notice, this list of\r\n*   conditions and the following disclaimer in the documentation and/or other materials provided\r\n*   with the distribution.\r\n* - Neither the name of Orange nor the names of its contributors may be used to endorse or promote\r\n*   products derived from this software module without specific prior written permission.\r\n*\r\n*\r\n* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS “AS IS” AND ANY EXPRESS OR\r\n* IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\r\n* FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER O\r\n* CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\r\n* DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\r\n* DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\r\n* WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY\r\n* WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar AdPlayer_1 = __webpack_require__(18);\r\nvar Logger_1 = __webpack_require__(0);\r\nvar EventBus_1 = __webpack_require__(3);\r\nvar utils_1 = __webpack_require__(2);\r\nvar VastPlayerManager = /** @class */ (function () {\r\n    // #endregion MEMBERS\r\n    // --------------------------------------------------\r\n    // #region PUBLIC FUNCTIONS\r\n    // --------------------------------------------------\r\n    function VastPlayerManager(eventBus) {\r\n        this.vasts = [];\r\n        this.adPlayerContainer = null;\r\n        this.mainVideo = null;\r\n        this.vastIndex = -1;\r\n        this.adIndex = -1;\r\n        this.adPlayer = null;\r\n        this.logger = Logger_1.Logger.getInstance();\r\n        this.eventBus = eventBus;\r\n        this.onAdEndListener = this.onAdEnd.bind(this);\r\n    }\r\n    /**\r\n     * Initializes the VastPlayerManager.\r\n     * @method init\r\n     * @access public\r\n     * @memberof VastPlayerManager#\r\n     * @param {Array} vasts - the array of Vast components to play\r\n     * @param {Array} adPlayerContainer - the HTML DOM container for ads player components\r\n     */\r\n    VastPlayerManager.prototype.init = function (vasts, adPlayerContainer, mainVideo) {\r\n        this.vasts = vasts;\r\n        this.adPlayerContainer = adPlayerContainer;\r\n        this.mainVideo = mainVideo;\r\n    };\r\n    VastPlayerManager.prototype.start = function () {\r\n        if (!this.vasts || this.vasts.length === 0) {\r\n            return;\r\n        }\r\n        // Notify a trigger is starting to play\r\n        this.eventBus.dispatchEvent(EventBus_1.AdEvents.TRIGGER_START);\r\n        this.playVast(0);\r\n    };\r\n    VastPlayerManager.prototype.play = function () {\r\n        this.resumeAd();\r\n    };\r\n    VastPlayerManager.prototype.pause = function () {\r\n        this.pauseAd();\r\n    };\r\n    VastPlayerManager.prototype.stop = function () {\r\n        this.stopAd();\r\n    };\r\n    VastPlayerManager.prototype.getVastsDuration = function () {\r\n        var duration = 0;\r\n        // Get all VASTs duration\r\n        for (var i = 0; i < this.vasts.length; i++) {\r\n            var vast_1 = this.vasts[i];\r\n            // Get all Ads duration\r\n            for (var j = 0; j < vast_1.ads.length; j++) {\r\n                var ad = vast_1.ads[j];\r\n                // Get all linear Creatives duration\r\n                for (var k = 0; k < ad.inLine.creatives.length; k++) {\r\n                    var creative = ad.inLine.creatives[k];\r\n                    if (creative.linear) {\r\n                        duration += utils_1.Utils.parseTime(creative.linear.duration);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return duration;\r\n    };\r\n    // #region PUBLIC FUNCTIONS\r\n    // --------------------------------------------------\r\n    // #region PRIVATE FUNCTIONS\r\n    // --------------------------------------------------\r\n    VastPlayerManager.prototype.onAdEnd = function () {\r\n        this.logger.debug('Ad ended');\r\n        // Stop the current Ad\r\n        this.stopAd();\r\n        // Play next Ad\r\n        this.playNextAd();\r\n    };\r\n    VastPlayerManager.prototype.pauseAd = function () {\r\n        if (!this.adPlayer) {\r\n            return;\r\n        }\r\n        this.adPlayer.pause();\r\n    };\r\n    VastPlayerManager.prototype.resumeAd = function () {\r\n        if (!this.adPlayer) {\r\n            return;\r\n        }\r\n        this.adPlayer.play();\r\n    };\r\n    VastPlayerManager.prototype.stopAd = function () {\r\n        if (!this.adPlayer) {\r\n            return;\r\n        }\r\n        this.eventBus.removeEventListener('adEnd', this.onAdEndListener);\r\n        this.adPlayer.stop();\r\n        this.adPlayer = null;\r\n    };\r\n    VastPlayerManager.prototype.playAd = function (index) {\r\n        var vast = this.vasts[this.vastIndex], ad = vast.ads[index];\r\n        this.adIndex = index;\r\n        this.logger.debug('Play Ad - index = ' + this.adIndex);\r\n        this.eventBus.addEventListener(EventBus_1.AdEvents.AD_END, this.onAdEndListener);\r\n        this.adPlayer = new AdPlayer_1.AdPlayer(this.eventBus);\r\n        this.adPlayer.init(ad, this.adPlayerContainer, this.mainVideo, vast.baseUrl);\r\n        this.adPlayer.start();\r\n    };\r\n    VastPlayerManager.prototype.playNextAd = function () {\r\n        var vast = this.vasts[this.vastIndex];\r\n        this.adIndex++;\r\n        if (this.adIndex < vast.ads.length) {\r\n            this.playAd(this.adIndex);\r\n        }\r\n        else {\r\n            this.playNextVast();\r\n        }\r\n    };\r\n    VastPlayerManager.prototype.playVast = function (index) {\r\n        var vast = this.vasts[index];\r\n        if (vast.ads.length === 0) {\r\n            // Empty VAST\r\n            return;\r\n        }\r\n        this.vastIndex = index;\r\n        this.logger.debug('Play Vast - index = ' + this.vastIndex);\r\n        // Play first Ad\r\n        this.playAd(0);\r\n    };\r\n    VastPlayerManager.prototype.playNextVast = function () {\r\n        this.vastIndex++;\r\n        if (this.vastIndex < this.vasts.length) {\r\n            this.playVast(this.vastIndex);\r\n        }\r\n        else {\r\n            // Notify end of trigger\r\n            this.eventBus.dispatchEvent(EventBus_1.AdEvents.TRIGGER_END);\r\n        }\r\n    };\r\n    return VastPlayerManager;\r\n}());\r\nexports.VastPlayerManager = VastPlayerManager;\r\nexports.default = VastPlayerManager;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hZHNwbGF5ZXIvLi9zcmMvbGliL3Zhc3QvVmFzdFBsYXllck1hbmFnZXIudHM/Zjc0NyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztFQTJCRTs7QUFVRix5Q0FBc0M7QUFDdEMsc0NBQW1DO0FBQ25DLHdDQUFpRDtBQUNqRCxxQ0FBdUM7QUFFdkM7SUFpQkkscUJBQXFCO0lBQ3JCLHFEQUFxRDtJQUVyRCwyQkFBMkI7SUFDM0IscURBQXFEO0lBRXJELDJCQUFhLFFBQVE7UUFDakIsSUFBSSxDQUFDLEtBQUssR0FBRyxFQUFFLENBQUM7UUFDaEIsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksQ0FBQztRQUM5QixJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQztRQUN0QixJQUFJLENBQUMsU0FBUyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3BCLElBQUksQ0FBQyxPQUFPLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDbEIsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7UUFDckIsSUFBSSxDQUFDLE1BQU0sR0FBRyxlQUFNLENBQUMsV0FBVyxFQUFFLENBQUM7UUFDbkMsSUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7UUFDekIsSUFBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNuRCxDQUFDO0lBRUQ7Ozs7Ozs7T0FPRztJQUNILGdDQUFJLEdBQUosVUFBTSxLQUFrQixFQUFFLGlCQUE4QixFQUFFLFNBQTJCO1FBQ2pGLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBQ25CLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxpQkFBaUIsQ0FBQztRQUMzQyxJQUFJLENBQUMsU0FBUyxHQUFHLFNBQVMsQ0FBQztJQUMvQixDQUFDO0lBRUQsaUNBQUssR0FBTDtRQUNJLElBQUksQ0FBQyxJQUFJLENB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QUMsR0FBRyxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7WUFDdkIsYUFBYTtZQUNiLE9BQU87U0FDVjtRQUVELElBQUksQ0FBQyxTQUFTLEdBQUcsS0FBSyxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLHNCQUFzQixHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUUzRCxnQkFBZ0I7UUFDaEIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNuQixDQUFDO0lBRU8sd0NBQVksR0FBcEI7UUFDSSxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7UUFFakIsSUFBSSxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxFQUFFO1lBQ3BDLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1NBQ2pDO2FBQU07WUFDSCx3QkFBd0I7WUFDeEIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxhQUFhLENBQUMsbUJBQVEsQ0FBQyxXQUFXLENBQUMsQ0FBQztTQUNyRDtJQUNMLENBQUM7SUFJTCx3QkFBQztBQUFELENBQUM7QUF4TFksOENBQWlCO0FBMEw5QixrQkFBZSxpQkFBaUIsQ0FBQyIsImZpbGUiOiIxNy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXHJcbiogVGhlIGNvcHlyaWdodCBpbiB0aGlzIHNvZnR3YXJlIG1vZHVsZSBpcyBiZWluZyBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgQlNEIExpY2Vuc2UsIGluY2x1ZGVkXHJcbiogYmVsb3cuIFRoaXMgc29mdHdhcmUgbW9kdWxlIG1heSBiZSBzdWJqZWN0IHRvIG90aGVyIHRoaXJkIHBhcnR5IGFuZC9vciBjb250cmlidXRvciByaWdodHMsXHJcbiogaW5jbHVkaW5nIHBhdGVudCByaWdodHMsIGFuZCBubyBzdWNoIHJpZ2h0cyBhcmUgZ3JhbnRlZCB1bmRlciB0aGlzIGxpY2Vuc2UuXHJcbipcclxuKiBDb3B5cmlnaHQgKGMpIDIwMTYsIE9yYW5nZVxyXG4qIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbipcclxuKiBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXQgbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkXHJcbiogcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlIG1ldDpcclxuKiAtIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnNcclxuKiAgIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXHJcbiogLSBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdCBvZlxyXG4qICAgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZSBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWRcclxuKiAgIHdpdGggdGhlIGRpc3RyaWJ1dGlvbi5cclxuKiAtIE5laXRoZXIgdGhlIG5hbWUgb2YgT3JhbmdlIG5vciB0aGUgbmFtZXMgb2YgaXRzIGNvbnRyaWJ1dG9ycyBtYXkgYmUgdXNlZCB0byBlbmRvcnNlIG9yIHByb21vdGVcclxuKiAgIHByb2R1Y3RzIGRlcml2ZWQgZnJvbSB0aGlzIHNvZnR3YXJlIG1vZHVsZSB3aXRob3V0IHNwZWNpZmljIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi5cclxuKlxyXG4qXHJcbiogVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SUyDigJxBUyBJU+KAnSBBTkQgQU5ZIEVYUFJFU1MgT1JcclxuKiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkRcclxuKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVCBIT0xERVIgT1xyXG4qIENPTlRSSUJVVE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLCBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUxcclxuKiBEQU1BR0VTIChJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsXHJcbiogREFUQSwgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZIFRIRU9SWSBPRiBMSUFCSUxJVFksXHJcbiogV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVCAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWVxyXG4qIFdBWSBPVVQgT0YgVEhFIFVTRSBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxyXG4qL1xyXG5cclxuLyoqXHJcbiogVGhlIFZhc3RQbGF5ZXJNYW5hZ2VyIG1hbmFnZXMgdGhlIHNlcXVlbmNpbmcgb2YgcGxheWluZyBhZHMgb2YgYSBzaW5nbGUgVkFTVC5cclxuKiBJdCB0YWtlcyBhcyBpbnB1dCB0aGUgbGlzdCBvZiBWYXN0IG9iamVjdHMgYXMgcmV0dXJuZWQgYnkgdGhlIFZBU1QgcGFyc2VyLlxyXG4qIEZvciBlYWNoIFZhc3QsIHRoZSBWYXN0UGxheWVyTWFuYWdlciBwbGF5cyBzZXF1ZW50aWFsbHkgYWxsIGNvbnRhaW5lZCBBZHMsXHJcbiogd2l0aCB0aGUgaGVscCBvZiBhbiBBZFBsYXllci5cclxuKi9cclxuXHJcbmltcG9ydCAqIGFzIHZhc3QgZnJvbSAnLi9tb2RlbC9WYXN0JztcclxuaW1wb3J0IHsgQWRQbGF5ZXIgfSBmcm9tICcuL0FkUGxheWVyJztcclxuaW1wb3J0IHsgTG9nZ2VyIH0gZnJvbSAnLi4vTG9nZ2VyJztcclxuaW1wb3J0IHsgRXZlbnRCdXMsIEFkRXZlbnRzIH0gZnJvbSAnLi4vRXZlbnRCdXMnO1xyXG5pbXBvcnQgeyBVdGlscyB9IGZyb20gJy4uL3V0aWxzL3V0aWxzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBWYXN0UGxheWVyTWFuYWdlciB7XHJcblxyXG4gICAgLy8gI3JlZ2lvbiBNRU1CRVJTXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgIHByaXZhdGUgdmFzdHM6IHZhc3QuVmFzdFtdO1xyXG4gICAgcHJpdmF0ZSBhZFBsYXllckNvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XHJcbiAgICBwcml2YXRlIG1haW5WaWRlbzogSFRNTE1lZGlhRWxlbWVudDtcclxuICAgIHByaXZhdGUgdmFzdEluZGV4OiBudW1iZXI7XHJcbiAgICBwcml2YXRlIGFkSW5kZXg6IG51bWJlcjtcclxuICAgIHByaXZhdGUgYWRQbGF5ZXI6IEFkUGxheWVyO1xyXG4gICAgcHJpdmF0ZSBsb2dnZXI6IExvZ2dlcjtcclxuICAgIHByaXZhdGUgZXZlbnRCdXM6IEV2ZW50QnVzO1xyXG5cclxuICAgIHByaXZhdGUgb25BZEVuZExpc3RlbmVyO1xyXG5cclxuXHJcbiAgICAvLyAjZW5kcmVnaW9uIE1FTUJFUlNcclxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICAgLy8gI3JlZ2lvbiBQVUJMSUMgRlVOQ1RJT05TXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgIGNvbnN0cnVjdG9yIChldmVudEJ1cykge1xyXG4gICAgICAgIHRoaXMudmFzdHMgPSBbXTtcclxuICAgICAgICB0aGlzLmFkUGxheWVyQ29udGFpbmVyID0gbnVsbDtcclxuICAgICAgICB0aGlzLm1haW5WaWRlbyA9IG51bGw7XHJcbiAgICAgICAgdGhpcy52YXN0SW5kZXggPSAtMTtcclxuICAgICAgICB0aGlzLmFkSW5kZXggPSAtMTtcclxuICAgICAgICB0aGlzLmFkUGxheWVyID0gbnVsbDtcclxuICAgICAgICB0aGlzLmxvZ2dlciA9IExvZ2dlci5nZXRJbnN0YW5jZSgpO1xyXG4gICAgICAgIHRoaXMuZXZlbnRCdXMgPSBldmVudEJ1cztcclxuICAgICAgICB0aGlzLm9uQWRFbmRMaXN0ZW5lciA9IHRoaXMub25BZEVuZC5iaW5kKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSW5pdGlhbGl6ZXMgdGhlIFZhc3RQbGF5ZXJNYW5hZ2VyLlxyXG4gICAgICogQG1ldGhvZCBpbml0XHJcbiAgICAgKiBAYWNjZXNzIHB1YmxpY1xyXG4gICAgICogQG1lbWJlcm9mIFZhc3RQbGF5ZXJNYW5hZ2VyI1xyXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFzdHMgLSB0aGUgYXJyYXkgb2YgVmFzdCBjb21wb25lbnRzIHRvIHBsYXlcclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFkUGxheWVyQ29udGFpbmVyIC0gdGhlIEhUTUwgRE9NIGNvbnRhaW5lciBmb3IgYWRzIHBsYXllciBjb21wb25lbnRzXHJcbiAgICAgKi9cclxuICAgIGluaXQgKHZhc3RzOiB2YXN0LlZhc3RbXSwgYWRQbGF5ZXJDb250YWluZXI6IEhUTUxFbGVtZW50LCBtYWluVmlkZW86IEhUTUxNZWRpYUVsZW1lbnQpIHtcclxuICAgICAgICB0aGlzLnZhc3RzID0gdmFzdHM7XHJcbiAgICAgICAgdGhpcy5hZFBsYXllckNvbnRhaW5lciA9IGFkUGxheWVyQ29udGFpbmVyO1xyXG4gICAgICAgIHRoaXMubWFpblZpZGVvID0gbWFpblZpZGVvO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXJ0ICgpIHtcclxuICAgICAgICBpZiAoIXRoaXMudmFzdHMgfHwgdGhpcy52YXN0cy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gTm90aWZ5IGEgdHJpZ2dlciBpcyBzdGFydGluZyB0byBwbGF5XHJcbiAgICAgICAgdGhpcy5ldmVudEJ1cy5kaXNwYXRjaEV2ZW50KEFkRXZlbnRzLlRSSUdHRVJfU1RBUlQpO1xyXG5cclxuICAgICAgICB0aGlzLnBsYXlWYXN0KDApO1xyXG4gICAgfVxyXG5cclxuICAgIHBsYXkgKCkge1xyXG4gICAgICAgIHRoaXMucmVzdW1lQWQoKTtcclxuICAgIH1cclxuXHJcbiAgICBwYXVzZSAoKSB7XHJcbiAgICAgICAgdGhpcy5wYXVzZUFkKCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RvcCAoKSB7XHJcbiAgICAgICAgdGhpcy5zdG9wQWQoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRWYXN0c0R1cmF0aW9uKCkge1xyXG4gICAgICAgIGxldCBkdXJhdGlvbiA9IDA7XHJcbiAgICAgICAgLy8gR2V0IGFsbCBWQVNUcyBkdXJhdGlvblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy52YXN0cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgdmFzdCA9IHRoaXMudmFzdHNbaV07XHJcbiAgICAgICAgICAgIC8vIEdldCBhbGwgQWRzIGR1cmF0aW9uXHJcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdmFzdC5hZHMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgIGxldCBhZCA9IHZhc3QuYWRzW2pdO1xyXG4gICAgICAgICAgICAgICAgLy8gR2V0IGFsbCBsaW5lYXIgQ3JlYXRpdmVzIGR1cmF0aW9uXHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IGFkLmluTGluZS5jcmVhdGl2ZXMubGVuZ3RoOyBrKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgY3JlYXRpdmUgPSBhZC5pbkxpbmUuY3JlYXRpdmVzW2tdO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjcmVhdGl2ZS5saW5lYXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb24gKz0gVXRpbHMucGFyc2VUaW1lKGNyZWF0aXZlLmxpbmVhci5kdXJhdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBkdXJhdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICAvLyAjcmVnaW9uIFBVQkxJQyBGVU5DVElPTlNcclxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICAgLy8gI3JlZ2lvbiBQUklWQVRFIEZVTkNUSU9OU1xyXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgICBwcml2YXRlIG9uQWRFbmQgKCkge1xyXG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdBZCBlbmRlZCcpO1xyXG5cclxuICAgICAgICAvLyBTdG9wIHRoZSBjdXJyZW50IEFkXHJcbiAgICAgICAgdGhpcy5zdG9wQWQoKTtcclxuXHJcbiAgICAgICAgLy8gUGxheSBuZXh0IEFkXHJcbiAgICAgICAgdGhpcy5wbGF5TmV4dEFkKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBwYXVzZUFkICgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuYWRQbGF5ZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmFkUGxheWVyLnBhdXNlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSByZXN1bWVBZCAoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmFkUGxheWVyKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5hZFBsYXllci5wbGF5KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzdG9wQWQgKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5hZFBsYXllcikge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZXZlbnRCdXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignYWRFbmQnLCB0aGlzLm9uQWRFbmRMaXN0ZW5lcik7XHJcbiAgICAgICAgdGhpcy5hZFBsYXllci5zdG9wKCk7XHJcbiAgICAgICAgdGhpcy5hZFBsYXllciA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBwbGF5QWQgKGluZGV4OiBudW1iZXIpIHtcclxuICAgICAgICBsZXQgdmFzdCA9IHRoaXMudmFzdHNbdGhpcy52YXN0SW5kZXhdLFxyXG4gICAgICAgICAgICBhZCA9IHZhc3QuYWRzW2luZGV4XTtcclxuXHJcbiAgICAgICAgdGhpcy5hZEluZGV4ID0gaW5kZXg7XHJcbiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ1BsYXkgQWQgLSBpbmRleCA9ICcgKyB0aGlzLmFkSW5kZXgpO1xyXG5cclxuICAgICAgICB0aGlzLmV2ZW50QnVzLmFkZEV2ZW50TGlzdGVuZXIoQWRFdmVudHMuQURfRU5ELCB0aGlzLm9uQWRFbmRMaXN0ZW5lcik7XHJcbiAgICAgICAgdGhpcy5hZFBsYXllciA9IG5ldyBBZFBsYXllcih0aGlzLmV2ZW50QnVzKTtcclxuICAgICAgICB0aGlzLmFkUGxheWVyLmluaXQoYWQsIHRoaXMuYWRQbGF5ZXJDb250YWluZXIsIHRoaXMubWFpblZpZGVvLCB2YXN0LmJhc2VVcmwpO1xyXG4gICAgICAgIHRoaXMuYWRQbGF5ZXIuc3RhcnQoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHBsYXlOZXh0QWQgKCkge1xyXG4gICAgICAgIGxldCB2YXN0ID0gdGhpcy52YXN0c1t0aGlzLnZhc3RJbmRleF07XHJcblxyXG4gICAgICAgIHRoaXMuYWRJbmRleCsrO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5hZEluZGV4IDwgdmFzdC5hZHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGxheUFkKHRoaXMuYWRJbmRleCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5wbGF5TmV4dFZhc3QoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBwbGF5VmFzdCAoaW5kZXg6IG51bWJlcikge1xyXG4gICAgICAgIGxldCB2YXN0ID0gdGhpcy52YXN0c1tpbmRleF07XHJcblxyXG4gICAgICAgIGlmICh2YXN0LmFkcy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgLy8gRW1wdHkgVkFTVFxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnZhc3RJbmRleCA9IGluZGV4O1xyXG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdQbGF5IFZhc3QgLSBpbmRleCA9ICcgKyB0aGlzLnZhc3RJbmRleCk7XHJcblxyXG4gICAgICAgIC8vIFBsYXkgZmlyc3QgQWRcclxuICAgICAgICB0aGlzLnBsYXlBZCgwKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHBsYXlOZXh0VmFzdCAoKSB7XHJcbiAgICAgICAgdGhpcy52YXN0SW5kZXgrKztcclxuXHJcbiAgICAgICAgaWYgKHRoaXMudmFzdEluZGV4IDwgdGhpcy52YXN0cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhpcy5wbGF5VmFzdCh0aGlzLnZhc3RJbmRleCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gTm90aWZ5IGVuZCBvZiB0cmlnZ2VyXHJcbiAgICAgICAgICAgIHRoaXMuZXZlbnRCdXMuZGlzcGF0Y2hFdmVudChBZEV2ZW50cy5UUklHR0VSX0VORCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vICNyZWdpb24gUFJJVkFURSBGVU5DVElPTlNcclxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICAgIFxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBWYXN0UGxheWVyTWFuYWdlcjtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///17\n")},function(module,exports,__webpack_require__){"use strict";eval("\r\n/*\r\n* The copyright in this software module is being made available under the BSD License, included\r\n* below. This software module may be subject to other third party and/or contributor rights,\r\n* including patent rights, and no such rights are granted under this license.\r\n*\r\n* Copyright (c) 2016, Orange\r\n* All rights reserved.\r\n*\r\n* Redistribution and use in source and binary forms, with or without modification, are permitted\r\n* provided that the following conditions are met:\r\n* - Redistributions of source code must retain the above copyright notice, this list of conditions\r\n*   and the following disclaimer.\r\n* - Redistributions in binary form must reproduce the above copyright notice, this list of\r\n*   conditions and the following disclaimer in the documentation and/or other materials provided\r\n*   with the distribution.\r\n* - Neither the name of Orange nor the names of its contributors may be used to endorse or promote\r\n*   products derived from this software module without specific prior written permission.\r\n*\r\n*\r\n* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS “AS IS” AND ANY EXPRESS OR\r\n* IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\r\n* FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER O\r\n* CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\r\n* DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\r\n* DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\r\n* WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY\r\n* WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar CreativePlayer_1 = __webpack_require__(19);\r\nvar Logger_1 = __webpack_require__(0);\r\nvar EventBus_1 = __webpack_require__(3);\r\nvar Events_1 = __webpack_require__(1);\r\nvar AdPlayer = /** @class */ (function () {\r\n    // #endregion MEMBERS\r\n    // --------------------------------------------------\r\n    // #region PUBLIC FUNCTIONS\r\n    // --------------------------------------------------\r\n    /**\r\n     * Initializes the AdPlayer\r\n     * @method constructor\r\n     * @access public\r\n     * @memberof AdPlayer#\r\n     */\r\n    function AdPlayer(eventBus) {\r\n        this.ad = null;\r\n        this.adPlayerContainer = null;\r\n        this.mainVideo = null;\r\n        this.baseUrl = '';\r\n        this.creativeIndex = -1;\r\n        this.creativePlayer = null;\r\n        this.logger = Logger_1.Logger.getInstance();\r\n        this.eventBus = eventBus;\r\n        this.onCreativeEndListener = this.onCreativeEnd.bind(this);\r\n    }\r\n    /**\r\n     * Initializes the AdManager.\r\n     * @method init\r\n     * @access public\r\n     * @memberof VastPlayerManager#\r\n     * @param {Object} ad - the Ad to play\r\n     * @param {Array} adPlayerContainer - the HTML DOM container for ads player components\r\n     * @param {Object} mainVideo - the HTML5 video element used by the main media player\r\n     * @param {string} baseUrl - the base URL for media files\r\n     */\r\n    AdPlayer.prototype.init = function (ad, adPlayerContainer, mainVideo, baseUrl) {\r\n        this.ad = ad;\r\n        this.adPlayerContainer = adPlayerContainer;\r\n        this.mainVideo = mainVideo;\r\n        this.baseUrl = baseUrl;\r\n    };\r\n    AdPlayer.prototype.start = function () {\r\n        // Notify an Ad is starting to play\r\n        this.eventBus.dispatchEvent(EventBus_1.AdEvents.AD_START);\r\n        // Send Impressions tracking\r\n        this.sendImpressions(this.ad.inLine.impressions);\r\n        // Play first Creative\r\n        this.playCreative(0);\r\n    };\r\n    AdPlayer.prototype.play = function () {\r\n        this.resumeCreative();\r\n    };\r\n    AdPlayer.prototype.pause = function () {\r\n        this.pauseCreative();\r\n    };\r\n    AdPlayer.prototype.stop = function () {\r\n        this.stopCreative();\r\n    };\r\n    // #endregion PUBLIC FUNCTIONS\r\n    // --------------------------------------------------\r\n    // #region PRIVATE FUNCTIONS\r\n    // --------------------------------------------------\r\n    AdPlayer.prototype.sendImpressions = function (impressions) {\r\n        var impression;\r\n        if (impressions.length === 0) {\r\n            return;\r\n        }\r\n        for (var i = 0; i < impressions.length; i++) {\r\n            impression = impressions[i];\r\n            if (impression.uri && impression.uri.length > 0) {\r\n                this.logger.debug('Send Impression, uri = ' + impression.uri);\r\n                var http = new XMLHttpRequest();\r\n                http.open('GET', impression.uri, true);\r\n                http.setRequestHeader('Content-Type', 'application/json; charset=UTF-8');\r\n                http.send();\r\n            }\r\n        }\r\n    };\r\n    AdPlayer.prototype.onCreativeEnd = function () {\r\n        this.logger.debug('Creative ended');\r\n        // Stop the current creative media\r\n        this.stopCreative();\r\n        // Play next creative\r\n        this.playNextCreative();\r\n    };\r\n    AdPlayer.prototype.pauseCreative = function () {\r\n        if (!this.creativePlayer) {\r\n            return;\r\n        }\r\n        this.creativePlayer.pause();\r\n    };\r\n    AdPlayer.prototype.resumeCreative = function () {\r\n        if (!this.creativePlayer) {\r\n            return;\r\n        }\r\n        this.creativePlayer.play();\r\n    };\r\n    AdPlayer.prototype.stopCreative = function () {\r\n        if (!this.creativePlayer) {\r\n            return;\r\n        }\r\n        this.eventBus.removeEventListener('creativeEnd', this.onCreativeEndListener);\r\n        this.creativePlayer.stop();\r\n        this.creativePlayer = null;\r\n    };\r\n    AdPlayer.prototype.playCreative = function (index) {\r\n        var creative = this.ad.inLine.creatives[index], linear;\r\n        this.creativeIndex = index;\r\n        this.logger.debug('Play Creative - index = ' + this.creativeIndex);\r\n        // Play Linear element\r\n        linear = creative.linear;\r\n        if (linear) {\r\n            this.logger.debug('Play Linear Ad, duration = ' + linear.duration);\r\n            this.eventBus.addEventListener(Events_1.EventTypes.CREATIVE_END, this.onCreativeEndListener);\r\n            this.creativePlayer = new CreativePlayer_1.CreativePlayer(this.eventBus);\r\n            if (!this.creativePlayer.init(creative.linear, this.adPlayerContainer, this.mainVideo, this.baseUrl)) {\r\n                this.playNextCreative();\r\n            }\r\n        }\r\n        else {\r\n            this.playNextCreative();\r\n        }\r\n    };\r\n    AdPlayer.prototype.playNextCreative = function () {\r\n        this.creativeIndex++;\r\n        if (this.creativeIndex < this.ad.inLine.creatives.length) {\r\n            this.playCreative(this.creativeIndex);\r\n        }\r\n        else {\r\n            // Notify end of Ad\r\n            this.eventBus.dispatchEvent(EventBus_1.AdEvents.AD_END);\r\n        }\r\n    };\r\n    return AdPlayer;\r\n}());\r\nexports.AdPlayer = AdPlayer;\r\nexports.default = AdPlayer;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hZHNwbGF5ZXIvLi9zcmMvbGliL3Zhc3QvQWRQbGF5ZXIudHM/YzlmMSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztFQTJCRTs7QUFjRiwrQ0FBa0Q7QUFDbEQsc0NBQW1DO0FBQ25DLHdDQUFpRDtBQUNqRCxzQ0FBMEM7QUFFMUM7SUFpQkkscUJBQXFCO0lBQ3JCLHFEQUFxRDtJQUVyRCwyQkFBMkI7SUFDM0IscURBQXFEO0lBRXJEOzs7OztPQUtHO0lBRUgsa0JBQWEsUUFBUTtRQUNqQixJQUFJLENBQUMsRUFBRSxHQUFHLElBQUksQ0FBQztRQUNmLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxJQUFJLENBQUM7UUFDOUIsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUM7UUFDdEIsSUFBSSxDQUFDLE9BQU8sR0FBRyxFQUFFLENBQUM7UUFDbEIsSUFBSSxDQUFDLGFBQWEsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN4QixJQUFJLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQztRQUMzQixJQUFJLENBQUMsTUFBTSxHQUFHLGVBQU0sQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUNuQyxJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztRQUV6QixJQUFJLENBQUMscUJBQXFCLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDL0QsQ0FBQztJQUVEOzs7Ozs7Ozs7T0FTRztJQUNILHVCQUFJLEdBQUosVUFBTSxFQUFXLEVBQUUsaUJBQThCLEVBQUUsU0FBMkIsRUFBRSxPQUFlO1FBQzNGLElBQUksQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDO1FBQ2IsSUFBSSxDQUFDLGlCQUFpQixHQUFHLGlCQUFpQixDQUFDO1FBQzNDLElBQUksQ0FBQyxTQUFTLEdBQUcsU0FBUyxDQUFDO1FBQzNCLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO0lB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QyxNQUFNLENBQUMsQ0FBQztTQUNoRDtJQUNMLENBQUM7SUFLTCxlQUFDO0FBQUQsQ0FBQztBQW5MWSw0QkFBUTtBQXFMckIsa0JBQWUsUUFBUSxDQUFDIiwiZmlsZSI6IjE4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLypcclxuKiBUaGUgY29weXJpZ2h0IGluIHRoaXMgc29mdHdhcmUgbW9kdWxlIGlzIGJlaW5nIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSBCU0QgTGljZW5zZSwgaW5jbHVkZWRcclxuKiBiZWxvdy4gVGhpcyBzb2Z0d2FyZSBtb2R1bGUgbWF5IGJlIHN1YmplY3QgdG8gb3RoZXIgdGhpcmQgcGFydHkgYW5kL29yIGNvbnRyaWJ1dG9yIHJpZ2h0cyxcclxuKiBpbmNsdWRpbmcgcGF0ZW50IHJpZ2h0cywgYW5kIG5vIHN1Y2ggcmlnaHRzIGFyZSBncmFudGVkIHVuZGVyIHRoaXMgbGljZW5zZS5cclxuKlxyXG4qIENvcHlyaWdodCAoYykgMjAxNiwgT3JhbmdlXHJcbiogQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuKlxyXG4qIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dCBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWRcclxuKiBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmUgbWV0OlxyXG4qIC0gUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9uc1xyXG4qICAgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cclxuKiAtIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSwgdGhpcyBsaXN0IG9mXHJcbiogICBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIgaW4gdGhlIGRvY3VtZW50YXRpb24gYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZFxyXG4qICAgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxyXG4qIC0gTmVpdGhlciB0aGUgbmFtZSBvZiBPcmFuZ2Ugbm9yIHRoZSBuYW1lcyBvZiBpdHMgY29udHJpYnV0b3JzIG1heSBiZSB1c2VkIHRvIGVuZG9yc2Ugb3IgcHJvbW90ZVxyXG4qICAgcHJvZHVjdHMgZGVyaXZlZCBmcm9tIHRoaXMgc29mdHdhcmUgbW9kdWxlIHdpdGhvdXQgc3BlY2lmaWMgcHJpb3Igd3JpdHRlbiBwZXJtaXNzaW9uLlxyXG4qXHJcbipcclxuKiBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTIOKAnEFTIElT4oCdIEFORCBBTlkgRVhQUkVTUyBPUlxyXG4qIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFRIRSBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORFxyXG4qIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFSRSBESVNDTEFJTUVELiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQ09QWVJJR0hUIEhPTERFUiBPXHJcbiogQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTFxyXG4qIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSxcclxuKiBEQVRBLCBPUiBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTlkgVEhFT1JZIE9GIExJQUJJTElUWSxcclxuKiBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZXHJcbiogV0FZIE9VVCBPRiBUSEUgVVNFIE9GIFRISVMgU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEUgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuXHJcbiovXHJcblxyXG4vKipcclxuKiBUaGUgQWRQbGF5ZXIgbWFuYWdlcyB0aGUgc2VxdWVuY2luZyBvZiBwbGF5aW5nIGNyZWF0aXZlcyBvZiBhIHNpbmdsZSBBZC5cclxuKiBJdCB0YWtlcyBhcyBpbnB1dCB0aGUgQWQgb2JqZWN0IGFzIHJldHVybmVkIGJ5IHRoZSBWQVNUIHBhcnNlci5cclxuKiBUaGUgQWRQbGF5ZXIgcGxheXMgc2VxdWVudGlhbGx5IGFsbCBjb250YWluZWQgQ3JlYXRpdmVzLFxyXG4qIHdpdGggdGhlIGhlbHAgb2YgYSBDcmVhdGl2ZVBsYXllci5cclxuKlxyXG4qIERpc3BhdGNoIGV2ZW50czpcclxuKiAgLSAnYWRTdGFydCcgd2hlbiB3aGVuIHRoZSBwbGF5YmFjayBvZiB0aGUgYWQgKGZpcnN0IGNyZWF0aXZlKSBpcyBzdGFydGluZy5cclxuKiAgLSAnYWRFbmQnIHdoZW4gdGhlIHBsYXliYWNrIG9mIHRoZSAoYWxsIGNyZWF0aXZlcykgaGFzIGVuZGVkXHJcbiovXHJcblxyXG5pbXBvcnQgKiBhcyB2YXN0IGZyb20gJy4vbW9kZWwvVmFzdCc7XHJcbmltcG9ydCB7IENyZWF0aXZlUGxheWVyIH0gZnJvbSAnLi9DcmVhdGl2ZVBsYXllcic7XHJcbmltcG9ydCB7IExvZ2dlciB9IGZyb20gJy4uL0xvZ2dlcic7XHJcbmltcG9ydCB7IEV2ZW50QnVzLCBBZEV2ZW50cyB9IGZyb20gJy4uL0V2ZW50QnVzJztcclxuaW1wb3J0IHsgRXZlbnRUeXBlcyB9IGZyb20gJy4uLy4uL0V2ZW50cyc7XHJcblxyXG5leHBvcnQgY2xhc3MgQWRQbGF5ZXIge1xyXG5cclxuICAgIC8vICNyZWdpb24gTUVNQkVSU1xyXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgICBwcml2YXRlIGFkOiB2YXN0LkFkO1xyXG4gICAgcHJpdmF0ZSBhZFBsYXllckNvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XHJcbiAgICBwcml2YXRlIG1haW5WaWRlbzogSFRNTE1lZGlhRWxlbWVudDtcclxuICAgIHByaXZhdGUgYmFzZVVybDogc3RyaW5nO1xyXG4gICAgcHJpdmF0ZSBjcmVhdGl2ZUluZGV4OiBudW1iZXI7XHJcbiAgICBwcml2YXRlIGNyZWF0aXZlUGxheWVyOiBDcmVhdGl2ZVBsYXllcjtcclxuICAgIHByaXZhdGUgbG9nZ2VyOiBMb2dnZXI7XHJcbiAgICBwcml2YXRlIGV2ZW50QnVzOiBFdmVudEJ1cztcclxuXHJcbiAgICBwcml2YXRlIG9uQ3JlYXRpdmVFbmRMaXN0ZW5lcjtcclxuXHJcblxyXG4gICAgLy8gI2VuZHJlZ2lvbiBNRU1CRVJTXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgIC8vICNyZWdpb24gUFVCTElDIEZVTkNUSU9OU1xyXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEluaXRpYWxpemVzIHRoZSBBZFBsYXllclxyXG4gICAgICogQG1ldGhvZCBjb25zdHJ1Y3RvclxyXG4gICAgICogQGFjY2VzcyBwdWJsaWNcclxuICAgICAqIEBtZW1iZXJvZiBBZFBsYXllciNcclxuICAgICAqL1xyXG5cclxuICAgIGNvbnN0cnVjdG9yIChldmVudEJ1cykge1xyXG4gICAgICAgIHRoaXMuYWQgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuYWRQbGF5ZXJDb250YWluZXIgPSBudWxsO1xyXG4gICAgICAgIHRoaXMubWFpblZpZGVvID0gbnVsbDtcclxuICAgICAgICB0aGlzLmJhc2VVcmwgPSAnJztcclxuICAgICAgICB0aGlzLmNyZWF0aXZlSW5kZXggPSAtMTtcclxuICAgICAgICB0aGlzLmNyZWF0aXZlUGxheWVyID0gbnVsbDtcclxuICAgICAgICB0aGlzLmxvZ2dlciA9IExvZ2dlci5nZXRJbnN0YW5jZSgpO1xyXG4gICAgICAgIHRoaXMuZXZlbnRCdXMgPSBldmVudEJ1cztcclxuXHJcbiAgICAgICAgdGhpcy5vbkNyZWF0aXZlRW5kTGlzdGVuZXIgPSB0aGlzLm9uQ3JlYXRpdmVFbmQuYmluZCh0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEluaXRpYWxpemVzIHRoZSBBZE1hbmFnZXIuXHJcbiAgICAgKiBAbWV0aG9kIGluaXRcclxuICAgICAqIEBhY2Nlc3MgcHVibGljXHJcbiAgICAgKiBAbWVtYmVyb2YgVmFzdFBsYXllck1hbmFnZXIjXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gYWQgLSB0aGUgQWQgdG8gcGxheVxyXG4gICAgICogQHBhcmFtIHtBcnJheX0gYWRQbGF5ZXJDb250YWluZXIgLSB0aGUgSFRNTCBET00gY29udGFpbmVyIGZvciBhZHMgcGxheWVyIGNvbXBvbmVudHNcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBtYWluVmlkZW8gLSB0aGUgSFRNTDUgdmlkZW8gZWxlbWVudCB1c2VkIGJ5IHRoZSBtYWluIG1lZGlhIHBsYXllclxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGJhc2VVcmwgLSB0aGUgYmFzZSBVUkwgZm9yIG1lZGlhIGZpbGVzXHJcbiAgICAgKi9cclxuICAgIGluaXQgKGFkOiB2YXN0LkFkLCBhZFBsYXllckNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIG1haW5WaWRlbzogSFRNTE1lZGlhRWxlbWVudCwgYmFzZVVybDogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy5hZCA9IGFkO1xyXG4gICAgICAgIHRoaXMuYWRQbGF5ZXJDb250YWluZXIgPSBhZFBsYXllckNvbnRhaW5lcjtcclxuICAgICAgICB0aGlzLm1haW5WaWRlbyA9IG1haW5WaWRlbztcclxuICAgICAgICB0aGlzLmJhc2VVcmwgPSBiYXNlVXJsO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXJ0ICgpIHtcclxuICAgICAgICAvLyBOb3RpZnkgYW4gQWQgaXMgc3RhcnRpbmcgdG8gcGxheVxyXG4gICAgICAgIHRoaXMuZXZlbnRCdXMuZGlzcGF0Y2hFdmVudChBZEV2ZW50cy5BRF9TVEFSVCk7XHJcblxyXG4gICAgICAgIC8vIFNlbmQgSW1wcmVzc2lvbnMgdHJhY2tpbmdcclxuICAgICAgICB0aGlzLnNlbmRJbXByZXNzaW9ucyh0aGlzLmFkLmluTGluZS5pbXByZXNzaW9ucyk7XHJcblxyXG4gICAgICAgIC8vIFBsYXkgZmlyc3QgQ3JlYXRpdmVcclxuICAgICAgICB0aGlzLnBsYXlDcmVhdGl2ZSgwKTtcclxuICAgIH1cclxuXHJcbiAgICBwbGF5ICgpIHtcclxuICAgICAgICB0aGlzLnJlc3VtZUNyZWF0aXZlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcGF1c2UgKCkge1xyXG4gICAgICAgIHRoaXMucGF1c2VDcmVhdGl2ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0b3AgKCkge1xyXG4gICAgICAgIHRoaXMuc3RvcENyZWF0aXZlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gI2VuZHJlZ2lvbiBQVUJMSUMgRlVOQ1RJT05TXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgIC8vICNyZWdpb24gUFJJVkFURSBGVU5DVElPTlNcclxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICAgcHJpdmF0ZSBzZW5kSW1wcmVzc2lvbnMgKGltcHJlc3Npb25zOiB2YXN0LkltcHJlc3Npb25bXSkge1xyXG4gICAgICAgIGxldCBpbXByZXNzaW9uO1xyXG5cclxuICAgICAgICBpZiAoaW1wcmVzc2lvbnMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW1wcmVzc2lvbnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaW1wcmVzc2lvbiA9IGltcHJlc3Npb25zW2ldO1xyXG4gICAgICAgICAgICBpZiAoaW1wcmVzc2lvbi51cmkgJiYgaW1wcmVzc2lvbi51cmkubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ1NlbmQgSW1wcmVzc2lvbiwgdXJpID0gJyArIGltcHJlc3Npb24udXJpKTtcclxuICAgICAgICAgICAgICAgIGxldCBodHRwID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcbiAgICAgICAgICAgICAgICBodHRwLm9wZW4oJ0dFVCcsIGltcHJlc3Npb24udXJpLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIGh0dHAuc2V0UmVxdWVzdEhlYWRlcignQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9VVRGLTgnKTtcclxuICAgICAgICAgICAgICAgIGh0dHAuc2VuZCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgb25DcmVhdGl2ZUVuZCAoKSB7XHJcblxyXG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdDcmVhdGl2ZSBlbmRlZCcpO1xyXG5cclxuICAgICAgICAvLyBTdG9wIHRoZSBjdXJyZW50IGNyZWF0aXZlIG1lZGlhXHJcbiAgICAgICAgdGhpcy5zdG9wQ3JlYXRpdmUoKTtcclxuXHJcbiAgICAgICAgLy8gUGxheSBuZXh0IGNyZWF0aXZlXHJcbiAgICAgICAgdGhpcy5wbGF5TmV4dENyZWF0aXZlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBwYXVzZUNyZWF0aXZlICgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuY3JlYXRpdmVQbGF5ZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNyZWF0aXZlUGxheWVyLnBhdXNlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSByZXN1bWVDcmVhdGl2ZSAoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmNyZWF0aXZlUGxheWVyKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jcmVhdGl2ZVBsYXllci5wbGF5KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzdG9wQ3JlYXRpdmUgKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5jcmVhdGl2ZVBsYXllcikge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZXZlbnRCdXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignY3JlYXRpdmVFbmQnLCB0aGlzLm9uQ3JlYXRpdmVFbmRMaXN0ZW5lcik7XHJcbiAgICAgICAgdGhpcy5jcmVhdGl2ZVBsYXllci5zdG9wKCk7XHJcbiAgICAgICAgdGhpcy5jcmVhdGl2ZVBsYXllciA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBwbGF5Q3JlYXRpdmUgKGluZGV4OiBudW1iZXIpIHtcclxuICAgICAgICB2YXIgY3JlYXRpdmUgPSB0aGlzLmFkLmluTGluZS5jcmVhdGl2ZXNbaW5kZXhdLFxyXG4gICAgICAgICAgICBsaW5lYXI7XHJcblxyXG4gICAgICAgIHRoaXMuY3JlYXRpdmVJbmRleCA9IGluZGV4O1xyXG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdQbGF5IENyZWF0aXZlIC0gaW5kZXggPSAnICsgdGhpcy5jcmVhdGl2ZUluZGV4KTtcclxuXHJcbiAgICAgICAgLy8gUGxheSBMaW5lYXIgZWxlbWVudFxyXG4gICAgICAgIGxpbmVhciA9IGNyZWF0aXZlLmxpbmVhcjtcclxuXHJcbiAgICAgICAgaWYgKGxpbmVhcikge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnUGxheSBMaW5lYXIgQWQsIGR1cmF0aW9uID0gJyArIGxpbmVhci5kdXJhdGlvbik7XHJcbiAgICAgICAgICAgIHRoaXMuZXZlbnRCdXMuYWRkRXZlbnRMaXN0ZW5lcihFdmVudFR5cGVzLkNSRUFUSVZFX0VORCwgdGhpcy5vbkNyZWF0aXZlRW5kTGlzdGVuZXIpO1xyXG4gICAgICAgICAgICB0aGlzLmNyZWF0aXZlUGxheWVyID0gbmV3IENyZWF0aXZlUGxheWVyKHRoaXMuZXZlbnRCdXMpO1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuY3JlYXRpdmVQbGF5ZXIuaW5pdChjcmVhdGl2ZS5saW5lYXIsIHRoaXMuYWRQbGF5ZXJDb250YWluZXIsIHRoaXMubWFpblZpZGVvLCB0aGlzLmJhc2VVcmwpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXlOZXh0Q3JlYXRpdmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMucGxheU5leHRDcmVhdGl2ZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHBsYXlOZXh0Q3JlYXRpdmUgKCkge1xyXG5cclxuICAgICAgICB0aGlzLmNyZWF0aXZlSW5kZXgrKztcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuY3JlYXRpdmVJbmRleCA8IHRoaXMuYWQuaW5MaW5lLmNyZWF0aXZlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhpcy5wbGF5Q3JlYXRpdmUodGhpcy5jcmVhdGl2ZUluZGV4KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBOb3RpZnkgZW5kIG9mIEFkXHJcbiAgICAgICAgICAgIHRoaXMuZXZlbnRCdXMuZGlzcGF0Y2hFdmVudChBZEV2ZW50cy5BRF9FTkQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyAjZW5kcmVnaW9uIFBSSVZBVEUgRlVOQ1RJT05TXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQWRQbGF5ZXI7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///18\n")},function(module,exports,__webpack_require__){"use strict";eval("\r\n/*\r\n* The copyright in this software module is being made available under the BSD License, included\r\n* below. This software module may be subject to other third party and/or contributor rights,\r\n* including patent rights, and no such rights are granted under this license.\r\n*\r\n* Copyright (c) 2016, Orange\r\n* All rights reserved.\r\n*\r\n* Redistribution and use in source and binary forms, with or without modification, are permitted\r\n* provided that the following conditions are met:\r\n* - Redistributions of source code must retain the above copyright notice, this list of conditions\r\n*   and the following disclaimer.\r\n* - Redistributions in binary form must reproduce the above copyright notice, this list of\r\n*   conditions and the following disclaimer in the documentation and/or other materials provided\r\n*   with the distribution.\r\n* - Neither the name of Orange nor the names of its contributors may be used to endorse or promote\r\n*   products derived from this software module without specific prior written permission.\r\n*\r\n*\r\n* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS “AS IS” AND ANY EXPRESS OR\r\n* IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\r\n* FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER O\r\n* CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\r\n* DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\r\n* DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\r\n* WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY\r\n* WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar TrackingEventsManager_1 = __webpack_require__(20);\r\nvar VideoPlayer_1 = __webpack_require__(21);\r\nvar ImagePlayer_1 = __webpack_require__(22);\r\nvar Config_1 = __webpack_require__(4);\r\nvar Logger_1 = __webpack_require__(0);\r\nvar Events_1 = __webpack_require__(1);\r\nvar utils_1 = __webpack_require__(2);\r\nvar CreativePlayer = /** @class */ (function () {\r\n    // #endregion MEMBERS\r\n    // --------------------------------------------------\r\n    // #region PUBLIC FUNCTIONS\r\n    // --------------------------------------------------\r\n    function CreativePlayer(eventBus) {\r\n        this.adPlayerContainer = null;\r\n        this.mediaPlayer = null;\r\n        this.trackingEventsManager = null;\r\n        this.mainVideo = null;\r\n        this.config = Config_1.Config.getInstance();\r\n        this.logger = Logger_1.Logger.getInstance();\r\n        this.eventBus = eventBus;\r\n        this.onMediaPlayListener = this.onMediaPlay.bind(this);\r\n        this.onMediaPauseListener = this.onMediaPause.bind(this);\r\n        this.onMediaErrorListener = this.onMediaError.bind(this);\r\n        this.onMediaTimeupdateListener = this.onMediaTimeupdate.bind(this);\r\n        this.onMediaEndedListener = this.onMediaEnded.bind(this);\r\n    }\r\n    /**\r\n     * Initializes the creative player.\r\n     * @method init\r\n     * @access public\r\n     * @memberof CreativePlayer#\r\n     * @param {Object} creative - the creative element to play\r\n     * @param {Object} adPlayerContainer - the HTML DOM container for ads player components\r\n     * @param {Object} mainVideo - the HTML5 video element used by the main media player\r\n     * @param {string} baseUrl - the base URL for media files\r\n     */\r\n    CreativePlayer.prototype.init = function (creative, adPlayerContainer, mainVideo, baseUrl) {\r\n        this.adPlayerContainer = adPlayerContainer;\r\n        this.mainVideo = mainVideo;\r\n        return this.load(creative, baseUrl);\r\n    };\r\n    CreativePlayer.prototype.play = function () {\r\n        this.play_();\r\n    };\r\n    CreativePlayer.prototype.pause = function () {\r\n        this.pause_();\r\n    };\r\n    CreativePlayer.prototype.stop = function () {\r\n        this.stop_();\r\n    };\r\n    // #endregion PUBLIC FUNCTIONS\r\n    // --------------------------------------------------\r\n    // #region PRIVATE FUNCTIONS\r\n    // --------------------------------------------------\r\n    CreativePlayer.prototype.onMediaPlay = function () {\r\n        this.logger.debug('Creative media play');\r\n        // Notify the creative has ended\r\n        this.eventBus.dispatchEvent(Events_1.EventTypes.PLAY);\r\n    };\r\n    CreativePlayer.prototype.onMediaPause = function () {\r\n        this.logger.debug('Creative media pause');\r\n        // Notify the creative has ended\r\n        this.eventBus.dispatchEvent(Events_1.EventTypes.PAUSE);\r\n    };\r\n    CreativePlayer.prototype.onMediaError = function () {\r\n        this.logger.debug('Creative media error');\r\n        // Notify the creative has ended\r\n        this.eventBus.dispatchEvent(Events_1.EventTypes.CREATIVE_END);\r\n    };\r\n    CreativePlayer.prototype.onMediaEnded = function () {\r\n        this.logger.debug('creative media ended');\r\n        // Notify the creative has ended\r\n        this.eventBus.dispatchEvent(Events_1.EventTypes.CREATIVE_END);\r\n    };\r\n    CreativePlayer.prototype.onMediaTimeupdate = function () {\r\n        //this.logger.debug('Media timeupdate: ' + this.mediaPlayer.getCurrentTime());\r\n        this.eventBus.dispatchEvent(Events_1.EventTypes.TIMEUPDATE, {\r\n            currentTime: this.mediaPlayer.getCurrentTime()\r\n        });\r\n    };\r\n    CreativePlayer.prototype.onMainVideoVolumeChange = function () {\r\n        if (!this.mediaPlayer) {\r\n            return;\r\n        }\r\n        this.mediaPlayer.setVolume(this.mainVideo.muted ? 0 : this.mainVideo.volume);\r\n    };\r\n    CreativePlayer.prototype.onAdClick = function (creative) {\r\n        // this = creative player\r\n        if (!creative.videoClicks) {\r\n            return;\r\n        }\r\n        this.logger.debug('Creative Click');\r\n        // ClickThrough : send an event for the application to open the web page\r\n        if (creative.videoClicks.clickThrough) {\r\n            this.logger.debug('Ad click, uri = ' + creative.videoClicks.clickThrough);\r\n            this.eventBus.dispatchEvent(Events_1.EventTypes.CLICK, {\r\n                uri: creative.videoClicks.clickThrough\r\n            });\r\n        }\r\n        // TODO\r\n        // ClickTracking\r\n        // if (this.videoClicks.clickTracking) {\r\n        // }\r\n    };\r\n    CreativePlayer.prototype.load = function (creative, baseUrl) {\r\n        var mediaFile, isVideo, isImage;\r\n        if (!creative) {\r\n            return false;\r\n        }\r\n        if (creative.mediaFiles.length === 0) {\r\n            return false;\r\n        }\r\n        mediaFile = creative.mediaFiles[0];\r\n        // Video or image media ?\r\n        isVideo = mediaFile.type.indexOf('video') !== -1;\r\n        isImage = mediaFile.type.indexOf('image') !== -1;\r\n        if (isVideo) {\r\n            this.mediaPlayer = new VideoPlayer_1.VideoPlayer();\r\n        }\r\n        else if (isImage) {\r\n            this.mediaPlayer = new ImagePlayer_1.ImagePlayer();\r\n        }\r\n        else {\r\n            // Unknown/unsupported media type\r\n            return false;\r\n        }\r\n        // Load the media files\r\n        this.logger.debug('Creative load');\r\n        if (!this.mediaPlayer.load(baseUrl, creative.mediaFiles)) {\r\n            this.mediaPlayer = null;\r\n            return false;\r\n        }\r\n        this.mediaPlayer.setDuration(utils_1.Utils.parseTime(creative.duration));\r\n        this.mediaPlayer.addEventListener('play', this.onMediaPlayListener);\r\n        this.mediaPlayer.addEventListener('pause', this.onMediaPauseListener);\r\n        this.mediaPlayer.addEventListener('error', this.onMediaErrorListener);\r\n        this.mediaPlayer.addEventListener('timeupdate', this.onMediaTimeupdateListener);\r\n        this.mediaPlayer.addEventListener('ended', this.onMediaEndedListener);\r\n        // Add tracking events\r\n        if (creative.trackingEvents) {\r\n            this.trackingEventsManager = new TrackingEventsManager_1.TrackingEventsManager();\r\n            this.trackingEventsManager.init(creative.trackingEvents, this.mediaPlayer);\r\n            this.trackingEventsManager.start();\r\n        }\r\n        // Notify a creative is starting to play\r\n        this.eventBus.dispatchEvent(Events_1.EventTypes.CREATIVE_START, {\r\n            mediaType: isVideo ? 'video' : 'audio',\r\n            duration: creative.duration,\r\n            clickThroughUrl: (creative.videoClicks && creative.videoClicks.clickThrough) ? creative.videoClicks.clickThrough : undefined\r\n        });\r\n        // Notify a media element has been created and appended into document\r\n        this.eventBus.dispatchEvent(Events_1.EventTypes.ADD_ELEMENT, {\r\n            element: this.mediaPlayer.getElement(),\r\n            type: this.mediaPlayer.getType()\r\n        });\r\n        // Add the media player DOM element\r\n        this.adPlayerContainer.appendChild(this.mediaPlayer.getElement());\r\n        // Listener for click\r\n        if (creative.videoClicks && this.config.handleClickThrough) {\r\n            if (creative.videoClicks.clickThrough) {\r\n                this.mediaPlayer.getElement().style.cursor = 'pointer';\r\n            }\r\n            this.mediaPlayer.getElement().addEventListener('click', this.onAdClick.bind(this, creative));\r\n        }\r\n        // Align media volume to main video volume, add 'volumechange' listener\r\n        this.onMainVideoVolumeChange();\r\n        this.mainVideo.addEventListener('volumechange', this.onMainVideoVolumeChange.bind(this));\r\n        // Start playing the media\r\n        this.play();\r\n        return true;\r\n    };\r\n    CreativePlayer.prototype.play_ = function () {\r\n        if (!this.mediaPlayer) {\r\n            return;\r\n        }\r\n        this.logger.debug('Creative play');\r\n        // Play the media player\r\n        this.mediaPlayer.play();\r\n    };\r\n    CreativePlayer.prototype.pause_ = function () {\r\n        if (!this.mediaPlayer) {\r\n            return;\r\n        }\r\n        this.logger.debug('Creative pause');\r\n        // Pause the media player\r\n        this.mediaPlayer.pause();\r\n    };\r\n    CreativePlayer.prototype.stop_ = function () {\r\n        if (!this.mediaPlayer) {\r\n            return;\r\n        }\r\n        this.logger.debug('Creative stop');\r\n        // Stop listening for 'volumechange' event\r\n        this.mainVideo.removeEventListener('volumechange', this.onMainVideoVolumeChange);\r\n        this.mainVideo = null;\r\n        // Stop the media player\r\n        this.mediaPlayer.removeEventListener('play', this.onMediaPlayListener);\r\n        this.mediaPlayer.removeEventListener('pause', this.onMediaPauseListener);\r\n        this.mediaPlayer.removeEventListener('error', this.onMediaErrorListener);\r\n        this.mediaPlayer.removeEventListener('timeupdate', this.onMediaTimeupdateListener);\r\n        this.mediaPlayer.removeEventListener('ended', this.onMediaEndedListener);\r\n        this.mediaPlayer.stop();\r\n        // Notify a media element has been removed from DOM\r\n        this.eventBus.dispatchEvent(Events_1.EventTypes.REMOVE_ELEMENT, {\r\n            element: this.mediaPlayer.getElement(),\r\n            type: this.mediaPlayer.getType()\r\n        });\r\n        // Remove the element from the DOM\r\n        this.adPlayerContainer.removeChild(this.mediaPlayer.getElement());\r\n        // Stop the TrackingEvents manager\r\n        if (this.trackingEventsManager) {\r\n            this.trackingEventsManager.stop();\r\n            this.trackingEventsManager = null;\r\n        }\r\n        // Reset the media player\r\n        this.mediaPlayer.reset();\r\n        this.mediaPlayer = null;\r\n    };\r\n    return CreativePlayer;\r\n}());\r\nexports.CreativePlayer = CreativePlayer;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hZHNwbGF5ZXIvLi9zcmMvbGliL3Zhc3QvQ3JlYXRpdmVQbGF5ZXIudHM/Mjk5NyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztFQTJCRTs7QUFXRixzREFBZ0U7QUFFaEUsNENBQW1EO0FBQ25ELDRDQUFtRDtBQUNuRCxzQ0FBbUM7QUFDbkMsc0NBQW1DO0FBRW5DLHNDQUEwQztBQUMxQyxxQ0FBdUM7QUFFdkM7SUFvQkkscUJBQXFCO0lBQ3JCLHFEQUFxRDtJQUVyRCwyQkFBMkI7SUFDM0IscURBQXFEO0lBRXJELHdCQUFZLFFBQVE7UUFDaEIsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksQ0FBQztRQUM5QixJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQztRQUN4QixJQUFJLENBQUMscUJBQXFCLEdBQUcsSUFBSSxDQUFDO1FBQ2xDLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDO1FBQ3RCLElBQUksQ0FBQyxNQUFNLEdBQUcsZUFBTSxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQ25DLElBQUksQ0FBQyxNQUFNLEdBQUcsZUFBTSxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQ25DLElBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDO1FBRXpCLElBQUksQ0FBQyxtQkFBbUIsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN2RCxJQUFJLENBQUMsb0JBQW9CLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDekQsSUFBSSxDQUFDLG9CQUFvQixHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3pELElBQUksQ0FBQyx5QkFBeUIsR0FBRyxJQUFJLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ25FLElB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TyxFQUFFLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO1FBQ3pFLElBQUksQ0FBQyxXQUFXLENBQUMsbUJBQW1CLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyx5QkFBeUIsQ0FBQyxDQUFDO1FBQ25GLElBQUksQ0FBQyxXQUFXLENBQUMsbUJBQW1CLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO1FBQ3pFLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxFQUFFLENBQUM7UUFFeEIsbURBQW1EO1FBQ25ELElBQUksQ0FBQyxRQUFRLENBQUMsYUFBYSxDQUFDLG1CQUFVLENBQUMsY0FBYyxFQUFFO1lBQ25ELE9BQU8sRUFBRSxJQUFJLENBQUMsV0FBVyxDQUFDLFVBQVUsRUFBRTtZQUN0QyxJQUFJLEVBQUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxPQUFPLEVBQUU7U0FDbkMsQ0FBQyxDQUFDO1FBRUgsa0NBQWtDO1FBQ2xDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxVQUFVLEVBQUUsQ0FBQyxDQUFDO1FBRWxFLGtDQUFrQztRQUNsQyxJQUFJLElBQUksQ0FBQyxxQkFBcUIsRUFBRTtZQUM1QixJQUFJLENBQUMscUJBQXFCLENBQUMsSUFBSSxFQUFFLENBQUM7WUFDbEMsSUFBSSxDQUFDLHFCQUFxQixHQUFHLElBQUksQ0FBQztTQUNyQztRQUVELHlCQUF5QjtRQUN6QixJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssRUFBRSxDQUFDO1FBQ3pCLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDO0lBQzVCLENBQUM7SUFJTCxxQkFBQztBQUFELENBQUM7QUE3Ulksd0NBQWMiLCJmaWxlIjoiMTkuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxyXG4qIFRoZSBjb3B5cmlnaHQgaW4gdGhpcyBzb2Z0d2FyZSBtb2R1bGUgaXMgYmVpbmcgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlIEJTRCBMaWNlbnNlLCBpbmNsdWRlZFxyXG4qIGJlbG93LiBUaGlzIHNvZnR3YXJlIG1vZHVsZSBtYXkgYmUgc3ViamVjdCB0byBvdGhlciB0aGlyZCBwYXJ0eSBhbmQvb3IgY29udHJpYnV0b3IgcmlnaHRzLFxyXG4qIGluY2x1ZGluZyBwYXRlbnQgcmlnaHRzLCBhbmQgbm8gc3VjaCByaWdodHMgYXJlIGdyYW50ZWQgdW5kZXIgdGhpcyBsaWNlbnNlLlxyXG4qXHJcbiogQ29weXJpZ2h0IChjKSAyMDE2LCBPcmFuZ2VcclxuKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4qXHJcbiogUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0IG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZFxyXG4qIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZSBtZXQ6XHJcbiogLSBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zXHJcbiogICBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxyXG4qIC0gUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLCB0aGlzIGxpc3Qgb2ZcclxuKiAgIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lciBpbiB0aGUgZG9jdW1lbnRhdGlvbiBhbmQvb3Igb3RoZXIgbWF0ZXJpYWxzIHByb3ZpZGVkXHJcbiogICB3aXRoIHRoZSBkaXN0cmlidXRpb24uXHJcbiogLSBOZWl0aGVyIHRoZSBuYW1lIG9mIE9yYW5nZSBub3IgdGhlIG5hbWVzIG9mIGl0cyBjb250cmlidXRvcnMgbWF5IGJlIHVzZWQgdG8gZW5kb3JzZSBvciBwcm9tb3RlXHJcbiogICBwcm9kdWN0cyBkZXJpdmVkIGZyb20gdGhpcyBzb2Z0d2FyZSBtb2R1bGUgd2l0aG91dCBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXHJcbipcclxuKlxyXG4qIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlMg4oCcQVMgSVPigJ0gQU5EIEFOWSBFWFBSRVNTIE9SXHJcbiogSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgVEhFIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EXHJcbiogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQVJFIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFQgSE9MREVSIE9cclxuKiBDT05UUklCVVRPUlMgQkUgTElBQkxFIEZPUiBBTlkgRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCwgU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMXHJcbiogREFNQUdFUyAoSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLFxyXG4qIERBVEEsIE9SIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWSBUSEVPUlkgT0YgTElBQklMSVRZLFxyXG4qIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlQgKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSkgQVJJU0lORyBJTiBBTllcclxuKiBXQVkgT1VUIE9GIFRIRSBVU0UgT0YgVEhJUyBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cclxuKi9cclxuXHJcbi8qKlxyXG4qIFRoZSBDcmVhdGl2ZVBsYXllciBtYW5hZ2VzOlxyXG4qIC0gdGhlIHBsYXlpbmcgb2YgbWVkaWEgZmlsZXMgd2l0aGluIGEgQ3JlYXRpdmUgKHdpdGggdGhlIGhlbHAgb2YgYSBJbWFnZS9WaWRlb1BsYXllcilcclxuKiAtIHRoZSB0cmFja2luZyBldmVudHMgKHdpdGggdGhlIGhlbHAgb2YgYSBUcmFja2luZ0V2ZW50c01hbmFnZXIpXHJcbiogLSB0aGUgZGlzcGxheSBvZiB0aGUgYWQgc2tpcHBpbmcgY29tcG9uZW50XHJcbiogLSB0aGUgdXNlciBjbGlja3NcclxuKi9cclxuXHJcbmltcG9ydCAqIGFzIHZhc3QgZnJvbSAnLi9tb2RlbC9WYXN0JztcclxuaW1wb3J0IHsgVHJhY2tpbmdFdmVudHNNYW5hZ2VyIH0gZnJvbSAnLi9UcmFja2luZ0V2ZW50c01hbmFnZXInO1xyXG5pbXBvcnQgeyBNZWRpYVBsYXllciB9IGZyb20gJy4uL21lZGlhL01lZGlhUGxheWVyJztcclxuaW1wb3J0IHsgVmlkZW9QbGF5ZXIgfSBmcm9tICcuLi9tZWRpYS9WaWRlb1BsYXllcic7XHJcbmltcG9ydCB7IEltYWdlUGxheWVyIH0gZnJvbSAnLi4vbWVkaWEvSW1hZ2VQbGF5ZXInO1xyXG5pbXBvcnQgeyBDb25maWcgfSBmcm9tICcuLi9Db25maWcnO1xyXG5pbXBvcnQgeyBMb2dnZXIgfSBmcm9tICcuLi9Mb2dnZXInO1xyXG5pbXBvcnQgeyBFdmVudEJ1cywgQWRFdmVudHMgfSBmcm9tICcuLi9FdmVudEJ1cyc7XHJcbmltcG9ydCB7IEV2ZW50VHlwZXMgfSBmcm9tICcuLi8uLi9FdmVudHMnO1xyXG5pbXBvcnQgeyBVdGlscyB9IGZyb20gJy4uL3V0aWxzL3V0aWxzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBDcmVhdGl2ZVBsYXllciB7XHJcblxyXG4gICAgLy8gI3JlZ2lvbiBNRU1CRVJTXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgIHByaXZhdGUgYWRQbGF5ZXJDb250YWluZXI6IEhUTUxFbGVtZW50O1xyXG4gICAgcHJpdmF0ZSBtZWRpYVBsYXllcjogTWVkaWFQbGF5ZXI7XHJcbiAgICBwcml2YXRlIHRyYWNraW5nRXZlbnRzTWFuYWdlcjogVHJhY2tpbmdFdmVudHNNYW5hZ2VyO1xyXG4gICAgcHJpdmF0ZSBtYWluVmlkZW86IEhUTUxNZWRpYUVsZW1lbnQ7XHJcbiAgICBwcml2YXRlIGNvbmZpZzogQ29uZmlnO1xyXG4gICAgcHJpdmF0ZSBsb2dnZXI6IExvZ2dlcjtcclxuICAgIHByaXZhdGUgZXZlbnRCdXM6IEV2ZW50QnVzO1xyXG5cclxuICAgIHByaXZhdGUgb25NZWRpYVBsYXlMaXN0ZW5lcjtcclxuICAgIHByaXZhdGUgb25NZWRpYVBhdXNlTGlzdGVuZXI7XHJcbiAgICBwcml2YXRlIG9uTWVkaWFFcnJvckxpc3RlbmVyO1xyXG4gICAgcHJpdmF0ZSBvbk1lZGlhVGltZXVwZGF0ZUxpc3RlbmVyO1xyXG4gICAgcHJpdmF0ZSBvbk1lZGlhRW5kZWRMaXN0ZW5lcjtcclxuXHJcblxyXG4gICAgLy8gI2VuZHJlZ2lvbiBNRU1CRVJTXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgIC8vICNyZWdpb24gUFVCTElDIEZVTkNUSU9OU1xyXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgICBjb25zdHJ1Y3RvcihldmVudEJ1cykge1xyXG4gICAgICAgIHRoaXMuYWRQbGF5ZXJDb250YWluZXIgPSBudWxsO1xyXG4gICAgICAgIHRoaXMubWVkaWFQbGF5ZXIgPSBudWxsO1xyXG4gICAgICAgIHRoaXMudHJhY2tpbmdFdmVudHNNYW5hZ2VyID0gbnVsbDtcclxuICAgICAgICB0aGlzLm1haW5WaWRlbyA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5jb25maWcgPSBDb25maWcuZ2V0SW5zdGFuY2UoKTtcclxuICAgICAgICB0aGlzLmxvZ2dlciA9IExvZ2dlci5nZXRJbnN0YW5jZSgpO1xyXG4gICAgICAgIHRoaXMuZXZlbnRCdXMgPSBldmVudEJ1cztcclxuXHJcbiAgICAgICAgdGhpcy5vbk1lZGlhUGxheUxpc3RlbmVyID0gdGhpcy5vbk1lZGlhUGxheS5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMub25NZWRpYVBhdXNlTGlzdGVuZXIgPSB0aGlzLm9uTWVkaWFQYXVzZS5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMub25NZWRpYUVycm9yTGlzdGVuZXIgPSB0aGlzLm9uTWVkaWFFcnJvci5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMub25NZWRpYVRpbWV1cGRhdGVMaXN0ZW5lciA9IHRoaXMub25NZWRpYVRpbWV1cGRhdGUuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLm9uTWVkaWFFbmRlZExpc3RlbmVyID0gdGhpcy5vbk1lZGlhRW5kZWQuYmluZCh0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEluaXRpYWxpemVzIHRoZSBjcmVhdGl2ZSBwbGF5ZXIuXHJcbiAgICAgKiBAbWV0aG9kIGluaXRcclxuICAgICAqIEBhY2Nlc3MgcHVibGljXHJcbiAgICAgKiBAbWVtYmVyb2YgQ3JlYXRpdmVQbGF5ZXIjXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gY3JlYXRpdmUgLSB0aGUgY3JlYXRpdmUgZWxlbWVudCB0byBwbGF5XHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gYWRQbGF5ZXJDb250YWluZXIgLSB0aGUgSFRNTCBET00gY29udGFpbmVyIGZvciBhZHMgcGxheWVyIGNvbXBvbmVudHNcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBtYWluVmlkZW8gLSB0aGUgSFRNTDUgdmlkZW8gZWxlbWVudCB1c2VkIGJ5IHRoZSBtYWluIG1lZGlhIHBsYXllclxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGJhc2VVcmwgLSB0aGUgYmFzZSBVUkwgZm9yIG1lZGlhIGZpbGVzXHJcbiAgICAgKi9cclxuICAgIGluaXQgKGNyZWF0aXZlOiB2YXN0LkxpbmVhciwgYWRQbGF5ZXJDb250YWluZXI6IEhUTUxFbGVtZW50LCBtYWluVmlkZW86IEhUTUxNZWRpYUVsZW1lbnQsIGJhc2VVcmw6IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMuYWRQbGF5ZXJDb250YWluZXIgPSBhZFBsYXllckNvbnRhaW5lcjtcclxuICAgICAgICB0aGlzLm1haW5WaWRlbyA9IG1haW5WaWRlbztcclxuICAgICAgICByZXR1cm4gdGhpcy5sb2FkKGNyZWF0aXZlLCBiYXNlVXJsKTtcclxuICAgIH1cclxuXHJcbiAgICBwbGF5ICgpIHtcclxuICAgICAgICB0aGlzLnBsYXlfKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcGF1c2UgKCkge1xyXG4gICAgICAgIHRoaXMucGF1c2VfKCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RvcCAoKSB7XHJcbiAgICAgICAgdGhpcy5zdG9wXygpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vICNlbmRyZWdpb24gUFVCTElDIEZVTkNUSU9OU1xyXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgICAvLyAjcmVnaW9uIFBSSVZBVEUgRlVOQ1RJT05TXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgIHByaXZhdGUgb25NZWRpYVBsYXkgKCkge1xyXG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdDcmVhdGl2ZSBtZWRpYSBwbGF5Jyk7XHJcbiAgICAgICAgLy8gTm90aWZ5IHRoZSBjcmVhdGl2ZSBoYXMgZW5kZWRcclxuICAgICAgICB0aGlzLmV2ZW50QnVzLmRpc3BhdGNoRXZlbnQoRXZlbnRUeXBlcy5QTEFZKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIG9uTWVkaWFQYXVzZSAoKSB7XHJcbiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ0NyZWF0aXZlIG1lZGlhIHBhdXNlJyk7XHJcbiAgICAgICAgLy8gTm90aWZ5IHRoZSBjcmVhdGl2ZSBoYXMgZW5kZWRcclxuICAgICAgICB0aGlzLmV2ZW50QnVzLmRpc3BhdGNoRXZlbnQoRXZlbnRUeXBlcy5QQVVTRSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBvbk1lZGlhRXJyb3IgKCkge1xyXG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdDcmVhdGl2ZSBtZWRpYSBlcnJvcicpO1xyXG4gICAgICAgIC8vIE5vdGlmeSB0aGUgY3JlYXRpdmUgaGFzIGVuZGVkXHJcbiAgICAgICAgdGhpcy5ldmVudEJ1cy5kaXNwYXRjaEV2ZW50KEV2ZW50VHlwZXMuQ1JFQVRJVkVfRU5EKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIG9uTWVkaWFFbmRlZCAoKSB7XHJcbiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ2NyZWF0aXZlIG1lZGlhIGVuZGVkJyk7XHJcbiAgICAgICAgLy8gTm90aWZ5IHRoZSBjcmVhdGl2ZSBoYXMgZW5kZWRcclxuICAgICAgICB0aGlzLmV2ZW50QnVzLmRpc3BhdGNoRXZlbnQoRXZlbnRUeXBlcy5DUkVBVElWRV9FTkQpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgb25NZWRpYVRpbWV1cGRhdGUgKCkge1xyXG4gICAgICAgIC8vdGhpcy5sb2dnZXIuZGVidWcoJ01lZGlhIHRpbWV1cGRhdGU6ICcgKyB0aGlzLm1lZGlhUGxheWVyLmdldEN1cnJlbnRUaW1lKCkpO1xyXG4gICAgICAgIHRoaXMuZXZlbnRCdXMuZGlzcGF0Y2hFdmVudChFdmVudFR5cGVzLlRJTUVVUERBVEUsIHtcclxuICAgICAgICAgICAgY3VycmVudFRpbWU6IHRoaXMubWVkaWFQbGF5ZXIuZ2V0Q3VycmVudFRpbWUoKVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIG9uTWFpblZpZGVvVm9sdW1lQ2hhbmdlICgpIHtcclxuICAgICAgICBpZiAoIXRoaXMubWVkaWFQbGF5ZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm1lZGlhUGxheWVyLnNldFZvbHVtZSh0aGlzLm1haW5WaWRlby5tdXRlZCA/IDAgOiB0aGlzLm1haW5WaWRlby52b2x1bWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgb25BZENsaWNrIChjcmVhdGl2ZTogdmFzdC5MaW5lYXIpIHtcclxuICAgICAgICAvLyB0aGlzID0gY3JlYXRpdmUgcGxheWVyXHJcbiAgICAgICAgaWYgKCFjcmVhdGl2ZS52aWRlb0NsaWNrcykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdDcmVhdGl2ZSBDbGljaycpO1xyXG4gICAgICAgIC8vIENsaWNrVGhyb3VnaCA6IHNlbmQgYW4gZXZlbnQgZm9yIHRoZSBhcHBsaWNhdGlvbiB0byBvcGVuIHRoZSB3ZWIgcGFnZVxyXG4gICAgICAgIGlmIChjcmVhdGl2ZS52aWRlb0NsaWNrcy5jbGlja1Rocm91Z2gpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ0FkIGNsaWNrLCB1cmkgPSAnICsgY3JlYXRpdmUudmlkZW9DbGlja3MuY2xpY2tUaHJvdWdoKTtcclxuICAgICAgICAgICAgdGhpcy5ldmVudEJ1cy5kaXNwYXRjaEV2ZW50KEV2ZW50VHlwZXMuQ0xJQ0ssIHtcclxuICAgICAgICAgICAgICAgIHVyaTogY3JlYXRpdmUudmlkZW9DbGlja3MuY2xpY2tUaHJvdWdoXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gVE9ET1xyXG4gICAgICAgIC8vIENsaWNrVHJhY2tpbmdcclxuICAgICAgICAvLyBpZiAodGhpcy52aWRlb0NsaWNrcy5jbGlja1RyYWNraW5nKSB7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgbG9hZCAoY3JlYXRpdmU6IHZhc3QuTGluZWFyLCBiYXNlVXJsOiBzdHJpbmcpIHtcclxuICAgICAgICB2YXIgbWVkaWFGaWxlLFxyXG4gICAgICAgICAgICBpc1ZpZGVvLFxyXG4gICAgICAgICAgICBpc0ltYWdlO1xyXG5cclxuICAgICAgICBpZiAoIWNyZWF0aXZlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChjcmVhdGl2ZS5tZWRpYUZpbGVzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBtZWRpYUZpbGUgPSBjcmVhdGl2ZS5tZWRpYUZpbGVzWzBdO1xyXG5cclxuICAgICAgICAvLyBWaWRlbyBvciBpbWFnZSBtZWRpYSA/XHJcbiAgICAgICAgaXNWaWRlbyA9IG1lZGlhRmlsZS50eXBlLmluZGV4T2YoJ3ZpZGVvJykgIT09IC0xO1xyXG4gICAgICAgIGlzSW1hZ2UgPSBtZWRpYUZpbGUudHlwZS5pbmRleE9mKCdpbWFnZScpICE9PSAtMTtcclxuXHJcbiAgICAgICAgaWYgKGlzVmlkZW8pIHtcclxuICAgICAgICAgICAgdGhpcy5tZWRpYVBsYXllciA9IG5ldyBWaWRlb1BsYXllcigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChpc0ltYWdlKSB7XHJcbiAgICAgICAgICAgIHRoaXMubWVkaWFQbGF5ZXIgPSBuZXcgSW1hZ2VQbGF5ZXIoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBVbmtub3duL3Vuc3VwcG9ydGVkIG1lZGlhIHR5cGVcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gTG9hZCB0aGUgbWVkaWEgZmlsZXNcclxuICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnQ3JlYXRpdmUgbG9hZCcpO1xyXG4gICAgICAgIGlmICghdGhpcy5tZWRpYVBsYXllci5sb2FkKGJhc2VVcmwsIGNyZWF0aXZlLm1lZGlhRmlsZXMpKSB7XHJcbiAgICAgICAgICAgIHRoaXMubWVkaWFQbGF5ZXIgPSBudWxsO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLm1lZGlhUGxheWVyLnNldER1cmF0aW9uKFV0aWxzLnBhcnNlVGltZShjcmVhdGl2ZS5kdXJhdGlvbikpO1xyXG4gICAgICAgIHRoaXMubWVkaWFQbGF5ZXIuYWRkRXZlbnRMaXN0ZW5lcigncGxheScsIHRoaXMub25NZWRpYVBsYXlMaXN0ZW5lcik7XHJcbiAgICAgICAgdGhpcy5tZWRpYVBsYXllci5hZGRFdmVudExpc3RlbmVyKCdwYXVzZScsIHRoaXMub25NZWRpYVBhdXNlTGlzdGVuZXIpO1xyXG4gICAgICAgIHRoaXMubWVkaWFQbGF5ZXIuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLm9uTWVkaWFFcnJvckxpc3RlbmVyKTtcclxuICAgICAgICB0aGlzLm1lZGlhUGxheWVyLmFkZEV2ZW50TGlzdGVuZXIoJ3RpbWV1cGRhdGUnLCB0aGlzLm9uTWVkaWFUaW1ldXBkYXRlTGlzdGVuZXIpO1xyXG4gICAgICAgIHRoaXMubWVkaWFQbGF5ZXIuYWRkRXZlbnRMaXN0ZW5lcignZW5kZWQnLCB0aGlzLm9uTWVkaWFFbmRlZExpc3RlbmVyKTtcclxuXHJcbiAgICAgICAgLy8gQWRkIHRyYWNraW5nIGV2ZW50c1xyXG4gICAgICAgIGlmIChjcmVhdGl2ZS50cmFja2luZ0V2ZW50cykge1xyXG4gICAgICAgICAgICB0aGlzLnRyYWNraW5nRXZlbnRzTWFuYWdlciA9IG5ldyBUcmFja2luZ0V2ZW50c01hbmFnZXIoKTtcclxuICAgICAgICAgICAgdGhpcy50cmFja2luZ0V2ZW50c01hbmFnZXIuaW5pdChjcmVhdGl2ZS50cmFja2luZ0V2ZW50cywgdGhpcy5tZWRpYVBsYXllcik7XHJcbiAgICAgICAgICAgIHRoaXMudHJhY2tpbmdFdmVudHNNYW5hZ2VyLnN0YXJ0KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBOb3RpZnkgYSBjcmVhdGl2ZSBpcyBzdGFydGluZyB0byBwbGF5XHJcbiAgICAgICAgdGhpcy5ldmVudEJ1cy5kaXNwYXRjaEV2ZW50KEV2ZW50VHlwZXMuQ1JFQVRJVkVfU1RBUlQsIHtcclxuICAgICAgICAgICAgbWVkaWFUeXBlOiBpc1ZpZGVvID8gJ3ZpZGVvJyA6ICdhdWRpbycsXHJcbiAgICAgICAgICAgIGR1cmF0aW9uOiBjcmVhdGl2ZS5kdXJhdGlvbixcclxuICAgICAgICAgICAgY2xpY2tUaHJvdWdoVXJsOiAoY3JlYXRpdmUudmlkZW9DbGlja3MgJiYgY3JlYXRpdmUudmlkZW9DbGlja3MuY2xpY2tUaHJvdWdoKSA/IGNyZWF0aXZlLnZpZGVvQ2xpY2tzLmNsaWNrVGhyb3VnaCA6IHVuZGVmaW5lZFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBOb3RpZnkgYSBtZWRpYSBlbGVtZW50IGhhcyBiZWVuIGNyZWF0ZWQgYW5kIGFwcGVuZGVkIGludG8gZG9jdW1lbnRcclxuICAgICAgICB0aGlzLmV2ZW50QnVzLmRpc3BhdGNoRXZlbnQoRXZlbnRUeXBlcy5BRERfRUxFTUVOVCwge1xyXG4gICAgICAgICAgICBlbGVtZW50OiB0aGlzLm1lZGlhUGxheWVyLmdldEVsZW1lbnQoKSxcclxuICAgICAgICAgICAgdHlwZTogdGhpcy5tZWRpYVBsYXllci5nZXRUeXBlKClcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQWRkIHRoZSBtZWRpYSBwbGF5ZXIgRE9NIGVsZW1lbnRcclxuICAgICAgICB0aGlzLmFkUGxheWVyQ29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMubWVkaWFQbGF5ZXIuZ2V0RWxlbWVudCgpKTtcclxuXHJcbiAgICAgICAgLy8gTGlzdGVuZXIgZm9yIGNsaWNrXHJcbiAgICAgICAgaWYgKGNyZWF0aXZlLnZpZGVvQ2xpY2tzICYmIHRoaXMuY29uZmlnLmhhbmRsZUNsaWNrVGhyb3VnaCkge1xyXG4gICAgICAgICAgICBpZiAoY3JlYXRpdmUudmlkZW9DbGlja3MuY2xpY2tUaHJvdWdoKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1lZGlhUGxheWVyLmdldEVsZW1lbnQoKS5zdHlsZS5jdXJzb3IgPSAncG9pbnRlcic7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5tZWRpYVBsYXllci5nZXRFbGVtZW50KCkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9uQWRDbGljay5iaW5kKHRoaXMsIGNyZWF0aXZlKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBBbGlnbiBtZWRpYSB2b2x1bWUgdG8gbWFpbiB2aWRlbyB2b2x1bWUsIGFkZCAndm9sdW1lY2hhbmdlJyBsaXN0ZW5lclxyXG4gICAgICAgIHRoaXMub25NYWluVmlkZW9Wb2x1bWVDaGFuZ2UoKTtcclxuICAgICAgICB0aGlzLm1haW5WaWRlby5hZGRFdmVudExpc3RlbmVyKCd2b2x1bWVjaGFuZ2UnLCB0aGlzLm9uTWFpblZpZGVvVm9sdW1lQ2hhbmdlLmJpbmQodGhpcykpO1xyXG5cclxuICAgICAgICAvLyBTdGFydCBwbGF5aW5nIHRoZSBtZWRpYVxyXG4gICAgICAgIHRoaXMucGxheSgpO1xyXG5cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHBsYXlfICgpIHtcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLm1lZGlhUGxheWVyKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdDcmVhdGl2ZSBwbGF5Jyk7XHJcblxyXG4gICAgICAgIC8vIFBsYXkgdGhlIG1lZGlhIHBsYXllclxyXG4gICAgICAgIHRoaXMubWVkaWFQbGF5ZXIucGxheSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgcGF1c2VfICgpIHtcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLm1lZGlhUGxheWVyKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdDcmVhdGl2ZSBwYXVzZScpO1xyXG5cclxuICAgICAgICAvLyBQYXVzZSB0aGUgbWVkaWEgcGxheWVyXHJcbiAgICAgICAgdGhpcy5tZWRpYVBsYXllci5wYXVzZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3RvcF8gKCkge1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMubWVkaWFQbGF5ZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoJ0NyZWF0aXZlIHN0b3AnKTtcclxuXHJcbiAgICAgICAgLy8gU3RvcCBsaXN0ZW5pbmcgZm9yICd2b2x1bWVjaGFuZ2UnIGV2ZW50XHJcbiAgICAgICAgdGhpcy5tYWluVmlkZW8ucmVtb3ZlRXZlbnRMaXN0ZW5lcigndm9sdW1lY2hhbmdlJywgdGhpcy5vbk1haW5WaWRlb1ZvbHVtZUNoYW5nZSk7XHJcbiAgICAgICAgdGhpcy5tYWluVmlkZW8gPSBudWxsO1xyXG5cclxuICAgICAgICAvLyBTdG9wIHRoZSBtZWRpYSBwbGF5ZXJcclxuICAgICAgICB0aGlzLm1lZGlhUGxheWVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BsYXknLCB0aGlzLm9uTWVkaWFQbGF5TGlzdGVuZXIpO1xyXG4gICAgICAgIHRoaXMubWVkaWFQbGF5ZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcigncGF1c2UnLCB0aGlzLm9uTWVkaWFQYXVzZUxpc3RlbmVyKTtcclxuICAgICAgICB0aGlzLm1lZGlhUGxheWVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5vbk1lZGlhRXJyb3JMaXN0ZW5lcik7XHJcbiAgICAgICAgdGhpcy5tZWRpYVBsYXllci5yZW1vdmVFdmVudExpc3RlbmVyKCd0aW1ldXBkYXRlJywgdGhpcy5vbk1lZGlhVGltZXVwZGF0ZUxpc3RlbmVyKTtcclxuICAgICAgICB0aGlzLm1lZGlhUGxheWVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgdGhpcy5vbk1lZGlhRW5kZWRMaXN0ZW5lcik7XHJcbiAgICAgICAgdGhpcy5tZWRpYVBsYXllci5zdG9wKCk7XHJcblxyXG4gICAgICAgIC8vIE5vdGlmeSBhIG1lZGlhIGVsZW1lbnQgaGFzIGJlZW4gcmVtb3ZlZCBmcm9tIERPTVxyXG4gICAgICAgIHRoaXMuZXZlbnRCdXMuZGlzcGF0Y2hFdmVudChFdmVudFR5cGVzLlJFTU9WRV9FTEVNRU5ULCB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQ6IHRoaXMubWVkaWFQbGF5ZXIuZ2V0RWxlbWVudCgpLFxyXG4gICAgICAgICAgICB0eXBlOiB0aGlzLm1lZGlhUGxheWVyLmdldFR5cGUoKVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBSZW1vdmUgdGhlIGVsZW1lbnQgZnJvbSB0aGUgRE9NXHJcbiAgICAgICAgdGhpcy5hZFBsYXllckNvbnRhaW5lci5yZW1vdmVDaGlsZCh0aGlzLm1lZGlhUGxheWVyLmdldEVsZW1lbnQoKSk7XHJcblxyXG4gICAgICAgIC8vIFN0b3AgdGhlIFRyYWNraW5nRXZlbnRzIG1hbmFnZXJcclxuICAgICAgICBpZiAodGhpcy50cmFja2luZ0V2ZW50c01hbmFnZXIpIHtcclxuICAgICAgICAgICAgdGhpcy50cmFja2luZ0V2ZW50c01hbmFnZXIuc3RvcCgpO1xyXG4gICAgICAgICAgICB0aGlzLnRyYWNraW5nRXZlbnRzTWFuYWdlciA9IG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBSZXNldCB0aGUgbWVkaWEgcGxheWVyXHJcbiAgICAgICAgdGhpcy5tZWRpYVBsYXllci5yZXNldCgpO1xyXG4gICAgICAgIHRoaXMubWVkaWFQbGF5ZXIgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIC8vICNyZWdpb24gUFJJVkFURSBGVU5DVElPTlNcclxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///19\n")},function(module,exports,__webpack_require__){"use strict";eval("\r\n/*\r\n* The copyright in this software module is being made available under the BSD License, included\r\n* below. This software module may be subject to other third party and/or contributor rights,\r\n* including patent rights, and no such rights are granted under this license.\r\n*\r\n* Copyright (c) 2016, Orange\r\n* All rights reserved.\r\n*\r\n* Redistribution and use in source and binary forms, with or without modification, are permitted\r\n* provided that the following conditions are met:\r\n* - Redistributions of source code must retain the above copyright notice, this list of conditions\r\n*   and the following disclaimer.\r\n* - Redistributions in binary form must reproduce the above copyright notice, this list of\r\n*   conditions and the following disclaimer in the documentation and/or other materials provided\r\n*   with the distribution.\r\n* - Neither the name of Orange nor the names of its contributors may be used to endorse or promote\r\n*   products derived from this software module without specific prior written permission.\r\n*\r\n*\r\n* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS “AS IS” AND ANY EXPRESS OR\r\n* IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\r\n* FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER O\r\n* CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\r\n* DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\r\n* DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\r\n* WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY\r\n* WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Logger_1 = __webpack_require__(0);\r\nvar TrackingEventsManager = /** @class */ (function () {\r\n    // #endregion MEMBERS\r\n    // --------------------------------------------------\r\n    // #region PUBLIC FUNCTIONS\r\n    // --------------------------------------------------\r\n    function TrackingEventsManager() {\r\n        this.trackingEvents = null;\r\n        this.adMediaPlayer = null;\r\n        this.currentTime = -1;\r\n        this.mute = false;\r\n        this.unmute = false;\r\n        this.debug = Logger_1.Logger.getInstance();\r\n        this.eventListeners = [];\r\n    }\r\n    /**\r\n     * Initializes the TrackingEventsManager.\r\n     * @method init\r\n     * @access public\r\n     * @memberof TrackingEventsManager#\r\n     * @param {Array} trackingEvents - the array of tracking events to manage\r\n     * @param {Object} adMediaPlayer - the ad media player\r\n     */\r\n    TrackingEventsManager.prototype.init = function (trackingEvents, adMediaPlayer) {\r\n        this.trackingEvents = trackingEvents;\r\n        this.adMediaPlayer = adMediaPlayer;\r\n        this.mute = (this.adMediaPlayer.getVolume() === 0);\r\n        this.unmute = (this.adMediaPlayer.getVolume() > 0);\r\n    };\r\n    TrackingEventsManager.prototype.start = function () {\r\n        if (this.trackingEvents.length === 0) {\r\n            return;\r\n        }\r\n        this.addPlayerEventListeners();\r\n    };\r\n    TrackingEventsManager.prototype.stop = function () {\r\n        this.removePlayerEventListeners();\r\n    };\r\n    // #endregion PUBLIC FUNCTIONS\r\n    // --------------------------------------------------\r\n    // #region PRIVATE FUNCTIONS\r\n    // --------------------------------------------------\r\n    TrackingEventsManager.prototype.postEvent = function (uri) {\r\n        var xhr = new XMLHttpRequest();\r\n        xhr.open('GET', uri, true);\r\n        xhr.setRequestHeader('Content-Type', 'application/json; charset=UTF-8');\r\n        xhr.send();\r\n    };\r\n    TrackingEventsManager.prototype.addEventListener = function (element, eventType, trackingEvent) {\r\n        var self = this, _listener = function ( /*event*/) {\r\n            if (this.completed) {\r\n                return;\r\n            }\r\n            if (this.uri === undefined || this.uri.length === 0) {\r\n                return;\r\n            }\r\n            if (this.condition && !this.condition()) {\r\n                return;\r\n            }\r\n            self.debug.log('Send tracking event ' + this.event + ', uri = ' + this.uri);\r\n            self.postEvent(this.uri);\r\n            if (this.oneShot) {\r\n                this.completed = true;\r\n            }\r\n        }, _eventListener = {\r\n            type: eventType,\r\n            element: element,\r\n            listener: _listener.bind(trackingEvent)\r\n        };\r\n        element.addEventListener(eventType, _eventListener.listener);\r\n        this.eventListeners.push(_eventListener);\r\n    };\r\n    TrackingEventsManager.prototype.addPlayerEventListeners = function () {\r\n        var _this = this;\r\n        var _loop_1 = function (i) {\r\n            var trackingEvent = this_1.trackingEvents[i];\r\n            trackingEvent.completed = false;\r\n            if (trackingEvent.uri && trackingEvent.uri.length > 0) {\r\n                switch (trackingEvent.event) {\r\n                    case 'creativeView':\r\n                        trackingEvent.oneShot = true;\r\n                        this_1.addEventListener(this_1.adMediaPlayer, 'loadeddata', trackingEvent);\r\n                        break;\r\n                    case 'start':\r\n                        trackingEvent.oneShot = true;\r\n                        this_1.addEventListener(this_1.adMediaPlayer, 'playing', trackingEvent);\r\n                        break;\r\n                    case 'pause':\r\n                        trackingEvent.oneShot = false;\r\n                        trackingEvent.condition = function () {\r\n                            // To ignore pause event that may be raised at end of stream\r\n                            return (_this.adMediaPlayer.isEnded() === false);\r\n                        };\r\n                        this_1.addEventListener(this_1.adMediaPlayer, 'pause', trackingEvent);\r\n                        break;\r\n                    case 'resume':\r\n                        trackingEvent.oneShot = false;\r\n                        trackingEvent.condition = function () {\r\n                            return (_this.adMediaPlayer.getCurrentTime() > 0);\r\n                        };\r\n                        this_1.addEventListener(this_1.adMediaPlayer, 'play', trackingEvent);\r\n                        break;\r\n                    case 'firstQuartile':\r\n                        trackingEvent.oneShot = true;\r\n                        trackingEvent.condition = function () {\r\n                            //_debug.log('Progress: ' + (this.adMediaPlayer.getCurrentTime() / _adMediaPlayer.getDuration()));\r\n                            return ((_this.adMediaPlayer.getCurrentTime() / _this.adMediaPlayer.getDuration()) >= 0.25);\r\n                        };\r\n                        this_1.addEventListener(this_1.adMediaPlayer, 'timeupdate', trackingEvent);\r\n                        break;\r\n                    case 'midpoint':\r\n                        trackingEvent.oneShot = true;\r\n                        trackingEvent.condition = function () {\r\n                            //_debug.log('Progress: ' + (this.adMediaPlayer.getCurrentTime() / _adMediaPlayer.getDuration()));\r\n                            return ((_this.adMediaPlayer.getCurrentTime() / _this.adMediaPlayer.getDuration()) >= 0.50);\r\n                        };\r\n                        this_1.addEventListener(this_1.adMediaPlayer, 'timeupdate', trackingEvent);\r\n                        break;\r\n                    case 'thirdQuartile':\r\n                        trackingEvent.oneShot = true;\r\n                        trackingEvent.condition = function () {\r\n                            //_debug.log('Progress: ' + (this.adMediaPlayer.getCurrentTime() / _adMediaPlayer.getDuration()));\r\n                            return ((_this.adMediaPlayer.getCurrentTime() / _this.adMediaPlayer.getDuration()) >= 0.75);\r\n                        };\r\n                        this_1.addEventListener(this_1.adMediaPlayer, 'timeupdate', trackingEvent);\r\n                        break;\r\n                    case 'rewind':\r\n                        trackingEvent.oneShot = false;\r\n                        trackingEvent.condition = function () {\r\n                            var res = ((_this.adMediaPlayer.getCurrentTime() < _this.currentTime) && (_this.adMediaPlayer.isEnded() === false));\r\n                            _this.currentTime = _this.adMediaPlayer.getCurrentTime();\r\n                            return res;\r\n                        };\r\n                        this_1.addEventListener(this_1.adMediaPlayer, 'timeupdate', trackingEvent);\r\n                        break;\r\n                    case 'complete':\r\n                        this_1.addEventListener(this_1.adMediaPlayer, 'ended', trackingEvent);\r\n                        break;\r\n                    case 'mute':\r\n                        trackingEvent.oneShot = false;\r\n                        trackingEvent.condition = function () {\r\n                            var res = !_this.mute && (_this.adMediaPlayer.getVolume() === 0);\r\n                            _this.mute = (_this.adMediaPlayer.getVolume() === 0);\r\n                            return res;\r\n                        };\r\n                        this_1.addEventListener(this_1.adMediaPlayer, 'volumechange', trackingEvent);\r\n                        break;\r\n                    case 'unmute':\r\n                        trackingEvent.oneShot = false;\r\n                        trackingEvent.condition = function () {\r\n                            var res = !_this.unmute && (_this.adMediaPlayer.getVolume() > 0);\r\n                            _this.unmute = (_this.adMediaPlayer.getVolume() > 0);\r\n                            return res;\r\n                        };\r\n                        this_1.addEventListener(this_1.adMediaPlayer, 'volumechange', trackingEvent);\r\n                        break;\r\n                    case 'fullscreen':\r\n                    case 'exitFullscreen':\r\n                        trackingEvent.oneShot = false;\r\n                        trackingEvent.condition = function (event) {\r\n                            if (event === void 0) { event = trackingEvent.event; }\r\n                            var state = (event === 'fullscreen');\r\n                            return (document['fullscreen'] === state || document['mozFullScreen'] === state || document['webkitIsFullScreen'] === state);\r\n                        };\r\n                        this_1.addEventListener(document, 'webkitfullscreenchange', trackingEvent);\r\n                        this_1.addEventListener(document, 'mozfullscreenchange', trackingEvent);\r\n                        this_1.addEventListener(document, 'MSFullscreenChange', trackingEvent);\r\n                        this_1.addEventListener(document, 'fullscreenChange', trackingEvent);\r\n                        break;\r\n                    case 'progress':\r\n                        trackingEvent.oneShot = true;\r\n                        trackingEvent.condition = function () {\r\n                            if (trackingEvent.offsetPercent) {\r\n                                //this.debug.log('progress:' + this.adMediaPlayer.getCurrentTime()+' vs offsetPercent = ' + trackingEvent.offsetPercent * this.adMediaPlayer.getDuration());\r\n                                return (_this.adMediaPlayer.getCurrentTime() >= trackingEvent.offsetPercent * _this.adMediaPlayer.getDuration());\r\n                            }\r\n                            else {\r\n                                //this.debug.log('progress:' + this.adMediaPlayer.getCurrentTime()+' vs offsetInSeconds ' + trackingEvent.offsetInSeconds);\r\n                                return (_this.adMediaPlayer.getCurrentTime() >= trackingEvent.offsetInSeconds);\r\n                            }\r\n                        };\r\n                        this_1.addEventListener(this_1.adMediaPlayer, 'timeupdate', trackingEvent);\r\n                        break;\r\n                    case 'acceptInvitationLinear':\r\n                        trackingEvent.oneShot = false;\r\n                        this_1.addEventListener(this_1.adMediaPlayer, 'click', trackingEvent);\r\n                        break;\r\n                    case 'closeLinear':\r\n                        trackingEvent.oneShot = false;\r\n                        this_1.addEventListener(window, 'beforeunload', trackingEvent);\r\n                        break;\r\n                    default:\r\n                        break;\r\n                }\r\n            }\r\n        };\r\n        var this_1 = this;\r\n        for (var i = 0; i < this.trackingEvents.length; i++) {\r\n            _loop_1(i);\r\n        }\r\n    };\r\n    TrackingEventsManager.prototype.removePlayerEventListeners = function () {\r\n        for (var i = 0; i < this.eventListeners.length; i++) {\r\n            this.eventListeners[i].element.removeEventListener(this.eventListeners[i].type, this.eventListeners[i].listener);\r\n        }\r\n        this.eventListeners = [];\r\n    };\r\n    return TrackingEventsManager;\r\n}());\r\nexports.TrackingEventsManager = TrackingEventsManager;\r\nexports.default = TrackingEventsManager;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hZHNwbGF5ZXIvLi9zcmMvbGliL3Zhc3QvVHJhY2tpbmdFdmVudHNNYW5hZ2VyLnRzP2M4NDciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7RUEyQkU7O0FBUUYsc0NBQW1DO0FBRW5DO0lBY0kscUJBQXFCO0lBQ3JCLHFEQUFxRDtJQUVyRCwyQkFBMkI7SUFDM0IscURBQXFEO0lBRXJEO1FBQ0ksSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUM7UUFDM0IsSUFBSSxDQUFDLGFBQWEsR0FBRyxJQUFJLENBQUM7UUFDMUIsSUFBSSxDQUFDLFdBQVcsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN0QixJQUFJLENBQUMsSUFBSSxHQUFHLEtBQUssQ0FBQztRQUNsQixJQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztRQUNwQixJQUFJLENBQUMsS0FBSyxHQUFHLGVBQU0sQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUNsQyxJQUFJLENBQUMsY0FBYyxHQUFHLEVBQUUsQ0FBQztJQUM3QixDQUFDO0lBRUQ7Ozs7Ozs7T0FPRztJQUNILG9DQUFJLEdBQUosVUFBTSxjQUFjLEVBQUUsYUFBYTtRQUMvQixJQUFJLENBQUMsY0FBYyxHQUFHLGNBQWMsQ0FBQztRQUNyQyxJQUFJLENBQUMsYUFBYSxHQUFHLGFBQWEsQ0FBQztRQUNuQyxJQUFJLENBQUMsSUFBSSxHQUFHLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxTQUFTLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQztRQUNuRCxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxTQUFTLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQztJQUN2RCxDQUFDO0lBRUQscUNBQUssR0FBTDtRQUNJLElBQUksSUFBSSxDQUFDLGNBQWMsQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO1lBQ2xDLE9BQU87U0FDVjtRQUNELElBQUks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QUssYUFBYSxFQUFFLE9BQU8sRUFBRSxhQUFhLENBQUMsQ0FBQzt3QkFDbEUsTUFBTTtvQkFDVixLQUFLLGFBQWE7d0JBQ2QsYUFBYSxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUM7d0JBQzlCLE9BQUssZ0JBQWdCLENBQUMsTUFBTSxFQUFFLGNBQWMsRUFBRSxhQUFhLENBQUMsQ0FBQzt3QkFDN0QsTUFBTTtvQkFDVjt3QkFDSSxNQUFNO2lCQUNiO2FBQ0o7UUFDTCxDQUFDOztRQXZIRCxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFO29CQUExQyxDQUFDO1NBdUhUO0lBQ0wsQ0FBQztJQUVPLDBEQUEwQixHQUFsQztRQUNJLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUNqRCxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1NBQ3BIO1FBQ0QsSUFBSSxDQUFDLGNBQWMsR0FBRyxFQUFFLENBQUM7SUFDN0IsQ0FBQztJQUdMLDRCQUFDO0FBQUQsQ0FBQztBQXRPWSxzREFBcUI7QUF3T2xDLGtCQUFlLHFCQUFxQixDQUFDIiwiZmlsZSI6IjIwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLypcclxuKiBUaGUgY29weXJpZ2h0IGluIHRoaXMgc29mdHdhcmUgbW9kdWxlIGlzIGJlaW5nIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSBCU0QgTGljZW5zZSwgaW5jbHVkZWRcclxuKiBiZWxvdy4gVGhpcyBzb2Z0d2FyZSBtb2R1bGUgbWF5IGJlIHN1YmplY3QgdG8gb3RoZXIgdGhpcmQgcGFydHkgYW5kL29yIGNvbnRyaWJ1dG9yIHJpZ2h0cyxcclxuKiBpbmNsdWRpbmcgcGF0ZW50IHJpZ2h0cywgYW5kIG5vIHN1Y2ggcmlnaHRzIGFyZSBncmFudGVkIHVuZGVyIHRoaXMgbGljZW5zZS5cclxuKlxyXG4qIENvcHlyaWdodCAoYykgMjAxNiwgT3JhbmdlXHJcbiogQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuKlxyXG4qIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dCBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWRcclxuKiBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmUgbWV0OlxyXG4qIC0gUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9uc1xyXG4qICAgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cclxuKiAtIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSwgdGhpcyBsaXN0IG9mXHJcbiogICBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIgaW4gdGhlIGRvY3VtZW50YXRpb24gYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZFxyXG4qICAgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxyXG4qIC0gTmVpdGhlciB0aGUgbmFtZSBvZiBPcmFuZ2Ugbm9yIHRoZSBuYW1lcyBvZiBpdHMgY29udHJpYnV0b3JzIG1heSBiZSB1c2VkIHRvIGVuZG9yc2Ugb3IgcHJvbW90ZVxyXG4qICAgcHJvZHVjdHMgZGVyaXZlZCBmcm9tIHRoaXMgc29mdHdhcmUgbW9kdWxlIHdpdGhvdXQgc3BlY2lmaWMgcHJpb3Igd3JpdHRlbiBwZXJtaXNzaW9uLlxyXG4qXHJcbipcclxuKiBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTIOKAnEFTIElT4oCdIEFORCBBTlkgRVhQUkVTUyBPUlxyXG4qIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFRIRSBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORFxyXG4qIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFSRSBESVNDTEFJTUVELiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQ09QWVJJR0hUIEhPTERFUiBPXHJcbiogQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTFxyXG4qIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSxcclxuKiBEQVRBLCBPUiBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTlkgVEhFT1JZIE9GIExJQUJJTElUWSxcclxuKiBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZXHJcbiogV0FZIE9VVCBPRiBUSEUgVVNFIE9GIFRISVMgU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEUgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuXHJcbiovXHJcblxyXG4vKipcclxuKiBUaGUgVHJhY2tpbmdFdmVudHNNYW5hZ2VyIG1hbmFnZXMgdGhlIHNlbmRpbmcgb2YgdGhlIHRyYWNraW5nIGV2ZW50cyB3aGlsZSBhIGNyZWF0aXZlJ3MgbWVkaWEgaXMgcGxheWluZy5cclxuKiBJdCB0YWtlcyBhcyBpbnB1dCB0aGUgbGlzdCBvZiB0cmFja2luZyBldmVudHMgdG8gc2VuZC5cclxuKi9cclxuXHJcbmltcG9ydCAqIGFzIHZhc3QgZnJvbSAnLi9tb2RlbC9WYXN0J1xyXG5pbXBvcnQgeyBMb2dnZXIgfSBmcm9tICcuLi9Mb2dnZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIFRyYWNraW5nRXZlbnRzTWFuYWdlciB7XHJcblxyXG4gICAgLy8gI3JlZ2lvbiBNRU1CRVJTXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgIHByaXZhdGUgdHJhY2tpbmdFdmVudHM6IHZhc3QuVHJhY2tpbmdFdmVudFtdO1xyXG4gICAgcHJpdmF0ZSBhZE1lZGlhUGxheWVyO1xyXG4gICAgcHJpdmF0ZSBjdXJyZW50VGltZTogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBtdXRlOiBib29sZWFuO1xyXG4gICAgcHJpdmF0ZSB1bm11dGU6IGJvb2xlYW4gO1xyXG4gICAgcHJpdmF0ZSBkZWJ1ZztcclxuICAgIHByaXZhdGUgZXZlbnRMaXN0ZW5lcnM6IGFueVtdO1xyXG5cclxuXHJcbiAgICAvLyAjZW5kcmVnaW9uIE1FTUJFUlNcclxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICAgLy8gI3JlZ2lvbiBQVUJMSUMgRlVOQ1RJT05TXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMudHJhY2tpbmdFdmVudHMgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuYWRNZWRpYVBsYXllciA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50VGltZSA9IC0xO1xyXG4gICAgICAgIHRoaXMubXV0ZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMudW5tdXRlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5kZWJ1ZyA9IExvZ2dlci5nZXRJbnN0YW5jZSgpO1xyXG4gICAgICAgIHRoaXMuZXZlbnRMaXN0ZW5lcnMgPSBbXTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEluaXRpYWxpemVzIHRoZSBUcmFja2luZ0V2ZW50c01hbmFnZXIuXHJcbiAgICAgKiBAbWV0aG9kIGluaXRcclxuICAgICAqIEBhY2Nlc3MgcHVibGljXHJcbiAgICAgKiBAbWVtYmVyb2YgVHJhY2tpbmdFdmVudHNNYW5hZ2VyI1xyXG4gICAgICogQHBhcmFtIHtBcnJheX0gdHJhY2tpbmdFdmVudHMgLSB0aGUgYXJyYXkgb2YgdHJhY2tpbmcgZXZlbnRzIHRvIG1hbmFnZVxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGFkTWVkaWFQbGF5ZXIgLSB0aGUgYWQgbWVkaWEgcGxheWVyXHJcbiAgICAgKi9cclxuICAgIGluaXQgKHRyYWNraW5nRXZlbnRzLCBhZE1lZGlhUGxheWVyKSB7XHJcbiAgICAgICAgdGhpcy50cmFja2luZ0V2ZW50cyA9IHRyYWNraW5nRXZlbnRzO1xyXG4gICAgICAgIHRoaXMuYWRNZWRpYVBsYXllciA9IGFkTWVkaWFQbGF5ZXI7XHJcbiAgICAgICAgdGhpcy5tdXRlID0gKHRoaXMuYWRNZWRpYVBsYXllci5nZXRWb2x1bWUoKSA9PT0gMCk7XHJcbiAgICAgICAgdGhpcy51bm11dGUgPSAodGhpcy5hZE1lZGlhUGxheWVyLmdldFZvbHVtZSgpID4gMCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhcnQgKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnRyYWNraW5nRXZlbnRzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuYWRkUGxheWVyRXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIH1cclxuXHJcbiAgICBzdG9wICgpIHtcclxuICAgICAgICB0aGlzLnJlbW92ZVBsYXllckV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gI2VuZHJlZ2lvbiBQVUJMSUMgRlVOQ1RJT05TXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgIC8vICNyZWdpb24gUFJJVkFURSBGVU5DVElPTlNcclxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICAgcHJpdmF0ZSBwb3N0RXZlbnQgKHVyaSkge1xyXG4gICAgICAgIGxldCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuICAgICAgICB4aHIub3BlbignR0VUJywgdXJpLCB0cnVlKTtcclxuICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcignQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9VVRGLTgnKTtcclxuICAgICAgICB4aHIuc2VuZCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYWRkRXZlbnRMaXN0ZW5lciAoZWxlbWVudCwgZXZlbnRUeXBlLCB0cmFja2luZ0V2ZW50OiB2YXN0LlRyYWNraW5nRXZlbnQpIHtcclxuXHJcbiAgICAgICAgbGV0IHNlbGYgPSB0aGlzLFxyXG4gICAgICAgICAgICBfbGlzdGVuZXIgPSBmdW5jdGlvbigvKmV2ZW50Ki8pIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbXBsZXRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnVyaSA9PT0gdW5kZWZpbmVkIHx8IHRoaXMudXJpLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbmRpdGlvbiAmJiAhdGhpcy5jb25kaXRpb24oKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHNlbGYuZGVidWcubG9nKCdTZW5kIHRyYWNraW5nIGV2ZW50ICcgKyB0aGlzLmV2ZW50ICsgJywgdXJpID0gJyArIHRoaXMudXJpKTtcclxuICAgICAgICAgICAgICAgIHNlbGYucG9zdEV2ZW50KHRoaXMudXJpKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9uZVNob3QpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXBsZXRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF9ldmVudExpc3RlbmVyID0ge1xyXG4gICAgICAgICAgICAgICAgdHlwZTogZXZlbnRUeXBlLFxyXG4gICAgICAgICAgICAgICAgZWxlbWVudDogZWxlbWVudCxcclxuICAgICAgICAgICAgICAgIGxpc3RlbmVyOiBfbGlzdGVuZXIuYmluZCh0cmFja2luZ0V2ZW50KVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRUeXBlLCBfZXZlbnRMaXN0ZW5lci5saXN0ZW5lcik7XHJcbiAgICAgICAgdGhpcy5ldmVudExpc3RlbmVycy5wdXNoKF9ldmVudExpc3RlbmVyKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGFkZFBsYXllckV2ZW50TGlzdGVuZXJzICgpIHtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnRyYWNraW5nRXZlbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCB0cmFja2luZ0V2ZW50ID0gdGhpcy50cmFja2luZ0V2ZW50c1tpXTtcclxuICAgICAgICAgICAgdHJhY2tpbmdFdmVudC5jb21wbGV0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgaWYgKHRyYWNraW5nRXZlbnQudXJpICYmIHRyYWNraW5nRXZlbnQudXJpLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAodHJhY2tpbmdFdmVudC5ldmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2NyZWF0aXZlVmlldyc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNraW5nRXZlbnQub25lU2hvdCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLmFkTWVkaWFQbGF5ZXIsICdsb2FkZWRkYXRhJywgdHJhY2tpbmdFdmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3N0YXJ0JzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2tpbmdFdmVudC5vbmVTaG90ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKHRoaXMuYWRNZWRpYVBsYXllciwgJ3BsYXlpbmcnLCB0cmFja2luZ0V2ZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAncGF1c2UnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFja2luZ0V2ZW50Lm9uZVNob3QgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2tpbmdFdmVudC5jb25kaXRpb24gPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUbyBpZ25vcmUgcGF1c2UgZXZlbnQgdGhhdCBtYXkgYmUgcmFpc2VkIGF0IGVuZCBvZiBzdHJlYW1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAodGhpcy5hZE1lZGlhUGxheWVyLmlzRW5kZWQoKSA9PT0gZmFsc2UgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKHRoaXMuYWRNZWRpYVBsYXllciwgJ3BhdXNlJywgdHJhY2tpbmdFdmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3Jlc3VtZSc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNraW5nRXZlbnQub25lU2hvdCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFja2luZ0V2ZW50LmNvbmRpdGlvbiA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAodGhpcy5hZE1lZGlhUGxheWVyLmdldEN1cnJlbnRUaW1lKCkgPiAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKHRoaXMuYWRNZWRpYVBsYXllciwgJ3BsYXknLCB0cmFja2luZ0V2ZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnZmlyc3RRdWFydGlsZSc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNraW5nRXZlbnQub25lU2hvdCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNraW5nRXZlbnQuY29uZGl0aW9uID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9fZGVidWcubG9nKCdQcm9ncmVzczogJyArICh0aGlzLmFkTWVkaWFQbGF5ZXIuZ2V0Q3VycmVudFRpbWUoKSAvIF9hZE1lZGlhUGxheWVyLmdldER1cmF0aW9uKCkpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoKHRoaXMuYWRNZWRpYVBsYXllci5nZXRDdXJyZW50VGltZSgpIC8gdGhpcy5hZE1lZGlhUGxheWVyLmdldER1cmF0aW9uKCkpID49IDAuMjUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5hZE1lZGlhUGxheWVyLCAndGltZXVwZGF0ZScsIHRyYWNraW5nRXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdtaWRwb2ludCc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNraW5nRXZlbnQub25lU2hvdCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNraW5nRXZlbnQuY29uZGl0aW9uID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9fZGVidWcubG9nKCdQcm9ncmVzczogJyArICh0aGlzLmFkTWVkaWFQbGF5ZXIuZ2V0Q3VycmVudFRpbWUoKSAvIF9hZE1lZGlhUGxheWVyLmdldER1cmF0aW9uKCkpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoKHRoaXMuYWRNZWRpYVBsYXllci5nZXRDdXJyZW50VGltZSgpIC8gdGhpcy5hZE1lZGlhUGxheWVyLmdldER1cmF0aW9uKCkpID49IDAuNTApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5hZE1lZGlhUGxheWVyLCAndGltZXVwZGF0ZScsIHRyYWNraW5nRXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICd0aGlyZFF1YXJ0aWxlJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2tpbmdFdmVudC5vbmVTaG90ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2tpbmdFdmVudC5jb25kaXRpb24gPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL19kZWJ1Zy5sb2coJ1Byb2dyZXNzOiAnICsgKHRoaXMuYWRNZWRpYVBsYXllci5nZXRDdXJyZW50VGltZSgpIC8gX2FkTWVkaWFQbGF5ZXIuZ2V0RHVyYXRpb24oKSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICgodGhpcy5hZE1lZGlhUGxheWVyLmdldEN1cnJlbnRUaW1lKCkgLyB0aGlzLmFkTWVkaWFQbGF5ZXIuZ2V0RHVyYXRpb24oKSkgPj0gMC43NSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLmFkTWVkaWFQbGF5ZXIsICd0aW1ldXBkYXRlJywgdHJhY2tpbmdFdmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3Jld2luZCc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNraW5nRXZlbnQub25lU2hvdCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFja2luZ0V2ZW50LmNvbmRpdGlvbiA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZXMgPSAoKHRoaXMuYWRNZWRpYVBsYXllci5nZXRDdXJyZW50VGltZSgpIDwgdGhpcy5jdXJyZW50VGltZSkgJiYgKHRoaXMuYWRNZWRpYVBsYXllci5pc0VuZGVkKCkgPT09IGZhbHNlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRUaW1lID0gdGhpcy5hZE1lZGlhUGxheWVyLmdldEN1cnJlbnRUaW1lKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5hZE1lZGlhUGxheWVyLCAndGltZXVwZGF0ZScsIHRyYWNraW5nRXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdjb21wbGV0ZSc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLmFkTWVkaWFQbGF5ZXIsICdlbmRlZCcsIHRyYWNraW5nRXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdtdXRlJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2tpbmdFdmVudC5vbmVTaG90ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNraW5nRXZlbnQuY29uZGl0aW9uID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJlcyA9ICF0aGlzLm11dGUgJiYgKHRoaXMuYWRNZWRpYVBsYXllci5nZXRWb2x1bWUoKSA9PT0gMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm11dGUgPSAodGhpcy5hZE1lZGlhUGxheWVyLmdldFZvbHVtZSgpID09PSAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLmFkTWVkaWFQbGF5ZXIsICd2b2x1bWVjaGFuZ2UnLCB0cmFja2luZ0V2ZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAndW5tdXRlJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2tpbmdFdmVudC5vbmVTaG90ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNraW5nRXZlbnQuY29uZGl0aW9uID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJlcyA9ICF0aGlzLnVubXV0ZSAmJiAodGhpcy5hZE1lZGlhUGxheWVyLmdldFZvbHVtZSgpID4gMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVubXV0ZSA9ICh0aGlzLmFkTWVkaWFQbGF5ZXIuZ2V0Vm9sdW1lKCkgPiAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLmFkTWVkaWFQbGF5ZXIsICd2b2x1bWVjaGFuZ2UnLCB0cmFja2luZ0V2ZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnZnVsbHNjcmVlbic6XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnZXhpdEZ1bGxzY3JlZW4nOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFja2luZ0V2ZW50Lm9uZVNob3QgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2tpbmdFdmVudC5jb25kaXRpb24gPSAoZXZlbnQgPSB0cmFja2luZ0V2ZW50LmV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgc3RhdGUgPSAoZXZlbnQgPT09ICdmdWxsc2NyZWVuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGRvY3VtZW50WydmdWxsc2NyZWVuJ10gPT09IHN0YXRlIHx8IGRvY3VtZW50Wydtb3pGdWxsU2NyZWVuJ10gPT09IHN0YXRlIHx8IGRvY3VtZW50Wyd3ZWJraXRJc0Z1bGxTY3JlZW4nXSA9PT0gc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoZG9jdW1lbnQsICd3ZWJraXRmdWxsc2NyZWVuY2hhbmdlJywgdHJhY2tpbmdFdmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihkb2N1bWVudCwgJ21vemZ1bGxzY3JlZW5jaGFuZ2UnLCB0cmFja2luZ0V2ZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKGRvY3VtZW50LCAnTVNGdWxsc2NyZWVuQ2hhbmdlJywgdHJhY2tpbmdFdmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihkb2N1bWVudCwgJ2Z1bGxzY3JlZW5DaGFuZ2UnLCB0cmFja2luZ0V2ZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAncHJvZ3Jlc3MnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFja2luZ0V2ZW50Lm9uZVNob3QgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFja2luZ0V2ZW50LmNvbmRpdGlvbiA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0cmFja2luZ0V2ZW50Lm9mZnNldFBlcmNlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3RoaXMuZGVidWcubG9nKCdwcm9ncmVzczonICsgdGhpcy5hZE1lZGlhUGxheWVyLmdldEN1cnJlbnRUaW1lKCkrJyB2cyBvZmZzZXRQZXJjZW50ID0gJyArIHRyYWNraW5nRXZlbnQub2Zmc2V0UGVyY2VudCAqIHRoaXMuYWRNZWRpYVBsYXllci5nZXREdXJhdGlvbigpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKHRoaXMuYWRNZWRpYVBsYXllci5nZXRDdXJyZW50VGltZSgpID49IHRyYWNraW5nRXZlbnQub2Zmc2V0UGVyY2VudCAqIHRoaXMuYWRNZWRpYVBsYXllci5nZXREdXJhdGlvbigpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy90aGlzLmRlYnVnLmxvZygncHJvZ3Jlc3M6JyArIHRoaXMuYWRNZWRpYVBsYXllci5nZXRDdXJyZW50VGltZSgpKycgdnMgb2Zmc2V0SW5TZWNvbmRzICcgKyB0cmFja2luZ0V2ZW50Lm9mZnNldEluU2Vjb25kcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICh0aGlzLmFkTWVkaWFQbGF5ZXIuZ2V0Q3VycmVudFRpbWUoKSA+PSB0cmFja2luZ0V2ZW50Lm9mZnNldEluU2Vjb25kcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLmFkTWVkaWFQbGF5ZXIsICd0aW1ldXBkYXRlJywgdHJhY2tpbmdFdmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2FjY2VwdEludml0YXRpb25MaW5lYXInOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFja2luZ0V2ZW50Lm9uZVNob3QgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKHRoaXMuYWRNZWRpYVBsYXllciwgJ2NsaWNrJywgdHJhY2tpbmdFdmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2Nsb3NlTGluZWFyJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2tpbmdFdmVudC5vbmVTaG90ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcih3aW5kb3csICdiZWZvcmV1bmxvYWQnLCB0cmFja2luZ0V2ZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSByZW1vdmVQbGF5ZXJFdmVudExpc3RlbmVycyAoKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmV2ZW50TGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZXZlbnRMaXN0ZW5lcnNbaV0uZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMuZXZlbnRMaXN0ZW5lcnNbaV0udHlwZSwgdGhpcy5ldmVudExpc3RlbmVyc1tpXS5saXN0ZW5lcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZXZlbnRMaXN0ZW5lcnMgPSBbXTtcclxuICAgIH1cclxuXHJcblxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBUcmFja2luZ0V2ZW50c01hbmFnZXI7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///20\n")},function(module,exports,__webpack_require__){"use strict";eval("\r\n/*\r\n* The copyright in this software module is being made available under the BSD License, included\r\n* below. This software module may be subject to other third party and/or contributor rights,\r\n* including patent rights, and no such rights are granted under this license.\r\n*\r\n* Copyright (c) 2016, Orange\r\n* All rights reserved.\r\n*\r\n* Redistribution and use in source and binary forms, with or without modification, are permitted\r\n* provided that the following conditions are met:\r\n* - Redistributions of source code must retain the above copyright notice, this list of conditions\r\n*   and the following disclaimer.\r\n* - Redistributions in binary form must reproduce the above copyright notice, this list of\r\n*   conditions and the following disclaimer in the documentation and/or other materials provided\r\n*   with the distribution.\r\n* - Neither the name of Orange nor the names of its contributors may be used to endorse or promote\r\n*   products derived from this software module without specific prior written permission.\r\n*\r\n*\r\n* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS “AS IS” AND ANY EXPRESS OR\r\n* IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\r\n* FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER O\r\n* CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\r\n* DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\r\n* DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\r\n* WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY\r\n* WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Logger_1 = __webpack_require__(0);\r\nvar utils_1 = __webpack_require__(2);\r\nvar VideoPlayer = /** @class */ (function () {\r\n    // #endregion MEMBERS\r\n    // --------------------------------------------------\r\n    // #region PUBLIC FUNCTIONS\r\n    // --------------------------------------------------\r\n    function VideoPlayer() {\r\n        this.uri = '';\r\n        this.video = null;\r\n        this.logger = Logger_1.Logger.getInstance();\r\n    }\r\n    VideoPlayer.prototype.load = function (baseUrl, mediaFiles) {\r\n        // Get 'adsplayer-video' element if already declared in DOM\r\n        this.video = document.getElementById('adsplayer-video');\r\n        if (!this.video) {\r\n            // Create the video element\r\n            this.video = document.createElement('video');\r\n            this.video.autoplay = false;\r\n            this.video.id = 'adsplayer-video';\r\n        }\r\n        // Check if input format is supported\r\n        if (!this.isMediaSupported(mediaFiles[0].type)) {\r\n            return false;\r\n        }\r\n        // Sort the mediafiles in bitrate ascending order\r\n        mediaFiles.sort(function (a, b) {\r\n            if (a.bitrate && b.bitrate) {\r\n                return a.bitrate - b.bitrate;\r\n            }\r\n            return -1;\r\n        });\r\n        // Play the media file with lowest bitrate\r\n        this.uri = mediaFiles[0].uri;\r\n        // Add base URL\r\n        this.uri = utils_1.Utils.isAbsoluteURI(this.uri) ? this.uri : (baseUrl + this.uri);\r\n        this.logger.debug('Load video media, uri = ' + this.uri);\r\n        this.video.addEventListener('error', function (e) {\r\n            console.log(e);\r\n        });\r\n        this.video.src = this.uri;\r\n        return true;\r\n    };\r\n    VideoPlayer.prototype.getType = function () {\r\n        return 'video';\r\n    };\r\n    VideoPlayer.prototype.getElement = function () {\r\n        return this.video;\r\n    };\r\n    VideoPlayer.prototype.addEventListener = function (type, listener) {\r\n        if (!this.video) {\r\n            return;\r\n        }\r\n        this.video.addEventListener(type, listener);\r\n    };\r\n    VideoPlayer.prototype.removeEventListener = function (type, listener) {\r\n        if (!this.video) {\r\n            return;\r\n        }\r\n        this.video.removeEventListener(type, listener);\r\n    };\r\n    VideoPlayer.prototype.setDuration = function (duration) {\r\n        // duration is handled by the video element\r\n    };\r\n    VideoPlayer.prototype.getDuration = function () {\r\n        if (!this.video) {\r\n            return 0;\r\n        }\r\n        return this.video.duration;\r\n    };\r\n    VideoPlayer.prototype.getCurrentTime = function () {\r\n        if (!this.video) {\r\n            return 0;\r\n        }\r\n        return this.video.currentTime;\r\n    };\r\n    VideoPlayer.prototype.getVolume = function () {\r\n        if (!this.video) {\r\n            return 0;\r\n        }\r\n        return this.video.muted ? 0 : this.video.volume;\r\n    };\r\n    VideoPlayer.prototype.setVolume = function (volume) {\r\n        if (!this.video) {\r\n            return;\r\n        }\r\n        this.video.volume = volume;\r\n    };\r\n    VideoPlayer.prototype.play = function () {\r\n        if (!this.video) {\r\n            return;\r\n        }\r\n        this.video.play();\r\n    };\r\n    VideoPlayer.prototype.stop = function () {\r\n        if (!this.video) {\r\n            return;\r\n        }\r\n        this.video.pause();\r\n        this.video.removeAttribute('src');\r\n        this.video.load();\r\n    };\r\n    VideoPlayer.prototype.pause = function () {\r\n        if (!this.video) {\r\n            return;\r\n        }\r\n        this.video.pause();\r\n    };\r\n    VideoPlayer.prototype.reset = function () {\r\n        if (!this.video) {\r\n            return;\r\n        }\r\n        this.video = null;\r\n    };\r\n    VideoPlayer.prototype.isEnded = function () {\r\n        return this.video.ended;\r\n    };\r\n    // #endregion PUBLIC FUNCTIONS\r\n    // --------------------------------------------------\r\n    // #region PRIVATE FUNCTIONS\r\n    // --------------------------------------------------    \r\n    VideoPlayer.prototype.isMediaSupported = function (mimeType) {\r\n        if (!this.video) {\r\n            throw 'isMediaSupported(): element not created';\r\n        }\r\n        if (!(this.video instanceof HTMLMediaElement)) {\r\n            throw 'isMediaSupported(): element must be of type HTMLMediaElement';\r\n        }\r\n        var canPlay = this.video.canPlayType(mimeType);\r\n        return (canPlay === 'probably' || canPlay === 'maybe');\r\n    };\r\n    return VideoPlayer;\r\n}());\r\nexports.VideoPlayer = VideoPlayer;\r\nexports.default = VideoPlayer;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hZHNwbGF5ZXIvLi9zcmMvbGliL21lZGlhL1ZpZGVvUGxheWVyLnRzP2ZkMmUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7RUEyQkU7O0FBUUYsc0NBQWtDO0FBQ2xDLHFDQUFzQztBQUd0QztJQVNJLHFCQUFxQjtJQUNyQixxREFBcUQ7SUFFckQsMkJBQTJCO0lBQzNCLHFEQUFxRDtJQUVyRDtRQUNJLElBQUksQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDO1FBQ2QsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUM7UUFDbEIsSUFBSSxDQUFDLE1BQU0sR0FBRyxlQUFNLENBQUMsV0FBVyxFQUFFLENBQUM7SUFDdkMsQ0FBQztJQUVELDBCQUFJLEdBQUosVUFBTSxPQUFlLEVBQUUsVUFBNEI7UUFFL0MsMkRBQTJEO1FBQzNELElBQUksQ0FBQyxLQUFLLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxpQkFBaUIsQ0FBcUIsQ0FBQztRQUU1RSxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRTtZQUNiLDJCQUEyQjtZQUMzQixJQUFJLENBQUMsS0FBSyxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDN0MsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDO1lBQzVCLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRSxHQUFHLGlCQUFpQixDQUFDO1NBQ3JDO1FBRUQscUNBQXFDO1FBQ3JDLElBQUksQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFO1lBQzVDLE9BQU8sS0FBSyxDQUFDO1NBQ2hCO1FBRUQsaURBQWlEO1FBQ2pELFVBQVUsQ0FBQyxJQUFJLENBQUMsVUFBUyxDQUFDLEVBQUUsQ0FBQztZQUN6QixJQUFJLENBQUMsQ0FBQyxPQUFPLElBQUksQ0FBQyxD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S1ksa0NBQVc7QUErS3hCLGtCQUFlLFdBQVcsQ0FBQyIsImZpbGUiOiIyMS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXHJcbiogVGhlIGNvcHlyaWdodCBpbiB0aGlzIHNvZnR3YXJlIG1vZHVsZSBpcyBiZWluZyBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgQlNEIExpY2Vuc2UsIGluY2x1ZGVkXHJcbiogYmVsb3cuIFRoaXMgc29mdHdhcmUgbW9kdWxlIG1heSBiZSBzdWJqZWN0IHRvIG90aGVyIHRoaXJkIHBhcnR5IGFuZC9vciBjb250cmlidXRvciByaWdodHMsXHJcbiogaW5jbHVkaW5nIHBhdGVudCByaWdodHMsIGFuZCBubyBzdWNoIHJpZ2h0cyBhcmUgZ3JhbnRlZCB1bmRlciB0aGlzIGxpY2Vuc2UuXHJcbipcclxuKiBDb3B5cmlnaHQgKGMpIDIwMTYsIE9yYW5nZVxyXG4qIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbipcclxuKiBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXQgbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkXHJcbiogcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlIG1ldDpcclxuKiAtIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnNcclxuKiAgIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXHJcbiogLSBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdCBvZlxyXG4qICAgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZSBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWRcclxuKiAgIHdpdGggdGhlIGRpc3RyaWJ1dGlvbi5cclxuKiAtIE5laXRoZXIgdGhlIG5hbWUgb2YgT3JhbmdlIG5vciB0aGUgbmFtZXMgb2YgaXRzIGNvbnRyaWJ1dG9ycyBtYXkgYmUgdXNlZCB0byBlbmRvcnNlIG9yIHByb21vdGVcclxuKiAgIHByb2R1Y3RzIGRlcml2ZWQgZnJvbSB0aGlzIHNvZnR3YXJlIG1vZHVsZSB3aXRob3V0IHNwZWNpZmljIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi5cclxuKlxyXG4qXHJcbiogVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SUyDigJxBUyBJU+KAnSBBTkQgQU5ZIEVYUFJFU1MgT1JcclxuKiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkRcclxuKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVCBIT0xERVIgT1xyXG4qIENPTlRSSUJVVE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLCBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUxcclxuKiBEQU1BR0VTIChJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsXHJcbiogREFUQSwgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZIFRIRU9SWSBPRiBMSUFCSUxJVFksXHJcbiogV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVCAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWVxyXG4qIFdBWSBPVVQgT0YgVEhFIFVTRSBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxyXG4qL1xyXG5cclxuLyoqXHJcbiogVGhlIFZpZGVvUGxheWVyIGlzIGEgTWVkaWFQbGF5ZXIgaW1wbGVtZW50YXRpb24gZm9yIHBsYXlpbmcgdmlkZW8gZmlsZXMuXHJcbiovXHJcblxyXG5pbXBvcnQgKiBhcyB2YXN0IGZyb20gJy4uL3Zhc3QvbW9kZWwvVmFzdCdcclxuaW1wb3J0IHsgTWVkaWFQbGF5ZXIgfSBmcm9tICcuL01lZGlhUGxheWVyJ1xyXG5pbXBvcnQgeyBMb2dnZXIgfSBmcm9tICcuLi9Mb2dnZXInXHJcbmltcG9ydCB7IFV0aWxzIH0gZnJvbSAnLi4vdXRpbHMvdXRpbHMnXHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIFZpZGVvUGxheWVyIGltcGxlbWVudHMgTWVkaWFQbGF5ZXIge1xyXG5cclxuICAgIC8vICNyZWdpb24gTUVNQkVSU1xyXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgICBwcml2YXRlIHVyaTogc3RyaW5nO1xyXG4gICAgcHJpdmF0ZSB2aWRlbzogSFRNTE1lZGlhRWxlbWVudDtcclxuICAgIHByaXZhdGUgbG9nZ2VyOiBMb2dnZXI7XHJcblxyXG4gICAgLy8gI2VuZHJlZ2lvbiBNRU1CRVJTXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgIC8vICNyZWdpb24gUFVCTElDIEZVTkNUSU9OU1xyXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLnVyaSA9ICcnO1xyXG4gICAgICAgIHRoaXMudmlkZW8gPSBudWxsO1xyXG4gICAgICAgIHRoaXMubG9nZ2VyID0gTG9nZ2VyLmdldEluc3RhbmNlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgbG9hZCAoYmFzZVVybDogc3RyaW5nLCBtZWRpYUZpbGVzOiB2YXN0Lk1lZGlhRmlsZVtdKSB7XHJcblxyXG4gICAgICAgIC8vIEdldCAnYWRzcGxheWVyLXZpZGVvJyBlbGVtZW50IGlmIGFscmVhZHkgZGVjbGFyZWQgaW4gRE9NXHJcbiAgICAgICAgdGhpcy52aWRlbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZHNwbGF5ZXItdmlkZW8nKSBhcyBIVE1MTWVkaWFFbGVtZW50O1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMudmlkZW8pIHtcclxuICAgICAgICAgICAgLy8gQ3JlYXRlIHRoZSB2aWRlbyBlbGVtZW50XHJcbiAgICAgICAgICAgIHRoaXMudmlkZW8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd2aWRlbycpO1xyXG4gICAgICAgICAgICB0aGlzLnZpZGVvLmF1dG9wbGF5ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMudmlkZW8uaWQgPSAnYWRzcGxheWVyLXZpZGVvJztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENoZWNrIGlmIGlucHV0IGZvcm1hdCBpcyBzdXBwb3J0ZWRcclxuICAgICAgICBpZiAoIXRoaXMuaXNNZWRpYVN1cHBvcnRlZChtZWRpYUZpbGVzWzBdLnR5cGUpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFNvcnQgdGhlIG1lZGlhZmlsZXMgaW4gYml0cmF0ZSBhc2NlbmRpbmcgb3JkZXJcclxuICAgICAgICBtZWRpYUZpbGVzLnNvcnQoZnVuY3Rpb24oYSwgYikge1xyXG4gICAgICAgICAgICBpZiAoYS5iaXRyYXRlICYmIGIuYml0cmF0ZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGEuYml0cmF0ZSAtIGIuYml0cmF0ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gLTE7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIFBsYXkgdGhlIG1lZGlhIGZpbGUgd2l0aCBsb3dlc3QgYml0cmF0ZVxyXG4gICAgICAgIHRoaXMudXJpID0gbWVkaWFGaWxlc1swXS51cmk7XHJcblxyXG4gICAgICAgIC8vIEFkZCBiYXNlIFVSTFxyXG4gICAgICAgIHRoaXMudXJpID0gVXRpbHMuaXNBYnNvbHV0ZVVSSSh0aGlzLnVyaSkgPyB0aGlzLnVyaSA6IChiYXNlVXJsICsgdGhpcy51cmkpO1xyXG5cclxuICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZygnTG9hZCB2aWRlbyBtZWRpYSwgdXJpID0gJyArIHRoaXMudXJpKTtcclxuXHJcbiAgICAgICAgdGhpcy52aWRlby5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMudmlkZW8uc3JjID0gdGhpcy51cmk7XHJcblxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFR5cGUgKCkge1xyXG4gICAgICAgIHJldHVybiAndmlkZW8nO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEVsZW1lbnQgKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnZpZGVvO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZEV2ZW50TGlzdGVuZXIgKHR5cGU6IHN0cmluZywgbGlzdGVuZXI6IGFueSkge1xyXG4gICAgICAgIGlmICghdGhpcy52aWRlbykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMudmlkZW8uYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcik7XHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlRXZlbnRMaXN0ZW5lciAodHlwZTogc3RyaW5nLCBsaXN0ZW5lcjogYW55KSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnZpZGVvKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy52aWRlby5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXREdXJhdGlvbiAoZHVyYXRpb246IG51bWJlcikge1xyXG4gICAgICAgIC8vIGR1cmF0aW9uIGlzIGhhbmRsZWQgYnkgdGhlIHZpZGVvIGVsZW1lbnRcclxuICAgIH1cclxuXHJcbiAgICBnZXREdXJhdGlvbiAoKTogbnVtYmVyIHtcclxuICAgICAgICBpZiAoIXRoaXMudmlkZW8pIHtcclxuICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLnZpZGVvLmR1cmF0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEN1cnJlbnRUaW1lICgpOiBudW1iZXIge1xyXG4gICAgICAgIGlmICghdGhpcy52aWRlbykge1xyXG4gICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudmlkZW8uY3VycmVudFRpbWU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Vm9sdW1lICgpOiBudW1iZXIge1xyXG4gICAgICAgIGlmICghdGhpcy52aWRlbykge1xyXG4gICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudmlkZW8ubXV0ZWQgPyAwIDogdGhpcy52aWRlby52b2x1bWU7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0Vm9sdW1lICh2b2x1bWU6IG51bWJlcikge1xyXG4gICAgICAgIGlmICghdGhpcy52aWRlbykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMudmlkZW8udm9sdW1lID0gdm9sdW1lO1xyXG4gICAgfVxyXG5cclxuICAgIHBsYXkgKCkge1xyXG4gICAgICAgIGlmICghdGhpcy52aWRlbykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMudmlkZW8ucGxheSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0b3AgKCkge1xyXG4gICAgICAgIGlmICghdGhpcy52aWRlbykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMudmlkZW8ucGF1c2UoKTtcclxuICAgICAgICB0aGlzLnZpZGVvLnJlbW92ZUF0dHJpYnV0ZSgnc3JjJyk7XHJcbiAgICAgICAgdGhpcy52aWRlby5sb2FkKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcGF1c2UgKCkge1xyXG4gICAgICAgIGlmICghdGhpcy52aWRlbykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMudmlkZW8ucGF1c2UoKTtcclxuICAgIH1cclxuXHJcbiAgICByZXNldCAoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnZpZGVvKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy52aWRlbyA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgaXNFbmRlZCAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudmlkZW8uZW5kZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gI2VuZHJlZ2lvbiBQVUJMSUMgRlVOQ1RJT05TXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgIC8vICNyZWdpb24gUFJJVkFURSBGVU5DVElPTlNcclxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICAgIFxyXG5cclxuICAgIHByaXZhdGUgaXNNZWRpYVN1cHBvcnRlZCAobWltZVR5cGUpIHtcclxuICAgICAgICBpZiAoIXRoaXMudmlkZW8pIHtcclxuICAgICAgICAgICAgdGhyb3cgJ2lzTWVkaWFTdXBwb3J0ZWQoKTogZWxlbWVudCBub3QgY3JlYXRlZCc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghKHRoaXMudmlkZW8gaW5zdGFuY2VvZiBIVE1MTWVkaWFFbGVtZW50KSkge1xyXG4gICAgICAgICAgICB0aHJvdyAnaXNNZWRpYVN1cHBvcnRlZCgpOiBlbGVtZW50IG11c3QgYmUgb2YgdHlwZSBIVE1MTWVkaWFFbGVtZW50JztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBjYW5QbGF5ID0gdGhpcy52aWRlby5jYW5QbGF5VHlwZShtaW1lVHlwZSk7XHJcbiAgICAgICAgcmV0dXJuIChjYW5QbGF5ID09PSAncHJvYmFibHknIHx8IGNhblBsYXkgPT09ICdtYXliZScpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vICNlbmRyZWdpb24gUFJJVkFURSBGVU5DVElPTlNcclxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICAgIFxyXG5cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFZpZGVvUGxheWVyO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///21\n")},function(module,exports,__webpack_require__){"use strict";eval("\r\n/*\r\n* The copyright in this software module is being made available under the BSD License, included\r\n* below. This software module may be subject to other third party and/or contributor rights,\r\n* including patent rights, and no such rights are granted under this license.\r\n*\r\n* Copyright (c) 2016, Orange\r\n* All rights reserved.\r\n*\r\n* Redistribution and use in source and binary forms, with or without modification, are permitted\r\n* provided that the following conditions are met:\r\n* - Redistributions of source code must retain the above copyright notice, this list of conditions\r\n*   and the following disclaimer.\r\n* - Redistributions in binary form must reproduce the above copyright notice, this list of\r\n*   conditions and the following disclaimer in the documentation and/or other materials provided\r\n*   with the distribution.\r\n* - Neither the name of Orange nor the names of its contributors may be used to endorse or promote\r\n*   products derived from this software module without specific prior written permission.\r\n*\r\n*\r\n* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS “AS IS” AND ANY EXPRESS OR\r\n* IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\r\n* FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER O\r\n* CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\r\n* DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\r\n* DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\r\n* WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY\r\n* WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Logger_1 = __webpack_require__(0);\r\nvar utils_1 = __webpack_require__(2);\r\nvar ImagePlayer = /** @class */ (function () {\r\n    // #endregion MEMBERS\r\n    // --------------------------------------------------\r\n    // #region PUBLIC FUNCTIONS\r\n    // --------------------------------------------------\r\n    function ImagePlayer() {\r\n        this.listeners = {};\r\n        this.uri = '';\r\n        this.image = null;\r\n        this.duration = 0;\r\n        this.currentTime = 0;\r\n        this.ended = false;\r\n        this.listeners = {};\r\n        this.timerInterval = null;\r\n        this.timerTime = -1;\r\n        this.events = ['play', 'pause', 'timeupdate', 'ended'];\r\n        this.logger = Logger_1.Logger.getInstance();\r\n    }\r\n    ImagePlayer.prototype.load = function (baseUrl, mediaFiles) {\r\n        var mediaFile = null;\r\n        // Load the first supported image format\r\n        // Support only jpeg, png and gif image formats\r\n        for (var i = 0; i < mediaFiles.length; i++) {\r\n            var type = mediaFiles[i].type;\r\n            if ((type === 'image/jpeg') || (type === 'image/jpg') || (type === 'image/png') || (type === 'image/gif')) {\r\n                mediaFile = mediaFiles[i];\r\n                break;\r\n            }\r\n        }\r\n        if (mediaFile === null) {\r\n            return false;\r\n        }\r\n        // Get adsplayer-image element if already declared in DOM\r\n        this.image = document.getElementById('adsplayer-image');\r\n        if (!this.image) {\r\n            // Create the image element\r\n            this.image = document.createElement('img');\r\n            this.image.id = 'adsplayer-image';\r\n        }\r\n        // Add base URL\r\n        this.uri = mediaFile.uri;\r\n        this.uri = utils_1.Utils.isAbsoluteURI(this.uri) ? this.uri : (baseUrl + this.uri);\r\n        this.logger.debug('Load image media, uri = ' + this.uri);\r\n        this.image.setAttribute('src', this.uri);\r\n        // Reset current time\r\n        this.currentTime = 0;\r\n        this.ended = false;\r\n        return true;\r\n    };\r\n    ImagePlayer.prototype.getType = function () {\r\n        return 'image';\r\n    };\r\n    ImagePlayer.prototype.getElement = function () {\r\n        return this.image;\r\n    };\r\n    ImagePlayer.prototype.addEventListener = function (type, listener) {\r\n        if (!this.image) {\r\n            return;\r\n        }\r\n        if (this.events.indexOf(type) !== -1) {\r\n            this.addEventListener_(type, listener);\r\n        }\r\n        else {\r\n            this.image.addEventListener(type, listener);\r\n        }\r\n    };\r\n    ImagePlayer.prototype.removeEventListener = function (type, listener) {\r\n        if (!this.image) {\r\n            return;\r\n        }\r\n        if (this.events.indexOf(type) !== -1) {\r\n            this.removeEventListener_(type, listener);\r\n        }\r\n        else {\r\n            this.image.removeEventListener(type, listener);\r\n        }\r\n    };\r\n    ImagePlayer.prototype.setDuration = function (duration) {\r\n        this.duration = duration;\r\n    };\r\n    ImagePlayer.prototype.getDuration = function () {\r\n        return this.duration;\r\n    };\r\n    ImagePlayer.prototype.getCurrentTime = function () {\r\n        return this.currentTime;\r\n    };\r\n    ImagePlayer.prototype.setVolume = function (volume) {\r\n        // NA\r\n    };\r\n    ImagePlayer.prototype.getVolume = function () {\r\n        return 0;\r\n    };\r\n    ImagePlayer.prototype.play = function () {\r\n        if (!this.image) {\r\n            return;\r\n        }\r\n        this.startTimer();\r\n    };\r\n    ImagePlayer.prototype.pause = function () {\r\n        if (!this.image) {\r\n            return;\r\n        }\r\n        this.stopTimer();\r\n    };\r\n    ImagePlayer.prototype.stop = function () {\r\n        if (!this.image) {\r\n            return;\r\n        }\r\n        this.stopTimer();\r\n    };\r\n    ImagePlayer.prototype.reset = function () {\r\n        if (!this.image) {\r\n            return;\r\n        }\r\n        this.image = null;\r\n        this.listeners = {};\r\n    };\r\n    ImagePlayer.prototype.isEnded = function () {\r\n        return this.ended;\r\n    };\r\n    // #region PRIVATE FUNCTIONS\r\n    // --------------------------------------------------\r\n    ImagePlayer.prototype.getListeners = function (type) {\r\n        if (!(type in this.listeners)) {\r\n            this.listeners[type] = [];\r\n        }\r\n        return this.listeners[type];\r\n    };\r\n    ImagePlayer.prototype.addEventListener_ = function (type, listener) {\r\n        var listeners = this.getListeners(type), idx = listeners.indexOf(listener);\r\n        if (idx === -1) {\r\n            listeners.push(listener);\r\n        }\r\n    };\r\n    ImagePlayer.prototype.removeEventListener_ = function (type, listener) {\r\n        var listeners = this.getListeners(type), idx = listeners.indexOf(listener);\r\n        if (idx !== -1) {\r\n            listeners.splice(idx, 1);\r\n        }\r\n    };\r\n    ImagePlayer.prototype.notifyEvent = function (type) {\r\n        var listeners = this.getListeners(type);\r\n        for (var i = 0; i < listeners.length; i++) {\r\n            listeners[i].call(this);\r\n        }\r\n    };\r\n    ImagePlayer.prototype.updateCurrentTime = function () {\r\n        var time = new Date().getTime();\r\n        this.currentTime += (time - this.timerTime) / 1000;\r\n        //this.logger.log('Image timeupdate, time = ' + this.currentTime);\r\n        this.notifyEvent('timeupdate');\r\n        if (this.currentTime >= this.duration) {\r\n            this.stopTimer();\r\n            this.ended = true;\r\n            this.notifyEvent('ended');\r\n        }\r\n        this.timerTime = time;\r\n    };\r\n    ImagePlayer.prototype.startTimer = function () {\r\n        if (this.timerInterval !== null) {\r\n            return;\r\n        }\r\n        this.notifyEvent('play');\r\n        this.timerTime = new Date().getTime();\r\n        this.timerInterval = setInterval(this.updateCurrentTime.bind(this), 200);\r\n    };\r\n    ImagePlayer.prototype.stopTimer = function () {\r\n        if (this.timerInterval === null) {\r\n            return;\r\n        }\r\n        this.notifyEvent('pause');\r\n        clearInterval(this.timerInterval);\r\n        this.timerInterval = null;\r\n    };\r\n    return ImagePlayer;\r\n}());\r\nexports.ImagePlayer = ImagePlayer;\r\nexports.default = ImagePlayer;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hZHNwbGF5ZXIvLi9zcmMvbGliL21lZGlhL0ltYWdlUGxheWVyLnRzPzU5ZTYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7RUEyQkU7O0FBUUYsc0NBQW1DO0FBQ25DLHFDQUF1QztBQUd2QztJQWdCSSxxQkFBcUI7SUFDckIscURBQXFEO0lBRXJELDJCQUEyQjtJQUMzQixxREFBcUQ7SUFFckQ7UUFaUSxjQUFTLEdBQUcsRUFBRSxDQUFDO1FBYW5CLElBQUksQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDO1FBQ2QsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUM7UUFDbEIsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUM7UUFDbEIsSUFBSSxDQUFDLFdBQVcsR0FBRyxDQUFDLENBQUM7UUFDckIsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7UUFDbkIsSUFBSSxDQUFDLFNBQVMsR0FBRyxFQUFFLENBQUM7UUFDcEIsSUFBSSxDQUFDLGFBQWEsR0FBRyxJQUFJLENBQUM7UUFDMUIsSUFBSSxDQUFDLFNBQVMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNwQixJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsTUFBTSxFQUFFLE9BQU8sRUFBRSxZQUFZLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDdkQsSUFBSSxDQUFDLE1BQU0sR0FBRyxlQUFNLENBQUMsV0FBVyxFQUFFLENBQUM7SUFDdkMsQ0FBQztJQUVELDBCQUFJLEdBQUosVUFBTSxPQUFlLEVBQUUsVUFBNEI7UUFFL0MsSUFBSSxTQUFTLEdBQW1CLElBQUksQ0FBQztRQUVyQyx3Q0FBd0M7UUFDeEMsK0NBQStDO1FBQy9DLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxVQUFVLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO1lBQ3hDLElBQUksSUFBSSxHQUFHLFVBQVUsQ0FBQyxDQUFD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SSxDQUFDLFdBQVcsQ0FBQyxZQUFZLENBQUMsQ0FBQztRQUUvQixJQUFJLElBQUksQ0FBQyxXQUFXLElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRTtZQUNuQyxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7WUFDakIsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUM7WUFDbEIsSUFBSSxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUMsQ0FBQztTQUM3QjtRQUVELElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDO0lBQzFCLENBQUM7SUFFTyxnQ0FBVSxHQUFsQjtRQUNJLElBQUksSUFBSSxDQUFDLGFBQWEsS0FBSyxJQUFJLEVBQUU7WUFDN0IsT0FBTztTQUNWO1FBQ0QsSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUN6QixJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksSUFBSSxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUM7UUFDdEMsSUFBSSxDQUFDLGFBQWEsR0FBRyxXQUFXLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQztJQUM3RSxDQUFDO0lBRU8sK0JBQVMsR0FBakI7UUFDSSxJQUFJLElBQUksQ0FBQyxhQUFhLEtBQUssSUFBSSxFQUFFO1lBQzdCLE9BQU87U0FDVjtRQUNELElBQUksQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDMUIsYUFBYSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQztRQUNsQyxJQUFJLENBQUMsYUFBYSxHQUFHLElBQUksQ0FBQztJQUM5QixDQUFDO0lBSUwsa0JBQUM7QUFBRCxDQUFDO0FBdk9ZLGtDQUFXO0FBeU94QixrQkFBZSxXQUFXLENBQUMiLCJmaWxlIjoiMjIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxyXG4qIFRoZSBjb3B5cmlnaHQgaW4gdGhpcyBzb2Z0d2FyZSBtb2R1bGUgaXMgYmVpbmcgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlIEJTRCBMaWNlbnNlLCBpbmNsdWRlZFxyXG4qIGJlbG93LiBUaGlzIHNvZnR3YXJlIG1vZHVsZSBtYXkgYmUgc3ViamVjdCB0byBvdGhlciB0aGlyZCBwYXJ0eSBhbmQvb3IgY29udHJpYnV0b3IgcmlnaHRzLFxyXG4qIGluY2x1ZGluZyBwYXRlbnQgcmlnaHRzLCBhbmQgbm8gc3VjaCByaWdodHMgYXJlIGdyYW50ZWQgdW5kZXIgdGhpcyBsaWNlbnNlLlxyXG4qXHJcbiogQ29weXJpZ2h0IChjKSAyMDE2LCBPcmFuZ2VcclxuKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4qXHJcbiogUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0IG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZFxyXG4qIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZSBtZXQ6XHJcbiogLSBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zXHJcbiogICBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxyXG4qIC0gUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLCB0aGlzIGxpc3Qgb2ZcclxuKiAgIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lciBpbiB0aGUgZG9jdW1lbnRhdGlvbiBhbmQvb3Igb3RoZXIgbWF0ZXJpYWxzIHByb3ZpZGVkXHJcbiogICB3aXRoIHRoZSBkaXN0cmlidXRpb24uXHJcbiogLSBOZWl0aGVyIHRoZSBuYW1lIG9mIE9yYW5nZSBub3IgdGhlIG5hbWVzIG9mIGl0cyBjb250cmlidXRvcnMgbWF5IGJlIHVzZWQgdG8gZW5kb3JzZSBvciBwcm9tb3RlXHJcbiogICBwcm9kdWN0cyBkZXJpdmVkIGZyb20gdGhpcyBzb2Z0d2FyZSBtb2R1bGUgd2l0aG91dCBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXHJcbipcclxuKlxyXG4qIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlMg4oCcQVMgSVPigJ0gQU5EIEFOWSBFWFBSRVNTIE9SXHJcbiogSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgVEhFIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EXHJcbiogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQVJFIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFQgSE9MREVSIE9cclxuKiBDT05UUklCVVRPUlMgQkUgTElBQkxFIEZPUiBBTlkgRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCwgU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMXHJcbiogREFNQUdFUyAoSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLFxyXG4qIERBVEEsIE9SIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWSBUSEVPUlkgT0YgTElBQklMSVRZLFxyXG4qIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlQgKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSkgQVJJU0lORyBJTiBBTllcclxuKiBXQVkgT1VUIE9GIFRIRSBVU0UgT0YgVEhJUyBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cclxuKi9cclxuXHJcbi8qKlxyXG4qIFRoZSBJbWFnZVBsYXllciBpcyBhIE1lZGlhUGxheWVyIGltcGxlbWVudGF0aW9uIGZvciBwbGF5aW5nIHN0aWxsIGltYWdlcy5cclxuKi9cclxuXHJcbmltcG9ydCAqIGFzIHZhc3QgZnJvbSAnLi4vdmFzdC9tb2RlbC9WYXN0J1xyXG5pbXBvcnQgeyBNZWRpYVBsYXllciB9IGZyb20gJy4vTWVkaWFQbGF5ZXInXHJcbmltcG9ydCB7IExvZ2dlciB9IGZyb20gJy4uL0xvZ2dlcic7XHJcbmltcG9ydCB7IFV0aWxzIH0gZnJvbSAnLi4vdXRpbHMvdXRpbHMnO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBJbWFnZVBsYXllciBpbXBsZW1lbnRzIE1lZGlhUGxheWVyIHtcclxuXHJcbiAgICAvLyAjcmVnaW9uIE1FTUJFUlNcclxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICAgcHJpdmF0ZSB1cmk6IHN0cmluZztcclxuICAgIHByaXZhdGUgaW1hZ2U6IEhUTUxFbGVtZW50O1xyXG4gICAgcHJpdmF0ZSBkdXJhdGlvbjogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBjdXJyZW50VGltZTogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBlbmRlZDogYm9vbGVhbjtcclxuICAgIHByaXZhdGUgbGlzdGVuZXJzID0ge307XHJcbiAgICBwcml2YXRlIHRpbWVySW50ZXJ2YWw7XHJcbiAgICBwcml2YXRlIHRpbWVyVGltZTtcclxuICAgIHByaXZhdGUgZXZlbnRzOiBzdHJpbmdbXTtcclxuICAgIHByaXZhdGUgbG9nZ2VyOiBMb2dnZXI7XHJcblxyXG4gICAgLy8gI2VuZHJlZ2lvbiBNRU1CRVJTXHJcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgIC8vICNyZWdpb24gUFVCTElDIEZVTkNUSU9OU1xyXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLnVyaSA9ICcnO1xyXG4gICAgICAgIHRoaXMuaW1hZ2UgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuZHVyYXRpb24gPSAwO1xyXG4gICAgICAgIHRoaXMuY3VycmVudFRpbWUgPSAwO1xyXG4gICAgICAgIHRoaXMuZW5kZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmxpc3RlbmVycyA9IHt9O1xyXG4gICAgICAgIHRoaXMudGltZXJJbnRlcnZhbCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy50aW1lclRpbWUgPSAtMTtcclxuICAgICAgICB0aGlzLmV2ZW50cyA9IFsncGxheScsICdwYXVzZScsICd0aW1ldXBkYXRlJywgJ2VuZGVkJ107XHJcbiAgICAgICAgdGhpcy5sb2dnZXIgPSBMb2dnZXIuZ2V0SW5zdGFuY2UoKTtcclxuICAgIH1cclxuXHJcbiAgICBsb2FkIChiYXNlVXJsOiBzdHJpbmcsIG1lZGlhRmlsZXM6IHZhc3QuTWVkaWFGaWxlW10pIHtcclxuXHJcbiAgICAgICAgdmFyIG1lZGlhRmlsZTogdmFzdC5NZWRpYUZpbGUgPSBudWxsO1xyXG5cclxuICAgICAgICAvLyBMb2FkIHRoZSBmaXJzdCBzdXBwb3J0ZWQgaW1hZ2UgZm9ybWF0XHJcbiAgICAgICAgLy8gU3VwcG9ydCBvbmx5IGpwZWcsIHBuZyBhbmQgZ2lmIGltYWdlIGZvcm1hdHNcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1lZGlhRmlsZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IHR5cGUgPSBtZWRpYUZpbGVzW2ldLnR5cGU7XHJcbiAgICAgICAgICAgIGlmICgodHlwZSA9PT0gJ2ltYWdlL2pwZWcnKSB8fCAodHlwZSA9PT0gJ2ltYWdlL2pwZycpIHx8ICh0eXBlID09PSAnaW1hZ2UvcG5nJykgfHwgKHR5cGUgPT09ICdpbWFnZS9naWYnKSkge1xyXG4gICAgICAgICAgICAgICAgbWVkaWFGaWxlID0gbWVkaWFGaWxlc1tpXTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAobWVkaWFGaWxlID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEdldCBhZHNwbGF5ZXItaW1hZ2UgZWxlbWVudCBpZiBhbHJlYWR5IGRlY2xhcmVkIGluIERPTVxyXG4gICAgICAgIHRoaXMuaW1hZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRzcGxheWVyLWltYWdlJyk7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5pbWFnZSkge1xyXG4gICAgICAgICAgICAvLyBDcmVhdGUgdGhlIGltYWdlIGVsZW1lbnRcclxuICAgICAgICAgICAgdGhpcy5pbWFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xyXG4gICAgICAgICAgICB0aGlzLmltYWdlLmlkID0gJ2Fkc3BsYXllci1pbWFnZSc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBBZGQgYmFzZSBVUkxcclxuICAgICAgICB0aGlzLnVyaSA9IG1lZGlhRmlsZS51cmk7XHJcbiAgICAgICAgdGhpcy51cmkgPSBVdGlscy5pc0Fic29sdXRlVVJJKHRoaXMudXJpKSA/IHRoaXMudXJpIDogKGJhc2VVcmwgKyB0aGlzLnVyaSk7XHJcblxyXG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKCdMb2FkIGltYWdlIG1lZGlhLCB1cmkgPSAnICsgdGhpcy51cmkpO1xyXG4gICAgICAgIHRoaXMuaW1hZ2Uuc2V0QXR0cmlidXRlKCdzcmMnLCB0aGlzLnVyaSk7XHJcblxyXG4gICAgICAgIC8vIFJlc2V0IGN1cnJlbnQgdGltZVxyXG4gICAgICAgIHRoaXMuY3VycmVudFRpbWUgPSAwO1xyXG4gICAgICAgIHRoaXMuZW5kZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VHlwZSAoKSB7XHJcbiAgICAgICAgcmV0dXJuICdpbWFnZSc7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RWxlbWVudCAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaW1hZ2U7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkRXZlbnRMaXN0ZW5lciAodHlwZTogc3RyaW5nLCBsaXN0ZW5lcjogYW55KSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmltYWdlKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuZXZlbnRzLmluZGV4T2YodHlwZSkgIT09IC0xKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcl8odHlwZSwgbGlzdGVuZXIpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlbW92ZUV2ZW50TGlzdGVuZXIgKHR5cGU6IHN0cmluZywgbGlzdGVuZXI6IGFueSkge1xyXG4gICAgICAgIGlmICghdGhpcy5pbWFnZSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmV2ZW50cy5pbmRleE9mKHR5cGUpICE9PSAtMSkge1xyXG4gICAgICAgICAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXJfKHR5cGUsIGxpc3RlbmVyKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmltYWdlLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzZXREdXJhdGlvbiAoZHVyYXRpb246IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMuZHVyYXRpb24gPSBkdXJhdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICBnZXREdXJhdGlvbiAoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5kdXJhdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICBnZXRDdXJyZW50VGltZSAoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50VGltZTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRWb2x1bWUgKHZvbHVtZTogbnVtYmVyKSB7XHJcbiAgICAgICAgLy8gTkFcclxuICAgIH1cclxuXHJcbiAgICBnZXRWb2x1bWUgKCkge1xyXG4gICAgICAgIHJldHVybiAwO1xyXG4gICAgfVxyXG5cclxuICAgIHBsYXkgKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5pbWFnZSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc3RhcnRUaW1lcigpO1xyXG4gICAgfVxyXG5cclxuICAgIHBhdXNlICgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaW1hZ2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnN0b3BUaW1lcigpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0b3AgKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5pbWFnZSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc3RvcFRpbWVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVzZXQgKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5pbWFnZSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuaW1hZ2UgPSBudWxsO1xyXG4gICAgICAgIHRoaXMubGlzdGVuZXJzID0ge307XHJcbiAgICB9XHJcblxyXG4gICAgaXNFbmRlZCAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZW5kZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gI3JlZ2lvbiBQUklWQVRFIEZVTkNUSU9OU1xyXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgICBwcml2YXRlIGdldExpc3RlbmVycyAodHlwZSkge1xyXG4gICAgICAgIGlmICghKHR5cGUgaW4gdGhpcy5saXN0ZW5lcnMpKSB7XHJcbiAgICAgICAgICAgIHRoaXMubGlzdGVuZXJzW3R5cGVdID0gW107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLmxpc3RlbmVyc1t0eXBlXTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGFkZEV2ZW50TGlzdGVuZXJfICh0eXBlOiBzdHJpbmcsIGxpc3RlbmVyOiBhbnkpIHtcclxuICAgICAgICBsZXQgbGlzdGVuZXJzID0gdGhpcy5nZXRMaXN0ZW5lcnModHlwZSksXHJcbiAgICAgICAgICAgIGlkeCA9IGxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKTtcclxuXHJcbiAgICAgICAgaWYgKGlkeCA9PT0gLTEpIHtcclxuICAgICAgICAgICAgbGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHJlbW92ZUV2ZW50TGlzdGVuZXJfICh0eXBlOiBzdHJpbmcsIGxpc3RlbmVyOiBhbnkpIHtcclxuICAgICAgICBsZXQgbGlzdGVuZXJzID0gdGhpcy5nZXRMaXN0ZW5lcnModHlwZSksXHJcbiAgICAgICAgICAgIGlkeCA9IGxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKTtcclxuXHJcbiAgICAgICAgaWYgKGlkeCAhPT0gLTEpIHtcclxuICAgICAgICAgICAgbGlzdGVuZXJzLnNwbGljZShpZHgsIDEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIG5vdGlmeUV2ZW50ICh0eXBlKSB7XHJcbiAgICAgICAgbGV0IGxpc3RlbmVycyA9IHRoaXMuZ2V0TGlzdGVuZXJzKHR5cGUpO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBsaXN0ZW5lcnNbaV0uY2FsbCh0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB1cGRhdGVDdXJyZW50VGltZSAoKSB7XHJcbiAgICAgICAgbGV0IHRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuXHJcbiAgICAgICAgdGhpcy5jdXJyZW50VGltZSArPSAodGltZSAtIHRoaXMudGltZXJUaW1lKSAvIDEwMDA7XHJcbiAgICAgICAgLy90aGlzLmxvZ2dlci5sb2coJ0ltYWdlIHRpbWV1cGRhdGUsIHRpbWUgPSAnICsgdGhpcy5jdXJyZW50VGltZSk7XHJcbiAgICAgICAgdGhpcy5ub3RpZnlFdmVudCgndGltZXVwZGF0ZScpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5jdXJyZW50VGltZSA+PSB0aGlzLmR1cmF0aW9uKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3RvcFRpbWVyKCk7XHJcbiAgICAgICAgICAgIHRoaXMuZW5kZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLm5vdGlmeUV2ZW50KCdlbmRlZCcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy50aW1lclRpbWUgPSB0aW1lO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3RhcnRUaW1lciAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMudGltZXJJbnRlcnZhbCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubm90aWZ5RXZlbnQoJ3BsYXknKTtcclxuICAgICAgICB0aGlzLnRpbWVyVGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG4gICAgICAgIHRoaXMudGltZXJJbnRlcnZhbCA9IHNldEludGVydmFsKHRoaXMudXBkYXRlQ3VycmVudFRpbWUuYmluZCh0aGlzKSwgMjAwKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHN0b3BUaW1lciAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMudGltZXJJbnRlcnZhbCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubm90aWZ5RXZlbnQoJ3BhdXNlJyk7XHJcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVySW50ZXJ2YWwpO1xyXG4gICAgICAgIHRoaXMudGltZXJJbnRlcnZhbCA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gI2VuZHJlZ2lvbiBQUklWQVRFIEZVTkNUSU9OU1xyXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gICAgXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEltYWdlUGxheWVyO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///22\n")}])}));